{"id":321,"date":"2026-02-15","title":"PR #366 R6 — Shared Symlink Guard + Self-Healing Cooldown + Bug Fixes","source":"qodo","pr":366,"patterns":["shared-symlink-helper","self-healing-future-timestamps","toctou-race","milestone-string-bug","hook-output-protocol"],"fixed":0,"deferred":0,"rejected":2,"critical":0,"major":2,"minor":9,"trivial":1,"total":14,"learnings":["Created shared `.claude/hooks/lib/symlink-guard.js` with"]}
{"id":322,"date":"2026-02-15","title":"PR #366 R7 — Comprehensive Symlink Guard Hardening","source":"qodo","pr":366,"patterns":[],"fixed":9,"deferred":0,"rejected":3,"critical":0,"major":0,"minor":0,"trivial":0,"total":12,"learnings":["Every atomic write needs `isSafeToWrite()` on BOTH the target","When introducing a shared security helper, audit ALL write paths in"]}
{"id":324,"date":"2026-02-16","title":"PR #367 R1 — Alerts Overhaul Security + Code Quality","source":"sonarcloud+qodo","pr":367,"patterns":[],"fixed":36,"deferred":7,"rejected":7,"critical":0,"major":0,"minor":0,"trivial":0,"total":30,"learnings":["SonarCloud (24) + Qodo PR Compliance (6) + Qodo Code Suggestions","Parallel 3-agent review processing (security / code quality / hooks+docs)","First use of propagation check on new scripts added in same PR","SonarCloud cognitive complexity deferrals (6 items, all pre-existing CC 16-64)"],"sourceBreakdown":"SonarCloud (24) + Qodo PR Compliance (6) + Qodo Code Suggestions"}
{"id":325,"date":"2026-02-16","title":"PR #367 R2 — Trend Bug, Suppression Logic, Security Hardening","source":"sonarcloud+qodo+ci","pr":367,"patterns":["r1-agent-incomplete-fixes","exit-trap-overwrite","category-wide-suppression-blocked"],"fixed":21,"deferred":6,"rejected":5,"critical":0,"major":7,"minor":12,"trivial":2,"total":40,"learnings":["CI (Prettier) + SonarCloud (15) + Qodo PR Compliance (5) + Qodo Code","Parallel agent results need explicit verification against the original item","Shell EXIT trap chaining requires capturing previous trap with `trap -p EXIT`","SonarCloud cognitive complexity items are consistently pre-existing (CC 16-64)"]}
{"id":326,"date":"2026-02-16","title":"PR #367 R3 — Weight Normalization, CC Reduction, Symlink Guards","source":"sonarcloud+qodo","pr":367,"patterns":["tool-conflict-resolution","cc-reduction-via-extraction","type-safe-defensive-coding"],"fixed":8,"deferred":6,"rejected":3,"critical":0,"major":0,"minor":0,"trivial":0,"total":0,"learnings":["SonarCloud (11) + Qodo PR Compliance (2) + Qodo Code Suggestions (8)","When tools conflict (SonarCloud vs pattern compliance), document the conflict","Health score weight normalization is already handled by `measuredWeight`","Deduplicating extracted learnings with a Set prevents data quality issues in"]}
{"id":327,"date":"2026-02-16","title":"PR #367 R4 — Fail Closed, Log Injection, Trap Chaining, Input Normalization","source":"sonarcloud+qodo","pr":367,"patterns":["fail-closed-security","log-injection-prevention","shell-trap-chaining"],"fixed":13,"deferred":6,"rejected":4,"critical":0,"major":0,"minor":0,"trivial":0,"total":0,"learnings":["SonarCloud (9) + Qodo PR Compliance (5) + Qodo Code Suggestions (10)","Fail-open fallbacks for security modules are a recurring anti-pattern","Shell EXIT traps must be chained, not overwritten","Running validate-audit.js twice is wasteful; capture output once"]}
{"id":328,"date":"2026-02-16","title":"PR #367 R5 — Suppression Validation, POSIX Portability, Newline Propagation","source":"sonarcloud+qodo","pr":367,"patterns":["suppression-type-guard","posix-portability","propagation-miss","enoent-preservation"],"fixed":9,"deferred":6,"rejected":2,"critical":0,"major":0,"minor":0,"trivial":0,"total":0,"learnings":["SonarCloud (8) + Qodo PR Compliance (5) + Qodo Code Suggestions (9)","Propagation checks must cover BOTH shell hooks AND JS scripts that handle the","Suppression files are external input — always validate entry types before"]}
{"id":329,"date":"2026-02-16","title":"PR #367 R6 — Control Chars, suppressAll, POSIX CR Fix, Severity Normalization","source":"sonarcloud+qodo","pr":367,"patterns":["control-char-length-validation","suppressall-explicit-flag","posix-cr-detection","severity-normalization"],"fixed":5,"deferred":6,"rejected":2,"critical":0,"major":0,"minor":0,"trivial":0,"total":0,"learnings":["SonarCloud (8) + Qodo Compliance (3) + Qodo Suggestions (5)","Control character validation catches more injection vectors than just CR/LF","Category-wide suppression is a dangerous footgun — require explicit opt-in","Shell portability: `$'...'` ANSI-C quoting is bash-only, not POSIX sh","Propagation of validation patterns across all 3 JS scripts + 2 shell hooks"]}
{"id":330,"date":"2026-02-16","title":"PR #367 R7 — codePointAt, suppressAll Category Guard, Code Fence Parsing, EXIT Trap","source":"sonarcloud+qodo","pr":367,"patterns":["codepointat-vs-charcodeat","suppressall-requires-category","code-fence-awareness","posix-exit-trap-chaining","shell-control-char-validation"],"fixed":8,"deferred":6,"rejected":2,"critical":0,"major":0,"minor":0,"trivial":0,"total":0,"learnings":["SonarCloud (11) + Qodo Compliance (2) + Qodo Suggestions (8)","Category-wide suppression needs both `suppressAll: true` AND a valid category","Markdown parsing must account for code fences to avoid false header matches","Shell trap chaining via sed is fragile; a helper function is more maintainable","Always propagate validation patterns from JS to shell hooks and vice versa"]}
{"id":331,"date":"2026-02-16","title":"PR #368 R3 — Symlink Hardening, shell:true Elimination, Ternary Extract","source":"sonarcloud+qodo","pr":368,"patterns":["symlink-guard-must-check-file-and-directory","shelltrue-cmd-suffix-on-windows","nested-ternaries-are-sonarcloud-code-smells","capture-error-in-catch-blocks","truncate-user-supplied-audit-fields","spawnsync-needs-statuserror-checks"],"fixed":12,"deferred":0,"rejected":0,"critical":0,"major":0,"minor":0,"trivial":0,"total":13,"learnings":["SonarCloud (1) + Qodo Compliance (5) + Qodo Suggestions (7)","Round 2 found the symlink guard from R1 was incomplete (checked dir but not","The shell:true issue persisted across 4 compliance rounds because the fix was","Non-canonical categories in TDMS examples (`cross-domain`) would break"],"sourceBreakdown":"SonarCloud (1) + Qodo Compliance (5) + Qodo Suggestions (7)"}
{"id":332,"date":"2026-02-16","title":"PR #368 R4 — DoS Length Check, Fingerprint Stability, File Perms","source":"sonarcloud+qodo","pr":368,"patterns":["length-check-before-expensive-iteration","deterministic-fingerprint-generation","restrictive-file-permissions-on-audit-logs","schema-alignment-fingerprint-vs-id"],"fixed":8,"deferred":0,"rejected":4,"critical":0,"major":0,"minor":0,"trivial":0,"total":12,"learnings":["SonarCloud (2) + Qodo Compliance (5) + Qodo Suggestions (5)","Qodo compliance continues to flag SKIP_REASON persistence as a risk across","The symlink guard ancestor-directory claim is incorrect — `realpathSync`"],"sourceBreakdown":"SonarCloud (2) + Qodo Compliance (5) + Qodo Suggestions (5)"}
{"id":333,"date":"2026-02-16","title":"PR #368 R5 — TOCTOU fd-Write, Argument Injection, Symlink Directory Guard","source":"sonarcloud+qodo","pr":368,"patterns":["toctou-in-file-creation-write","argument-injection-via-concatenated-flags","symlink-directory-pre-check","dont-propagate-invalid-input"],"fixed":8,"deferred":0,"rejected":4,"critical":0,"major":0,"minor":0,"trivial":0,"total":13,"learnings":["Qodo Compliance (3) + Qodo Suggestions (9) + SonarCloud (1)","SonarCloud Security Hotspot matched the TOCTOU race already identified by Qodo","Qodo compliance continues to flag SKIP_REASON stdout logging (R3, R4, R5) —","The `e?.cause?.code` pattern for Node.js error chain traversal improves"],"sourceBreakdown":"Qodo Compliance (3) + Qodo Suggestions (9) + SonarCloud (1)"}
{"id":334,"date":"2026-02-16","title":"PR #368 R6 — fstatSync fd Validation, Empty-Reason-on-Failure, EXIT Trap Robustness","source":"sonarcloud+qodo","pr":368,"patterns":["fstatsync-after-fd-open","never-return-unsafe-values-on-validation-failure","shell-trap-chaining-via-variable-accumulation","propagation-template-changes-must-update-live-code"],"fixed":8,"deferred":0,"rejected":3,"critical":0,"major":0,"minor":0,"trivial":0,"total":10,"learnings":["Qodo Compliance (3) + Qodo Suggestions (7) + SonarCloud (2 Hotspots)","SonarCloud 2 Security Hotspots were the same TOCTOU/symlink pattern from R5.","Qodo compliance continues to flag SKIP_REASON persistence (R3-R6) — by-design,","Pseudocode in SKILL.md needs the same rigor as production code — `groupBy`"],"sourceBreakdown":"Qodo Compliance (3) + Qodo Suggestions (7) + SonarCloud (2 Hotspots)"}
{"id":336,"date":"2026-02-17","title":"PR #369 R2 — CC Reduction, Push Batching, Symlink Guards, Line Normalization","source":"sonarcloud+qodo","pr":369,"patterns":["cc-extraction-helpers","arraypush-batching","normalizereporelpath","table-column-alignment","numberisfinite-for-line-0"],"fixed":24,"deferred":0,"rejected":14,"critical":0,"major":0,"minor":0,"trivial":0,"total":5,"learnings":["SonarCloud (18 Issues + 3 Hotspots) + Qodo Compliance (5) + Qodo","S5852 regex DoS (3): Linear regex `(\\d+)\\s+commits` has no backtracking risk","S4036 PATH lookup (2): Dev CLI tools, not production server code","TOCTOU race: Acceptable for local dev tooling","JSONL data quality (6): Pre-existing entries outside PR diff scope"],"sourceBreakdown":"SonarCloud (18 Issues + 3 Hotspots) + Qodo Compliance (5) + Qodo"}
{"id":337,"date":"2026-02-17","title":"PR #369 R3 — Repo Containment, Canonical Categories, Date Validation, Write Guard","source":"sonarcloud+qodo","pr":369,"patterns":["repo-containment-for-cli-input","dir-to-canonical-category-mapping","sincedate-validation","writefilesync-trycatch","string-line-normalization-in-getfileref"],"fixed":7,"deferred":0,"rejected":5,"critical":0,"major":0,"minor":0,"trivial":0,"total":3,"learnings":["SonarCloud (1 Hotspot + 2 Issues) + Qodo Compliance (3) + Qodo"],"sourceBreakdown":"SonarCloud (1 Hotspot + 2 Issues) + Qodo Compliance (3) + Qodo"}
{"id":338,"date":"2026-02-17","title":"PR #369 R4 — realpathSync Hardening, Atomic Write, Fail-Fast JSONL","source":"sonarcloud+qodo","pr":369,"patterns":["realpathsync-lstatsync-for-path-containment","atomic-write-pattern","fail-fast-on-invalid-jsonl","early-return-on-invalid-date"],"fixed":6,"deferred":0,"rejected":6,"critical":0,"major":0,"minor":0,"trivial":0,"total":11,"learnings":[],"sourceBreakdown":"SonarCloud (1 Hotspot) + Qodo Suggestions (11) **PR/Branch:**"}
{"id":339,"date":"2026-02-17","title":"PR #369 R5 — CC Extraction, tmpFile Symlink, ISO Date Normalization","source":"sonarcloud+qodo","pr":null,"patterns":["extract-validateinputpath-for-cc-reduction","tmpfile-symlink-guard","iso-timestamp-normalization","guard---apply-loop-against-closedfiltered-items","cross-platform-atomic-rename"],"fixed":7,"deferred":0,"rejected":5,"critical":0,"major":0,"minor":0,"trivial":0,"total":2,"learnings":["SonarCloud (1 CC Issue) + Qodo Security (1) + Qodo Compliance (1) +"],"sourceBreakdown":"SonarCloud (1 CC Issue) + Qodo Security (1) + Qodo Compliance (1) +"}
{"id":340,"date":"2026-02-17","title":"PR #369 R6 — CC Extraction x2, wx Flag, Atomic writeMasterDebt, Collision Detection","source":"sonarcloud+qodo","pr":null,"patterns":["extract-guardsymlink-atomicwrite-for-cc-reduction","extract-classifyopenitems-applyresolutions-for-cc-reduction","exclusive-create-flag-wx","atomic-write-for-writemasterdebt","return-canonical-path","finding-key-collision-detection"],"fixed":7,"deferred":0,"rejected":4,"critical":0,"major":0,"minor":0,"trivial":0,"total":9,"learnings":["SonarCloud (2 CC Issues) + Qodo Security (1) + Qodo Suggestions (8)"],"sourceBreakdown":"SonarCloud (2 CC Issues) + Qodo Security (1) + Qodo Suggestions (8)"}
{"id":341,"date":"2026-02-17","title":"PR #369 R7 — CC indexByKey, Ancestor Symlink, fstatSync Forward Scan, Error -1","source":"sonarcloud+qodo","pr":null,"patterns":["extract-indexbykey-for-cc-reduction","ancestor-symlink-containment","dir-dest-symlink-guards-in-fallback","fstatsync-forward-scan","return--1-on-git-error"],"fixed":7,"deferred":0,"rejected":3,"critical":0,"major":0,"minor":0,"trivial":0,"total":4,"learnings":["SonarCloud (1 CC Issue) + Qodo Security (2) + Qodo Compliance (2) +"],"sourceBreakdown":"SonarCloud (1 CC Issue) + Qodo Security (2) + Qodo Compliance (2) +"}
{"id":342,"date":"2026-02-17","title":"PR #369 R8 — CC buildResults+statusIcon, guardSymlink+safeRename, Symlink Walk, detectAndMapFormat","source":"sonarcloud+qodo","pr":null,"patterns":["extract-buildresultsstatusicon-for-cc-reduction","extract-guardsymlinksaferename-for-cc-reduction","skip-symlinks-in-directory-walk","restrict-fstatsync-scan-to-opensync","sequential-format-detection","error-field-as-string","silent-error-in---json-mode"],"fixed":8,"deferred":0,"rejected":5,"critical":0,"major":0,"minor":0,"trivial":0,"total":3,"learnings":["SonarCloud (3 Issues) + Qodo Security (1) + Qodo Compliance (2) +"],"sourceBreakdown":"SonarCloud (3 Issues) + Qodo Security (1) + Qodo Compliance (2) +"}
{"id":343,"date":"2026-02-17","title":"PR #369 R9 — Fail-Closed guardSymlink, Non-Object Guard, Pattern Recognizer, Source ID Regex","source":"qodo","pr":null,"patterns":["fail-closed-guardsymlink","non-object-guard-in-detectandmapformat","recognize-guardsymlink-in-pattern-checker","source-id-regex-alignment","file-path-normalization-warning"],"fixed":5,"deferred":0,"rejected":4,"critical":0,"major":0,"minor":0,"trivial":0,"total":9,"learnings":[],"sourceBreakdown":"Qodo Suggestions (9) **PR/Branch:**"}
{"id":344,"date":"2026-02-17","title":"PR #370 R2 — resolve-bulk.js hardening, MASTER_DEBT data quality, orphaned ROADMAP refs","source":"sonarcloud+qodo+ci","pr":370,"patterns":["path-traversal-on-cli---output-json","sonarcloud-i-assignment","duplicated-write-blocks","orphaned-roadmap-debt-refs","lint-staged-evidence-loss","generate-viewsjs-overwrites-masterdebt"],"fixed":10,"deferred":1,"rejected":0,"critical":0,"major":0,"minor":0,"trivial":0,"total":11,"learnings":["SonarCloud (1) + Qodo Compliance (3) + Qodo Suggestions (5) + CI (2)"],"sourceBreakdown":"SonarCloud (1) + Qodo Compliance (3) + Qodo Suggestions (5) + CI (2)"}
{"id":345,"date":"2026-02-17","title":"PR #370 R3 — parseArgs CC+i refactor, writeOutputJson hardening, generate-views preservation","source":"sonarcloud+qodo","pr":370,"patterns":["for-loop-i-assignment","cc-reduction-via-extraction","symlink-check-ordering","generate-viewsjs-overwrites","cross-platform-rename","source-data-normalization"],"fixed":11,"deferred":0,"rejected":0,"critical":0,"major":0,"minor":0,"trivial":0,"total":11,"learnings":["SonarCloud (4) + Qodo Suggestions (6) + User Request (1)"],"sourceBreakdown":"SonarCloud (4) + Qodo Suggestions (6) + User Request (1)"}
{"id":346,"date":"2026-02-17","title":"PR #370 R4 — dynamic path prefix, merged defaults, unknown arg guard, negated condition","source":"sonarcloud+qodo","pr":370,"patterns":["hard-coded-path-prefix","merged-items-bypass-pipeline","unknown-args-silently-ignored","negated-condition-readability"],"fixed":8,"deferred":0,"rejected":3,"critical":0,"major":0,"minor":0,"trivial":0,"total":11,"learnings":["SonarCloud (1) + Qodo Suggestions (5) + Qodo Compliance (5)"],"sourceBreakdown":"SonarCloud (1) + Qodo Suggestions (5) + Qodo Compliance (5)"}
{"id":347,"date":"2026-02-17","title":"PR #370 R5 — TOCTOU file path, CWD-independent normalization, trailing slash preservation","source":"qodo","pr":370,"patterns":["toctou-on-validated-path","cwd-dependent-pathresolve","path-normalization-strips-trailing-slash","repeat-items-converging"],"fixed":6,"deferred":0,"rejected":3,"critical":0,"major":0,"minor":0,"trivial":0,"total":9,"learnings":[],"sourceBreakdown":"Qodo Compliance (3) + Qodo Suggestions (6) **PR/Branch:**"}
{"id":348,"date":"2026-02-17","title":"PR #371 R1+R2 — SonarCloud S5852 regex DoS, CC refactoring, atomic writes, symlink guards","source":"sonarcloud+qodo","pr":371,"patterns":["regex-dos-false-positives-s5852","cc-explosion-in-parsing-functions","atomic-write-consistency","symlink-guard-propagation","extracted-helpers-still-exceeding-cc-15","options-object-pattern"],"fixed":31,"deferred":0,"rejected":3,"critical":0,"major":0,"minor":0,"trivial":0,"total":2,"learnings":["R1: SonarCloud (10 hotspots + 12 issues) + Qodo Compliance (2) +","R1: 31/34 fixed (91%), 3/34 rejected. R2: 7/11 fixed"],"sourceBreakdown":"R1: SonarCloud (10 hotspots + 12 issues) + Qodo Compliance (2) +"}
{"id":"retro-367","type":"retrospective","pr":367,"date":"2026-02-16","rounds":7,"totalItems":193,"fixed":100,"rejected":24,"deferred":6,"churnChains":3,"automationCandidates":["CC eslint rule","shared validateSkipReason"],"skillsToUpdate":[],"processImprovements":[],"learnings":["R1-R3 productive. R4-R7 were progressive hardening ping-pong."]}
{"id":"retro-368","type":"retrospective","pr":368,"date":"2026-02-16","rounds":6,"totalItems":65,"fixed":50,"rejected":15,"deferred":0,"churnChains":5,"automationCandidates":[],"skillsToUpdate":["FIX_TEMPLATES.md","pr-review SKILL.md","CODE_PATTERNS.md"],"processImprovements":["\"Full chain\" security fixes, not incremental","Consistent rejection prevents churn","Eliminate, don't explain"],"learnings":["Create FIX_TEMPLATES.md Template #22 (\"Secure Audit"]}
{"id":"retro-369","type":"retrospective","pr":369,"date":"2026-02-17","rounds":9,"totalItems":119,"fixed":78,"rejected":41,"deferred":0,"churnChains":3,"automationCandidates":["Fail-closed catch"],"skillsToUpdate":[],"processImprovements":["IMPLEMENT THE CC RULE","Use FIX_TEMPLATES for new files","Holistic security audit on first flag","Suppress recurring rejections","Complete pattern checker modifications in one pass"],"learnings":[]}
{"id":"retro-370","type":"retrospective","pr":370,"date":"2026-02-17","rounds":5,"totalItems":53,"fixed":46,"rejected":3,"deferred":1,"churnChains":0,"automationCandidates":["CC >15"],"skillsToUpdate":[],"processImprovements":["Path normalization needs a test matrix","CLI arg validation: always include catch-all else","Store validated forms, not raw input","Retro action items MUST be tracked in TDMS"],"learnings":[]}
{"id":349,"date":"2026-02-17","title":"PR #371 R3 — Argument Injection, Suppression Scope, Pipeline Robustness","source":"qodo","pr":371,"patterns":["unquoted-shell-variable-in-command","qodo-suppression-scope-mismatch","grep-pipeline-not-failsafe"],"fixed":5,"deferred":0,"rejected":1,"critical":0,"major":1,"minor":2,"trivial":0,"total":7,"learnings":["Unquoted $staged_js in npx eslint enables argument injection via crafted filenames","printf|xargs with -- separator handles both word-splitting and flag injection","Qodo pr_compliance_checker has separate scope from pr_reviewer — both need matching rules","Pipeline commands in hooks should use || true when running under set -e"]}
