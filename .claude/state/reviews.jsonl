{"id":341,"date":"2026-02-17","title":"PR #369 R7 — CC indexByKey, Ancestor Symlink, fstatSync Forward Scan, Error -1","source":"sonarcloud+qodo","pr":null,"patterns":["extract-indexbykey-for-cc-reduction","ancestor-symlink-containment","dir-dest-symlink-guards-in-fallback","fstatsync-forward-scan","return--1-on-git-error"],"fixed":7,"deferred":0,"learnings":["SonarCloud (1 CC Issue) + Qodo Security (2) + Qodo Compliance (2) +"]}
{"id":342,"date":"2026-02-17","title":"PR #369 R8 — CC buildResults+statusIcon, guardSymlink+safeRename, Symlink Walk, detectAndMapFormat","source":"sonarcloud+qodo","pr":null,"patterns":["extract-buildresultsstatusicon-for-cc-reduction","extract-guardsymlinksaferename-for-cc-reduction","skip-symlinks-in-directory-walk","restrict-fstatsync-scan-to-opensync","sequential-format-detection","error-field-as-string","silent-error-in---json-mode"],"fixed":8,"deferred":0,"learnings":["SonarCloud (3 Issues) + Qodo Security (1) + Qodo Compliance (2) +"]}
{"id":343,"date":"2026-02-17","title":"PR #369 R9 — Fail-Closed guardSymlink, Non-Object Guard, Pattern Recognizer, Source ID Regex","source":"qodo","pr":null,"patterns":["fail-closed-guardsymlink","non-object-guard-in-detectandmapformat","recognize-guardsymlink-in-pattern-checker","source-id-regex-alignment","file-path-normalization-warning"],"fixed":5,"deferred":0,"learnings":["Qodo Suggestions (9) **PR/Branch:**"]}
{"id":307,"date":"2026-02-12","title":"PR #362 R3 — SonarCloud Negated Condition + File Path Warning Guard","source":"sonarcloud+qodo","pr":362,"patterns":[],"fixed":0,"deferred":0,"learnings":["Qodo Compliance (3) + Qodo Suggestions (5) + SonarCloud (1)","PR #362 (claude/new-session-uaNwX) **Suggestions:** 9 total (Fix:","Prevention: Put positive/meaningful case first with `=== undefined`","Prevention: Guard with `normalizedFile &&` before validation","Fixed: SC-1 (flip negated condition L128), QS-5 (guard file path warning)","Dismissed: CMP-1 (operator field already present since R1), CMP-2 (historical","SonarCloud \"unexpected negated condition\" catches real readability issues"]}
{"id":308,"date":"2026-02-12","title":"PR #362 R4 — ReDoS Fix, Cognitive Complexity, Cross-Validation, Atomic Writes","source":"sonarcloud+qodo","pr":362,"patterns":["cross-validation-must-apply-mismatch-not-just-warn","cognitive-complexity-reduction-via-function-extraction","backup-swap-atomic-write-with-tryfinally-cleanup","replaceall-over-replace-with-g-flag","regex-operator-precedence----needs---","capture-output-once-in-shell-hooks"],"fixed":0,"deferred":0,"learnings":["SonarCloud (1 CRITICAL) + Qodo Compliance (6) + Qodo Suggestions","PR #362 (claude/new-session-uaNwX) **Suggestions:** 18 total"]}
{"id":309,"date":"2026-02-12","title":"PR #362 R5 — ReDoS Overlapping Quantifiers, Complexity Extraction, Multiline Regex","source":"sonarcloud+qodo","pr":362,"patterns":["cognitive-complexity-reduction-via-standalone-function-extra","jsonstringify-over-manual-string-escaping-in-templates","scope-regex-character-classes-to-single-lines-with-n","shell-if-varcmd-for-set--e-safety"],"fixed":0,"deferred":0,"learnings":["SonarCloud (2 S5852 + 3 code smells) + Qodo Suggestions (8)","PR #362 (claude/new-session-uaNwX) **Suggestions:** 13 total"]}
{"id":310,"date":"2026-02-13","title":"Qodo PR Suggestions — Alerts v3 Health Score, Edge Cases, Path Normalization","source":"qodo","pr":null,"patterns":[],"fixed":3,"deferred":1,"learnings":["Qodo PR Code Suggestions **PR/Branch:**","Root cause: `continue` on missing categories + dynamic `totalWeight`","Prevention: Always normalize against fixed total possible weight","Root cause: No parent commit to diff against","Prevention: Fallback to empty tree hash","Root cause: Audit tool outputs Windows paths","Prevention: Normalize at ingest time"]}
{"id":311,"date":"2026-02-14","title":"SonarCloud + Qodo — PR #365 Audit Ecosystem Branch","source":"sonarcloud+qodo","pr":365,"patterns":[],"fixed":33,"deferred":0,"learnings":["SonarCloud Issues/Hotspots + Qodo PR Suggestions + Qodo Compliance","Root cause: PATTERN_KEYWORDS array uses `/gi` flags","Prevention: Always reset `lastIndex = 0` or use `exec()` pattern","Root cause: Unix-first development, untested Windows paths","Prevention: Always normalize with `replaceAll(\"\\\\\", \"/\")` in hooks","Root cause: Using single regex alternation for file exclusion lists","Prevention: Use `pathExcludeList` (string array) instead of regex"]}
{"id":312,"date":"2026-02-14","title":"CI Regex Complexity + Qodo R2 — PR #365","source":"sonarcloud+qodo","pr":365,"patterns":[],"fixed":8,"deferred":0,"learnings":["SonarCloud Code Smell + Qodo PR Suggestions **PR/Branch:**","Root cause: `(?=\\r?\\n\\r?\\n|\\r?\\n##|\\r?\\n---)` — 3 alternatives with shared","Fix: `(?=\\r?\\n(?:\\r?\\n|##|---))` — factor out common `\\r?\\n`","Root cause: Regex not constrained to header area","Prevention: Slice content to header area (first 4000 chars) before matching","Fixed: 8 items across 5 files"]}
{"id":313,"date":"2026-02-14","title":"CI Feedback + Qodo R3 — Orphaned DEBT + Bounded Regex","source":"qodo+ci","pr":365,"patterns":[],"fixed":11,"deferred":0,"learnings":["CI Failures + Qodo PR Suggestions **PR/Branch:**","Root cause: Dedup heuristic too aggressive on similar entries","Prevention: Cross-check ROADMAP.md references before dedup","Root cause: Direct object spread from parsed config","Prevention: Use `Object.create(null)` + skip dangerous keys","Root cause: Regex assumes `##` directly followed by whitespace+text","Prevention: Use `##\\s*(?:[^\\w\\r\\n]+\\s*)?Name` for emoji tolerance"]}
{"id":314,"date":"2026-02-14","title":"SonarCloud Regex Hotspots + Qodo Robustness R4 — PR #365","source":"sonarcloud+qodo","pr":365,"patterns":[],"fixed":13,"deferred":0,"learnings":["SonarCloud Security Hotspots (S5852) + Qodo PR Suggestions + Qodo","Root cause: Function kept as stub but regex not removed","Prevention: When disabling a check, remove the regex too","Root cause: Off-by-one in O(n) optimization from Review #255","Prevention: Always set `lastIdx = match.index + match[0].length`","Root cause: Alternatives added incrementally without refactoring","Prevention: Factor common prefixes in regex alternations"]}
{"id":315,"date":"2026-02-14","title":"SonarCloud + Qodo R5 — Residual Regex, Stack Traces, Windows Compat","source":"sonarcloud+qodo","pr":365,"patterns":[],"fixed":13,"deferred":0,"learnings":["SonarCloud Security Hotspots (S5852) + Qodo PR Suggestions + Qodo","Root cause: Incomplete sanitization — caught + logged but then rethrown","Prevention: Use `process.exit(1)` instead of `throw` when error is fatal","Root cause: Regex was the initial tool; never reconsidered as complexity","Prevention: For section extraction, prefer split-and-scan over regex","Root cause: Pattern added in Review #255 without Windows testing","Prevention: Always `unlinkSync(dest)` before `renameSync(src, dest)`"]}
{"id":316,"date":"2026-02-14","title":"PR #366 R1 — SonarCloud Regex + Qodo Robustness + CI Blockers","source":"sonarcloud+qodo","pr":366,"patterns":[],"fixed":0,"deferred":6,"learnings":["SonarCloud Security Hotspots (S5852) + Qodo PR Suggestions + Qodo","New: `testFn` alternative to `pattern` field in pattern compliance checker"]}
{"id":317,"date":"2026-02-15","title":"PR #366 R2 — SonarCloud Two-Strikes + Qodo Robustness","source":"sonarcloud+qodo","pr":366,"patterns":["sonarcloud-s5852-two-strikes-rule-applied","git-status---porcelain--z-renamecopy-parse-bug","defensive-state-shape-normalization","atomic-write-consistency","numberisfinite-guard-for-timestamp-purging"],"fixed":0,"deferred":3,"learnings":["SonarCloud Security Hotspots (S5852) + Qodo PR Suggestions + Qodo","Two-strikes regex→string (2), rename/copy parse (1), sprint type","DEBT-2957 (project dir escape — architectural), DEBT-2958"]}
{"id":318,"date":"2026-02-15","title":"PR #366 R3 — Atomic Write Hardening + State Normalization","source":"qodo","pr":366,"patterns":["backup-swap-atomic-writes","mkdirsync-before-atomic-write","state-shape-normalization","git-porcelain-record-validation","numberisfinite-guards"],"fixed":0,"deferred":4,"learnings":["Qodo PR Compliance + Code Suggestions **PR/Branch:**","DEBT-2960 (symlink overwrite in rotate-state.js —","Chunk-based line counting for large-context-warning.js — byte"]}
{"id":319,"date":"2026-02-15","title":"PR #366 R4 — Symlink Guard + Future Timestamp + Skip-Abuse Bug","source":"qodo","pr":366,"patterns":["symlink-write-guard-in-savejson","future-timestamp-defense","skip-abuse-alert-24h7d-data-mismatch-bug","crlf-jsonl-parsing-on-windows","consistent-caps-on-file-lists"],"fixed":0,"deferred":0,"learnings":["Qodo PR Compliance + Code Suggestions **PR/Branch:**","Symlink guard (1), future timestamp (1), skip-abuse bug (1), CRLF","DEBT-2957 (env path trust), DEBT-2958 (audit trails),"]}
{"id":320,"date":"2026-02-15","title":"PR #366 R5 — Parent Dir Symlink + Clock Skew + Prototype Pollution","source":"qodo","pr":366,"patterns":["parent-directory-symlink-attack","clock-skew-defense","prototype-pollution-via-counter-objects","symlink-check-on-reads","size-based-rotation-guard"],"fixed":0,"deferred":0,"learnings":["Qodo PR Compliance + Code Suggestions **PR/Branch:**","Same files appearing 3+ consecutive rounds — holistic"]}
{"id":321,"date":"2026-02-15","title":"PR #366 R6 — Shared Symlink Guard + Self-Healing Cooldown + Bug Fixes","source":"qodo","pr":366,"patterns":["shared-symlink-helper","self-healing-future-timestamps","toctou-race","milestone-string-bug","hook-output-protocol"],"fixed":0,"deferred":0,"learnings":["Qodo PR Compliance + Code Suggestions **PR/Branch:**","Created shared `.claude/hooks/lib/symlink-guard.js` with"]}
{"id":322,"date":"2026-02-15","title":"PR #366 R7 — Comprehensive Symlink Guard Hardening","source":"qodo","pr":366,"patterns":[],"fixed":9,"deferred":0,"learnings":["Qodo PR Compliance + Code Suggestions **PR/Branch:**","Every atomic write needs `isSafeToWrite()` on BOTH the target","When introducing a shared security helper, audit ALL write paths in"]}
{"id":324,"date":"2026-02-16","title":"PR #367 R1 — Alerts Overhaul Security + Code Quality","source":"sonarcloud+qodo","pr":367,"patterns":[],"fixed":36,"deferred":7,"learnings":["SonarCloud (24) + Qodo PR Compliance (6) + Qodo Code Suggestions","Parallel 3-agent review processing (security / code quality / hooks+docs)","First use of propagation check on new scripts added in same PR","SonarCloud cognitive complexity deferrals (6 items, all pre-existing CC 16-64)"]}
{"id":325,"date":"2026-02-16","title":"PR #367 R2 — Trend Bug, Suppression Logic, Security Hardening","source":"sonarcloud+qodo+ci","pr":367,"patterns":["r1-agent-incomplete-fixes","exit-trap-overwrite","category-wide-suppression-blocked"],"fixed":21,"deferred":6,"learnings":["CI (Prettier) + SonarCloud (15) + Qodo PR Compliance (5) + Qodo Code","Parallel agent results need explicit verification against the original item","Shell EXIT trap chaining requires capturing previous trap with `trap -p EXIT`","SonarCloud cognitive complexity items are consistently pre-existing (CC 16-64)"]}
{"id":326,"date":"2026-02-16","title":"PR #367 R3 — Weight Normalization, CC Reduction, Symlink Guards","source":"sonarcloud+qodo","pr":367,"patterns":["tool-conflict-resolution","cc-reduction-via-extraction","type-safe-defensive-coding"],"fixed":8,"deferred":6,"learnings":["SonarCloud (11) + Qodo PR Compliance (2) + Qodo Code Suggestions (8)","When tools conflict (SonarCloud vs pattern compliance), document the conflict","Health score weight normalization is already handled by `measuredWeight`","Deduplicating extracted learnings with a Set prevents data quality issues in"]}
{"id":327,"date":"2026-02-16","title":"PR #367 R4 — Fail Closed, Log Injection, Trap Chaining, Input Normalization","source":"sonarcloud+qodo","pr":367,"patterns":["fail-closed-security","log-injection-prevention","shell-trap-chaining"],"fixed":13,"deferred":6,"learnings":["SonarCloud (9) + Qodo PR Compliance (5) + Qodo Code Suggestions (10)","Fail-open fallbacks for security modules are a recurring anti-pattern","Shell EXIT traps must be chained, not overwritten","Running validate-audit.js twice is wasteful; capture output once"]}
{"id":328,"date":"2026-02-16","title":"PR #367 R5 — Suppression Validation, POSIX Portability, Newline Propagation","source":"sonarcloud+qodo","pr":367,"patterns":["suppression-type-guard","posix-portability","propagation-miss","enoent-preservation"],"fixed":9,"deferred":6,"learnings":["SonarCloud (8) + Qodo PR Compliance (5) + Qodo Code Suggestions (9)","Propagation checks must cover BOTH shell hooks AND JS scripts that handle the","Suppression files are external input — always validate entry types before"]}
{"id":329,"date":"2026-02-16","title":"PR #367 R6 — Control Chars, suppressAll, POSIX CR Fix, Severity Normalization","source":"sonarcloud+qodo","pr":367,"patterns":["control-char-length-validation","suppressall-explicit-flag","posix-cr-detection","severity-normalization"],"fixed":5,"deferred":6,"learnings":["SonarCloud (8) + Qodo Compliance (3) + Qodo Suggestions (5)","Control character validation catches more injection vectors than just CR/LF","Category-wide suppression is a dangerous footgun — require explicit opt-in","Shell portability: `$'...'` ANSI-C quoting is bash-only, not POSIX sh","Propagation of validation patterns across all 3 JS scripts + 2 shell hooks"]}
{"id":330,"date":"2026-02-16","title":"PR #367 R7 — codePointAt, suppressAll Category Guard, Code Fence Parsing, EXIT Trap","source":"sonarcloud+qodo","pr":367,"patterns":["codepointat-vs-charcodeat","suppressall-requires-category","code-fence-awareness","posix-exit-trap-chaining","shell-control-char-validation"],"fixed":8,"deferred":6,"learnings":["SonarCloud (11) + Qodo Compliance (2) + Qodo Suggestions (8)","Category-wide suppression needs both `suppressAll: true` AND a valid category","Markdown parsing must account for code fences to avoid false header matches","Shell trap chaining via sed is fragile; a helper function is more maintainable","Always propagate validation patterns from JS to shell hooks and vice versa"]}
{"id":331,"date":"2026-02-16","title":"PR #368 R3 — Symlink Hardening, shell:true Elimination, Ternary Extract","source":"sonarcloud+qodo","pr":368,"patterns":["symlink-guard-must-check-file-and-directory","shelltrue-cmd-suffix-on-windows","nested-ternaries-are-sonarcloud-code-smells","capture-error-in-catch-blocks","truncate-user-supplied-audit-fields","spawnsync-needs-statuserror-checks"],"fixed":12,"deferred":0,"learnings":["SonarCloud (1) + Qodo Compliance (5) + Qodo Suggestions (7)","Round 2 found the symlink guard from R1 was incomplete (checked dir but not","The shell:true issue persisted across 4 compliance rounds because the fix was","Non-canonical categories in TDMS examples (`cross-domain`) would break"]}
{"id":332,"date":"2026-02-16","title":"PR #368 R4 — DoS Length Check, Fingerprint Stability, File Perms","source":"sonarcloud+qodo","pr":368,"patterns":["length-check-before-expensive-iteration","deterministic-fingerprint-generation","restrictive-file-permissions-on-audit-logs","schema-alignment-fingerprint-vs-id"],"fixed":8,"deferred":0,"learnings":["SonarCloud (2) + Qodo Compliance (5) + Qodo Suggestions (5)","Qodo compliance continues to flag SKIP_REASON persistence as a risk across","The symlink guard ancestor-directory claim is incorrect — `realpathSync`"]}
{"id":333,"date":"2026-02-16","title":"PR #368 R5 — TOCTOU fd-Write, Argument Injection, Symlink Directory Guard","source":"sonarcloud+qodo","pr":368,"patterns":["toctou-in-file-creation-write","argument-injection-via-concatenated-flags","symlink-directory-pre-check","dont-propagate-invalid-input"],"fixed":8,"deferred":0,"learnings":["Qodo Compliance (3) + Qodo Suggestions (9) + SonarCloud (1)","SonarCloud Security Hotspot matched the TOCTOU race already identified by Qodo","Qodo compliance continues to flag SKIP_REASON stdout logging (R3, R4, R5) —","The `e?.cause?.code` pattern for Node.js error chain traversal improves"]}
{"id":334,"date":"2026-02-16","title":"PR #368 R6 — fstatSync fd Validation, Empty-Reason-on-Failure, EXIT Trap Robustness","source":"sonarcloud+qodo","pr":368,"patterns":["fstatsync-after-fd-open","never-return-unsafe-values-on-validation-failure","shell-trap-chaining-via-variable-accumulation","propagation-template-changes-must-update-live-code"],"fixed":8,"deferred":0,"learnings":["Qodo Compliance (3) + Qodo Suggestions (7) + SonarCloud (2 Hotspots)","SonarCloud 2 Security Hotspots were the same TOCTOU/symlink pattern from R5.","Qodo compliance continues to flag SKIP_REASON persistence (R3-R6) — by-design,","Pseudocode in SKILL.md needs the same rigor as production code — `groupBy`"]}
