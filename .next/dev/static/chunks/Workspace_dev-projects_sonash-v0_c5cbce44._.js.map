{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jason/Workspace/dev-projects/sonash-v0/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\n\r\nexport { app, auth, db };\r\n"],"names":[],"mappings":";;;;;;;;AAKY;AALZ;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACT;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,6RAAO,IAAG,MAAM,KAAK,IAAI,IAAA,mSAAa,EAAC,kBAAkB,IAAA,6RAAO,GAAE,CAAC,EAAE;AACjF,MAAM,OAAO,IAAA,4TAAO,EAAC;AACrB,MAAM,KAAK,IAAA,0UAAY,EAAC"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jason/Workspace/dev-projects/sonash-v0/components/providers/auth-provider.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { createContext, useContext, useEffect, useState } from \"react\"\r\nimport { onAuthStateChanged, User, signInAnonymously } from \"firebase/auth\"\r\nimport { auth } from \"@/lib/firebase\"\r\n\r\ninterface AuthContextType {\r\n    user: User | null\r\n    loading: boolean\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType>({ user: null, loading: true })\r\n\r\nexport const useAuth = () => useContext(AuthContext)\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n    const [user, setUser] = useState<User | null>(null)\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n            setUser(user)\r\n            setLoading(false)\r\n        })\r\n\r\n        // Auto sign-in anonymously for MVP if not logged in\r\n        // This removes friction for testing \"My Journal\" immediately\r\n        if (!auth.currentUser) {\r\n            signInAnonymously(auth).catch((error) => {\r\n                console.error(\"Auto-signin failed\", error)\r\n            })\r\n        }\r\n\r\n        return () => unsubscribe()\r\n    }, [])\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, loading }}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AACA;;;AAJA;;;;AAWA,MAAM,4BAAc,IAAA,6VAAa,EAAkB;IAAE,MAAM;IAAM,SAAS;AAAK;AAExE,MAAM,UAAU;;IAAM,OAAA,IAAA,0VAAU,EAAC;AAAW;GAAtC;AAEN,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACpE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wVAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wVAAQ,EAAC;IAEvC,IAAA,yVAAS;kCAAC;YACN,MAAM,cAAc,IAAA,uUAAkB,EAAC,0KAAI;sDAAE,CAAC;oBAC1C,QAAQ;oBACR,WAAW;gBACf;;YAEA,oDAAoD;YACpD,6DAA6D;YAC7D,IAAI,CAAC,0KAAI,CAAC,WAAW,EAAE;gBACnB,IAAA,sUAAiB,EAAC,0KAAI,EAAE,KAAK;8CAAC,CAAC;wBAC3B,QAAQ,KAAK,CAAC,sBAAsB;oBACxC;;YACJ;YAEA;0CAAO,IAAM;;QACjB;iCAAG,EAAE;IAEL,qBACI,4WAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBACxC,CAAC,WAAW;;;;;;AAGzB;IA1BgB;KAAA"}}]
}