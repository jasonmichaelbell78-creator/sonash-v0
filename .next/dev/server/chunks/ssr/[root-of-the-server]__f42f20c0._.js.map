{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jason/Workspace/dev-projects/sonash-v0/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\n\r\nexport { app, auth, db };\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACT;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,0RAAO,IAAG,MAAM,KAAK,IAAI,IAAA,gSAAa,EAAC,kBAAkB,IAAA,0RAAO,GAAE,CAAC,EAAE;AACjF,MAAM,OAAO,IAAA,iUAAO,EAAC;AACrB,MAAM,KAAK,IAAA,yUAAY,EAAC"}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jason/Workspace/dev-projects/sonash-v0/components/providers/auth-provider.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { createContext, useContext, useEffect, useState } from \"react\"\r\nimport { onAuthStateChanged, User, signInAnonymously } from \"firebase/auth\"\r\nimport { auth } from \"@/lib/firebase\"\r\n\r\ninterface AuthContextType {\r\n    user: User | null\r\n    loading: boolean\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType>({ user: null, loading: true })\r\n\r\nexport const useAuth = () => useContext(AuthContext)\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n    const [user, setUser] = useState<User | null>(null)\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n            setUser(user)\r\n            setLoading(false)\r\n        })\r\n\r\n        // Auto sign-in anonymously for MVP if not logged in\r\n        // This removes friction for testing \"My Journal\" immediately\r\n        if (!auth.currentUser) {\r\n            signInAnonymously(auth).catch((error) => {\r\n                console.error(\"Auto-signin failed\", error)\r\n            })\r\n        }\r\n\r\n        return () => unsubscribe()\r\n    }, [])\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, loading }}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAWA,MAAM,4BAAc,IAAA,qYAAa,EAAkB;IAAE,MAAM;IAAM,SAAS;AAAK;AAExE,MAAM,UAAU,IAAM,IAAA,kYAAU,EAAC;AAEjC,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACpE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gYAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gYAAQ,EAAC;IAEvC,IAAA,iYAAS,EAAC;QACN,MAAM,cAAc,IAAA,4UAAkB,EAAC,uKAAI,EAAE,CAAC;YAC1C,QAAQ;YACR,WAAW;QACf;QAEA,oDAAoD;QACpD,6DAA6D;QAC7D,IAAI,CAAC,uKAAI,CAAC,WAAW,EAAE;YACnB,IAAA,2UAAiB,EAAC,uKAAI,EAAE,KAAK,CAAC,CAAC;gBAC3B,QAAQ,KAAK,CAAC,sBAAsB;YACxC;QACJ;QAEA,OAAO,IAAM;IACjB,GAAG,EAAE;IAEL,qBACI,6ZAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBACxC,CAAC,WAAW;;;;;;AAGzB"}}]
}