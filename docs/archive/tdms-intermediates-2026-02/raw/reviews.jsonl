{"source_id":"review:CANON-0034","source_file":"docs/reviews/2026-Q1/canonical/CANON-SECURITY.jsonl","original_id":"CANON-0034","category":"security","severity":"S0","type":"vulnerability","file":"firestore.rules","line":0,"title":"Legacy journalEntries collection allows direct client writes (bypasses Functions validation/rate limits)","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["firestore.rules allows owner create/update on /users/{userId}/journalEntries/{entryId} (both models)."],"sources":[],"merged_from":[{"model":"Claude Opus 4.5","severity":"S0","confidence":100},{"model":"ChatGPT 5.2","severity":"S1","confidence":100}],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0035","source_file":"docs/reviews/2026-Q1/canonical/CANON-SECURITY.jsonl","original_id":"CANON-0035","category":"security","severity":"S1","type":"vulnerability","file":"functions/src/security-wrapper.ts","line":0,"title":"reCAPTCHA token missing does not block requests (logs but continues)","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Wrapper logs missing token but continues processing (Claude Opus evidence)."],"sources":[],"merged_from":[{"model":"Claude Opus 4.5","severity":"S1","confidence":100}],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0036","source_file":"docs/reviews/2026-Q1/canonical/CANON-SECURITY.jsonl","original_id":"CANON-0036","category":"security","severity":"S1","type":"vulnerability","file":"functions/src/security-wrapper.ts","line":0,"title":"Rate limiting is incomplete (no IP throttling, admin endpoints unthrottled, inconsistent 429-equivalent handling)","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Admin callables have no limiter (both models).","Limiter keyed by userId only; no IP-based throttling (ChatGPT 5.2).","Limiter/wrapper mismatch can surface internal errors instead of stable resource-exhausted/429-equivalent (ChatGPT 5.2)."],"sources":[],"merged_from":[{"model":"Claude Opus 4.5","severity":"S1","confidence":100},{"model":"ChatGPT 5.2","severity":"S1","confidence":100}],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0037","source_file":"docs/reviews/2026-Q1/canonical/CANON-SECURITY.jsonl","original_id":"CANON-0037","category":"security","severity":"S2","type":"vulnerability","file":"functions/src/schemas.ts","line":0,"title":"Zod schemas missing .strict() (unknown fields accepted)","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["No .strict() usage reported by both models; unknown fields accepted."],"sources":[],"merged_from":[{"model":"Claude Opus 4.5","severity":"S2","confidence":100},{"model":"ChatGPT 5.2","severity":"S2","confidence":95}],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0038","source_file":"docs/reviews/2026-Q1/canonical/CANON-SECURITY.jsonl","original_id":"CANON-0038","category":"security","severity":"S2","type":"vulnerability","file":"functions/src/recaptcha-verify.ts","line":0,"title":"Hardcoded fallback reCAPTCHA site key in server verification code (config integrity/rotation risk)","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["ChatGPT 5.2 reports a hardcoded fallback site key path in recaptcha verification."],"sources":[],"merged_from":[{"model":"ChatGPT 5.2","severity":"S2","confidence":100}],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0039","source_file":"docs/reviews/2026-Q1/canonical/CANON-SECURITY.jsonl","original_id":"CANON-0039","category":"security","severity":"S2","type":"vulnerability","file":"functions/src/schemas.ts","line":0,"title":"Server-side journal entry type enum missing 'step-1-worksheet' (validation drift)","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["ChatGPT 5.2 reports server enum omits 'step-1-worksheet' while client emits it."],"sources":[],"merged_from":[{"model":"ChatGPT 5.2","severity":"S2","confidence":95}],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0040","source_file":"docs/reviews/2026-Q1/canonical/CANON-SECURITY.jsonl","original_id":"CANON-0040","category":"security","severity":"S2","type":"vulnerability","file":"functions/src/schemas.ts","line":0,"title":"Permissive z.record(..., z.unknown()) allows arbitrary nested data in journal/inventory entries","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Schemas use permissive z.record(..., z.unknown()) for data fields (both models)."],"sources":[],"merged_from":[{"model":"Claude Opus 4.5","severity":"S2","confidence":95},{"model":"ChatGPT 5.2","severity":"S2","confidence":95}],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0041","source_file":"docs/reviews/2026-Q1/canonical/CANON-SECURITY.jsonl","original_id":"CANON-0041","category":"security","severity":"S2","type":"vulnerability","file":"firestore.rules","line":0,"title":"Some admin-managed collections allow direct client writes without centralized schema/rate-limit protections","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["ChatGPT 5.2: rules permit admin writes to some collections and client code writes directly (e.g., prayers)."],"sources":[],"merged_from":[{"model":"ChatGPT 5.2","severity":"S2","confidence":90},{"model":"Claude Opus 4.5","severity":"S2","confidence":30}],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0042","source_file":"docs/reviews/2026-Q1/canonical/CANON-SECURITY.jsonl","original_id":"CANON-0042","category":"security","severity":"S2","type":"vulnerability","file":"","line":0,"title":"Console statements present; replace with structured logger and enforce no-console in production","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Opus counted 59 console statements across components; ChatGPT 5.2 identifies console usage in security-sensitive paths."],"sources":[],"merged_from":[{"model":"Claude Opus 4.5","severity":"S2","confidence":80},{"model":"ChatGPT 5.2","severity":"S3","confidence":90}],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0043","source_file":"docs/reviews/2026-Q1/canonical/CANON-SECURITY.jsonl","original_id":"CANON-0043","category":"security","severity":"S3","type":"vulnerability","file":"functions/src/index.ts","line":0,"title":"App Check disabled on Functions and client init disabled (tracked as risk-accepted hardening item)","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Both models: requireAppCheck:false on callables; client App Check initialization commented out."],"sources":[],"merged_from":[{"model":"Claude Opus 4.5","severity":"S0","confidence":100},{"model":"ChatGPT 5.2","severity":"S0","confidence":100}],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0064","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0064","category":"code-quality","severity":"S0","type":"code-smell","file":"scripts/assign-review-tier.js","line":0,"title":"47 CRITICAL cognitive complexity violations in scripts (19 functions)","description":"SonarQube CRITICAL violations. Functions exceeding 15-point threshold are difficult to test, maintain, debug.","recommendation":"Extract nested conditionals into helper functions. Use early returns. Add test coverage before refactoring.","effort":"E3","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0065","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0065","category":"code-quality","severity":"S1","type":"code-smell","file":"lib/db/quotes.ts","line":0,"title":"Time-of-day rotation logic duplicated in quotes.ts and slogans.ts","description":"80+ lines of identical complex rotation algorithm (time windows + day-of-year seed). Bug fixes or enhancements must be applied twice. High drift risk.","recommendation":"Extract to lib/utils/content-rotation.ts with generic getTimeOfDay() and getRotatingContentForNow<T>() functions.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0066","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0066","category":"code-quality","severity":"S1","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Cloud Function error handling pattern duplicated 4-6x across service and hooks","description":"Same error code switch (resource-exhausted, invalid-argument, unauthenticated, failed-precondition) with user-friendly messages. Error message changes require 4+ updates.","recommendation":"Create handleCloudFunctionError(error) utility in lib/utils/callable-errors.ts. Use in all 4+ locations.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":null,"dependencies":["CANON-0087"]}
{"source_id":"review:CANON-0067","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0067","category":"code-quality","severity":"S1","type":"code-smell","file":"types/journal.ts","line":0,"title":"Journal entry type definitions diverge between client types and server schemas","description":"Type mismatch between client and server causes silent validation failures. Adding new entry types requires changes in 3 places.","recommendation":"Create shared source of truth in lib/types/journal-shared.ts. Generate types from Zod schemas where possible.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0068","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0068","category":"code-quality","severity":"S1","type":"code-smell","file":"scripts/assign-review-tier.js","line":0,"title":"No test coverage for high-complexity scripts","description":"Scripts with complexity 20-38 have no test coverage. High regression risk when refactoring.","recommendation":"Add tests/scripts/ test files for each high-complexity script. Use test-driven refactoring.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0069","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0069","category":"code-quality","severity":"S1","type":"vulnerability","file":"functions/src/index.ts","line":0,"title":"App Check temporarily disabled across all Cloud Functions","description":"Security feature disabled. Should be tracked and re-enabled when throttle clears.","recommendation":"Create tracking issue. Re-enable when throttle verified clear. Add monitoring.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0070","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0070","category":"code-quality","severity":"S1","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Deprecated saveNotebookJournalEntry still used in 6+ UI components","description":"Two write paths create inconsistent metadata (tags/searchableText). Audit burden.","recommendation":"Migrate callers to useJournal.addEntry. Remove deprecated method.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"hooks-standardization","consensus_score":null,"dependencies":["CANON-0067"]}
{"source_id":"review:CANON-0071","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0071","category":"code-quality","severity":"S1","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"useJournal mixes domain logic with transport (httpsCallable + retry + recaptcha)","description":"Hook owns transport and domain shaping. Same responsibilities will be re-implemented in other features.","recommendation":"Create lib/services/journal-service.ts with saveEntry()/softDeleteEntry() using callSecureFunction. Keep hook focused on UI state.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"hooks-standardization","consensus_score":null,"dependencies":["CANON-0076","CANON-0066"]}
{"source_id":"review:CANON-0072","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0072","category":"code-quality","severity":"S1","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":0,"title":"TodayPage is a god component mixing 4+ responsibilities","description":"Large mixed-responsibility component. Small changes require deep context. Cognitive complexity hotspot.","recommendation":"Split into hooks: useDailyLogState, useDailyLogRealtime, useWeeklyStats. Move Firestore queries to service.","effort":"E3","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"boundaries","consensus_score":null,"dependencies":["CANON-0075","CANON-0076"]}
{"source_id":"review:CANON-0073","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0073","category":"code-quality","severity":"S2","type":"code-smell","file":"components/notebook/features/daily-quote-card.tsx","line":0,"title":"DailyQuoteCard component duplicated across 2-3 locations","description":"Same fetch logic (QuotesService.getQuoteForToday) repeated with different styling. Feature changes must be applied 2-3 times.","recommendation":"Create useDailyQuote hook for fetch logic. Keep single DailyQuoteCard with variant prop. Delete features/ version.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"ui-primitives","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0074","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0074","category":"code-quality","severity":"S2","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Critical paths have low test coverage (firestore-service 35.6%, account-linking 17.29%)","description":"Security-critical paths with low coverage. Refactors risky without tests.","recommendation":"Add integration tests for Cloud Function callers. Add unit tests for account linking. Target 70%+ coverage.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":null,"dependencies":["CANON-0066"]}
{"source_id":"review:CANON-0075","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0075","category":"code-quality","severity":"S2","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"Direct Firebase SDK usage in UI components bypasses service layer","description":"Bypasses service layer abstraction. SDK changes require touching 22+ files. Difficult to add cross-cutting concerns.","recommendation":"Route all Firebase access through lib/firestore-service.ts or dedicated services. Components only import from services.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"boundaries","consensus_score":null,"dependencies":["CANON-0077"]}
{"source_id":"review:CANON-0076","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0076","category":"code-quality","severity":"S2","type":"vulnerability","file":"lib/firestore-service.ts","line":0,"title":"reCAPTCHA token fetch/include pattern repeated 5x across codebase","description":"Every Cloud Function call repeats same reCAPTCHA boilerplate. Easy to forget when adding new calls.","recommendation":"Create callSecureFunction wrapper that auto-injects reCAPTCHA token. Centralize retry logic.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":["CANON-0066"]}
{"source_id":"review:CANON-0077","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0077","category":"code-quality","severity":"S2","type":"code-smell","file":"lib/db/slogans.ts","line":0,"title":"Firebase collection access scattered across 22+ files without type safety","description":"No type safety for collection names. Typo risk. Changes require grep-and-replace across codebase.","recommendation":"Create lib/firestore-collections.ts with typed collection helpers: collections.slogans(), collections.userJournal(uid), etc.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0078","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0078","category":"code-quality","severity":"S2","type":"vulnerability","file":"functions/src/recaptcha-verify.ts","line":0,"title":"reCAPTCHA action strings duplicated as literals (no shared constants)","description":"Action mismatch between client and server breaks verification. Hard to debug 'failed-precondition' errors.","recommendation":"Create lib/security/recaptcha-actions.ts with shared constants. Update all call sites.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0079","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0079","category":"code-quality","severity":"S2","type":"code-smell","file":"components/growth/SpotCheckCard.tsx","line":0,"title":"Growth card dialog/save pattern duplicated across 4 components","description":"Boilerplate state management repeated 4 times. Changes to save flow must be applied in all components.","recommendation":"Extract useGrowthCardDialog(saveConfig) hook that manages isOpen, isSaving, and provides handleSave.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"hooks-standardization","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0080","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0080","category":"code-quality","severity":"S2","type":"code-smell","file":"lib/db/quotes.ts","line":0,"title":"CRUD service patterns repeated across lib/db modules","description":"Same Firestore CRUD pattern (getAll/add/update/delete) repeated with only collection names changing.","recommendation":"Create lib/db/firestore-crud.ts with generic CRUD factory. Refactor services to use it.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":null,"dependencies":["CANON-0077"]}
{"source_id":"review:CANON-0081","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0081","category":"code-quality","severity":"S2","type":"code-smell","file":"components/admin/dashboard-tab.tsx","line":0,"title":"Admin Cloud Function wiring duplicated across 5 admin tabs","description":"Duplicated Cloud Function wiring. Error handling, retries, auth assumptions can drift.","recommendation":"Create lib/admin/admin-functions.ts with typed wrappers (adminGetDashboardStats, adminSearchUsers, etc.)","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":null,"dependencies":["CANON-0076"]}
{"source_id":"review:CANON-0082","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0082","category":"code-quality","severity":"S2","type":"code-smell","file":"components/growth/SpotCheckCard.tsx","line":0,"title":"Dual-write pattern to inventory AND journal collections","description":"Dual writes increase storage costs, create potential inconsistency if one fails. Inventory collection may be legacy.","recommendation":"Audit whether inventory_entries collection is still needed. Remove dual-write or consolidate via Cloud Function.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0083","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0083","category":"code-quality","severity":"S2","type":"code-smell","file":"multiple","line":0,"title":"Deprecated API usage (31 instances) + Nested ternaries (41 instances)","description":"Deprecated APIs risk future breaking changes. Nested ternaries reduce readability.","recommendation":"Audit S1874 violations. Replace nested ternaries with if/else or early returns.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0084","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0084","category":"code-quality","severity":"S2","type":"code-smell","file":"scripts/archive-doc.js","line":0,"title":"safeReadFile/safeWriteFile utilities duplicated across 3 scripts","description":"Scripts are highest complexity area. Shared utilities reduce per-script branching.","recommendation":"Create scripts/lib/fs-safe.js. Update 3 scripts to import from it.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0085","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0085","category":"code-quality","severity":"S2","type":"code-smell","file":"lib/database/firestore-adapter.ts","line":0,"title":"FirestoreAdapter exists but is unused (realtime boundary unclear)","description":"Unclear boundaries. Some features use adapter, others embed Firestore details. Future migrations harder.","recommendation":"Decide boundary: expand FirestoreAdapter and use it everywhere, OR remove adapter and standardize subscription helpers.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"boundaries","consensus_score":null,"dependencies":["CANON-0075"]}
{"source_id":"review:CANON-0086","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0086","category":"code-quality","severity":"S2","type":"vulnerability","file":"hooks/use-journal.ts","line":0,"title":"Searchable-text generation duplicated with inconsistent sanitization","description":"Different sanitization rules can produce divergent search indexes or reintroduce stored XSS risks.","recommendation":"Extract shared searchable-text utility to lib/journal/searchable-text.ts. Ensure sanitization is consistent.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0087","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0087","category":"code-quality","severity":"S3","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"CloudFunctionError interface defined twice in same file","description":"Unnecessary duplication within same file. Easy quick win.","recommendation":"Define once at module level or extract to lib/types/errors.ts","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0088","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0088","category":"code-quality","severity":"S3","type":"code-smell","file":"multiple","line":0,"title":"Batch fix opportunities: 200+ ESLint auto-fixable issues","description":"Low-hanging fruit that reduces SonarQube noise instantly.","recommendation":"Run npm run lint:fix. Commit auto-fixed changes before manual refactoring.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0089","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0089","category":"code-quality","severity":"S3","type":"code-smell","file":"multiple","line":0,"title":"Batch fix opportunities: 79 replaceAll() + 71 node: prefix modernizations","description":"ES2021+ provides cleaner methods. Modernization reduces lint noise.","recommendation":"Find/replace: replace(/pattern/g) to replaceAll(). require('fs') to require('node:fs').","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0090","source_file":"docs/reviews/2026-Q1/canonical/CANON-REFACTOR.jsonl","original_id":"CANON-0090","category":"code-quality","severity":"S3","type":"code-smell","file":"app/meetings/all/page.tsx","line":0,"title":"parseTime() meeting helper duplicated in two pages","description":"Small helper duplication is a drift vector (edge cases like 'Noon', locale formats).","recommendation":"Extract to lib/utils/time.ts as parseMeetingTimeToMinutes(). Unit test it.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0105","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0105","category":"code-quality","severity":"S0","type":"code-smell","file":".github/workflows/ci.yml","line":0,"title":"Multiple CI quality gates configured as non-blocking (continue-on-error: true)","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["GitHub Copilot: 4 quality gates non-blocking","Codex: CI gates non-blocking","Claude Sonnet 4.5: S0 severity - CI gates allow regressions","Claude Code Opus 4.5: S1 severity - 4 continue-on-error steps","ChatGPT 5.2: S2 severity - multiple non-blocking gates"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0106","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0106","category":"code-quality","severity":"S1","type":"code-smell","file":"scripts/","line":0,"title":"Automation scripts have critically low test coverage (2-7% of ~31 scripts)","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["GitHub Copilot: scripts lack tests","Codex: 2/29 scripts have tests","Claude Sonnet 4.5: 6% coverage","Claude Code Opus 4.5: 2/29 scripts tested","ChatGPT 5.2: ~2 tests for ~31 scripts"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0107","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0107","category":"code-quality","severity":"S1","type":"code-smell","file":".github/workflows/ci.yml","line":0,"title":"Missing security scanning in CI (npm audit, CodeQL, Dependabot)","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["GitHub Copilot: npm audit missing","Claude Sonnet 4.5: security scanning gaps","Claude Code Opus 4.5: no npm audit in CI","ChatGPT 5.2: missing audit/CodeQL/Dependabot"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0108","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0108","category":"code-quality","severity":"S1","type":"code-smell","file":".github/workflows/deploy-firebase.yml","line":0,"title":"Deploy workflow calls gcloud without installing Google Cloud SDK","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["GitHub Copilot: gcloud auth issues","Claude Code Opus 4.5: deploy workflow gcloud setup missing","ChatGPT 5.2: gcloud used without install step"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0109","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0109","category":"code-quality","severity":"S2","type":"code-smell","file":"DEVELOPMENT.md","line":0,"title":"DEVELOPMENT.md workflow triggers don't match actual workflow YAML","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Codex: TRIGGERS.md outdated","Claude Sonnet 4.5: TRIGGERS.md documentation drift","Claude Code Opus 4.5: DEVELOPMENT.md workflow table stale","ChatGPT 5.2: DEVELOPMENT.md triggers don't match YAML"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0110","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0110","category":"code-quality","severity":"S2","type":"code-smell","file":".husky/pre-commit","line":0,"title":"Pre-commit hook runs full test suite causing slow commits (~50s+)","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["GitHub Copilot: pre-commit runs full test suite","Codex: pre-commit slow due to tests","Claude Sonnet 4.5: pre-commit hook slow","ChatGPT 5.2: pre-commit full tests increases friction"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0111","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0111","category":"code-quality","severity":"S2","type":"code-smell","file":"scripts/check-pattern-compliance.js","line":0,"title":"Pattern checker reports 93+ violations but CI check is non-blocking","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Sonnet 4.5: 93 violations allowed through","Claude Code Opus 4.5: pattern checker non-blocking with violations","ChatGPT 5.2: pattern scan reports 93 issues"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0112","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0112","category":"code-quality","severity":"S2","type":"code-smell","file":".github/workflows/deploy-firebase.yml","line":0,"title":"Firebase CLI version unpinned in deploy workflow","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["GitHub Copilot: firebase-tools unpinned","Codex: firebase-tools version not locked","ChatGPT 5.2: firebase CLI unpinned"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0113","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0113","category":"code-quality","severity":"S2","type":"code-smell","file":".github/workflows/auto-label-review-tier.yml","line":0,"title":"Auto-label workflow has invalid if: expression syntax","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Code Opus 4.5: conditional syntax issue","ChatGPT 5.2: invalid if expression"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0114","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0114","category":"code-quality","severity":"S3","type":"code-smell","file":"DEVELOPMENT.md","line":0,"title":"DEVELOPMENT.md Husky section missing pattern compliance step","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Code Opus 4.5: DEVELOPMENT.md missing patterns:check","ChatGPT 5.2: husky docs incomplete"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0115","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0115","category":"code-quality","severity":"S3","type":"code-smell","file":".github/workflows/ci.yml","line":0,"title":"CI workflow lacks explicit permissions block (security hardening)","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Code Opus 4.5: missing permissions block","ChatGPT 5.2: no explicit permissions"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0116","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0116","category":"code-quality","severity":"S3","type":"code-smell","file":"scripts/check-pattern-compliance.js","line":0,"title":"Pattern checker produces false positives for controlled npm install fallbacks","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Sonnet 4.5: false positives in pattern checker","ChatGPT 5.2: pattern checker noise/false-positives"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0117","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0117","category":"code-quality","severity":"S3","type":"code-smell","file":"scripts/check-review-needed.js","line":0,"title":"Review trigger thresholds may cause alert fatigue for process changes","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Code Opus 4.5: review trigger sensitivity","ChatGPT 5.2: thresholds may be too sensitive"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0118","source_file":"docs/reviews/2026-Q1/canonical/CANON-PROCESS.jsonl","original_id":"CANON-0118","category":"code-quality","severity":"S3","type":"code-smell","file":".github/workflows/deploy-firebase.yml","line":0,"title":"Deploy workflow secret handling may be brittle for multiline JSON","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["ChatGPT 5.2: secret multiline handling concern"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0044","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0044","category":"code-quality","severity":"S0","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"useJournal creates redundant auth listener + potential memory leak from nested cleanup","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["hooks/use-journal.ts:178-241 - nested listener pattern","auth-provider.tsx already manages onAuthStateChanged","GitHub Copilot identified S0 memory leak potential"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0045","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0045","category":"code-quality","severity":"S1","type":"code-smell","file":"app/page.tsx","line":0,"title":"Landing page forced to client-side rendering blocks SSR for LCP route","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["app/page.tsx:1 has 'use client'","Static background could be SSR","All 5 models identified this issue"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0046","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0046","category":"code-quality","severity":"S1","type":"code-smell","file":"app/page.tsx","line":0,"title":"Excessive 'use client' directives prevent SSR optimization","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["grep count: 88-94 'use client' directives","All 4 major pages use 'use client'"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0047","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0047","category":"code-quality","severity":"S1","type":"code-smell","file":"next.config.mjs","line":0,"title":"Static export disables Next.js image optimization","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["next.config.mjs:14 - images: { unoptimized: true }"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0048","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0048","category":"code-quality","severity":"S1","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":0,"title":"TodayPage re-subscribes on journalEntry change","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["today-page.tsx:352 - journalEntry in deps array"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0049","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0049","category":"code-quality","severity":"S1","type":"code-smell","file":"components/notebook/roadmap-modules.tsx","line":0,"title":"Notebook module registry eagerly imports all pages","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["roadmap-modules.tsx:L2-7 imports all pages eagerly","Growth module pulls in heavy Step1WorksheetCard"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0050","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0050","category":"code-quality","severity":"S2","type":"code-smell","file":"lib/sentry.client.ts","line":0,"title":"Sentry integration incomplete - no Web Vitals reporting","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["lib/sentry.client.ts defines initSentryClient() but not referenced in app","No web-vitals package usage found","All 5 models noted this gap"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0051","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0051","category":"code-quality","severity":"S2","type":"code-smell","file":"components/widgets/daily-quote-card.tsx","line":0,"title":"Duplicate DailyQuoteCard implementations + unbounded quotes fetch","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["3 separate files with similar functionality","Both call QuotesService.getAllQuotes()","4/5 models identified this"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0052","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0052","category":"code-quality","severity":"S2","type":"code-smell","file":"components/celebrations/confetti-burst.tsx","line":0,"title":"Celebration animations create 150+ DOM elements without reduced-motion support","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["PARTICLE_COUNTS.high = 150","SPARKS_PER_FIREWORK = 24, FIREWORK_COUNT = 5"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0053","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0053","category":"code-quality","severity":"S2","type":"code-smell","file":"components/journal/entry-card.tsx","line":0,"title":"No React.memo usage causes unnecessary re-renders in list components","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["grep 'React.memo' found 0 results","entry-feed.tsx:133-140 creates new onClick on each render","64 useMemo/useCallback but 0 memo"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0054","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0054","category":"code-quality","severity":"S2","type":"code-smell","file":"app/page.tsx","line":0,"title":"Hero background image bypasses Next.js image optimization","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["app/page.tsx:31 sets backgroundImage inline"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0055","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0055","category":"code-quality","severity":"S2","type":"code-smell","file":"components/journal/entry-feed.tsx","line":0,"title":"Large entry lists not virtualized - DOM grows linearly with data","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["lib/constants.ts:70 - JOURNAL_MAX: 100","entry-feed.tsx maps all entries without virtualization"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0056","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0056","category":"code-quality","severity":"S2","type":"code-smell","file":"app/meetings/all/page.tsx","line":0,"title":"Meeting map renders all markers without clustering","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["MeetingMap maps all validMeetings to Marker components","Initial fetch loads 100 meetings"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0057","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0057","category":"code-quality","severity":"S2","type":"code-smell","file":"package.json","line":0,"title":"7 unused dependencies increasing bundle size","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["knip output: 7 Unused dependencies"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0058","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0058","category":"code-quality","severity":"S2","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"Console statements in production code","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Found console.* in 13-29 files depending on search pattern"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0059","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0059","category":"code-quality","severity":"S2","type":"code-smell","file":"lib/db/meetings.ts","line":0,"title":"Firebase queries lack consistent indexing and limits","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["meetings.ts:86 orderBy commented out due to missing index","Client-side sorting used as workaround"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0060","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0060","category":"code-quality","severity":"S2","type":"code-smell","file":"components/admin/admin-crud-table.tsx","line":0,"title":"Admin CRUD table fetches entire collections without pagination","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["AdminCrudTable:L51-55 uses getDocs without limit","filteredItems not memoized"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0061","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0061","category":"code-quality","severity":"S2","type":"code-smell","file":"components/growth/Step1WorksheetCard.tsx","line":0,"title":"Step1WorksheetCard excessive complexity (804 lines)","description":"","recommendation":"","effort":"E3","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["File size: 804 lines","SonarQube flags CRITICAL complexity"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0062","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0062","category":"code-quality","severity":"S2","type":"code-smell","file":"app/page.tsx","line":0,"title":"No route-level loading UI (loading.tsx) or Suspense boundaries","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["No app/**/loading.tsx files exist"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0063","source_file":"docs/reviews/2026-Q1/canonical/CANON-PERF.jsonl","original_id":"CANON-0063","category":"code-quality","severity":"S2","type":"code-smell","file":"components/journal/journal-hub.tsx","line":0,"title":"JournalHub eagerly imports all entry forms","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["journal-hub.tsx imports multiple forms at top-level"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0091","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0091","category":"code-quality","severity":"S1","type":"code-smell","file":"docs/reviews/2026-Q1/outputs/code-review/CODE_REVIEW_2026_Q1.md","line":0,"title":"Broken relative links in review/output docs (wrong ../ depth)","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["GitHub Copilot: CODE_PATTERNS.md wrong path","Codex: 69 broken links detected","Claude Sonnet 4.5: 82 broken links detected","Claude Code Opus 4.5: 12 tool-validated broken links","ChatGPT 5.2: 75 broken links detected"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0092","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0092","category":"code-quality","severity":"S1","type":"code-smell","file":"docs/reviews/2026-Q1/CODE_REVIEW_PLAN_2026_Q1.md","line":0,"title":"[X] placeholders remain in 2026-Q1 plan instances","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Sonnet 4.5: 18 [X] placeholders in PERFORMANCE_AUDIT_PLAN","Claude Code Opus 4.5: 28 placeholder issues across plans","ChatGPT 5.2: placeholders in 4 plan files"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0093","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0093","category":"code-quality","severity":"S2","type":"code-smell","file":"DOCUMENTATION_INDEX.md","line":0,"title":"DOCUMENTATION_INDEX.md orphaned and missing required sections","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Code Opus 4.5: DOCUMENTATION_INDEX.md not referenced","ChatGPT 5.2: orphaned per link check + missing sections"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0094","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0094","category":"code-quality","severity":"S2","type":"code-smell","file":"docs/ANTIGRAVITY_GUIDE.md","line":0,"title":"Tier 2 docs missing required metadata (Document Version, Applies To)","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Code Opus 4.5: Tier 2 metadata missing in 7+ docs","ChatGPT 5.2: Tier 2 compliance issues in 8 files"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0095","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0095","category":"code-quality","severity":"S2","type":"code-smell","file":"docs/DOCUMENTATION_STANDARDS.md","line":0,"title":"Standards/templates contain live placeholder links and incorrect anchors","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["ChatGPT 5.2: Standards/templates with placeholder links and bad anchor"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0096","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0096","category":"code-quality","severity":"S2","type":"code-smell","file":"docs/DOCUMENT_DEPENDENCIES.md","line":0,"title":"DOCUMENT_DEPENDENCIES.md claims SYNCED but has 30+ issues","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Code Opus 4.5: false SYNCED status with 30 issues"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0097","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0097","category":"code-quality","severity":"S2","type":"code-smell","file":"docs/PR_REVIEW_PROMPT_TEMPLATE.md","line":0,"title":"PR_REVIEW_PROMPT_TEMPLATE lacks required metadata and version history","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["ChatGPT 5.2: PR_REVIEW_PROMPT_TEMPLATE missing required metadata"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0098","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0098","category":"code-quality","severity":"S2","type":"code-smell","file":"docs/agent_docs/CODE_PATTERNS.md","line":0,"title":"CODE_PATTERNS.md referenced with incorrect path","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["GitHub Copilot: CODE_PATTERNS.md wrong path","Claude Code Opus 4.5: broken link to CODE_PATTERNS"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0099","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0099","category":"code-quality","severity":"S2","type":"code-smell","file":"docs/CODE_REVIEW_PLAN_2026_Q1.md","line":0,"title":"Duplicate CODE_REVIEW_PLAN_2026_Q1.md exists in two locations","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Code Opus 4.5: duplicate file in two locations"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0100","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0100","category":"code-quality","severity":"S3","type":"code-smell","file":"docs/archive/AI_HANDOFF-2026-01-02.md","line":0,"title":"Archive docs contain significant link rot after archival/moves","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Code Opus 4.5: archive link rot noted","ChatGPT 5.2: archive docs have significant link rot"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0101","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0101","category":"code-quality","severity":"S3","type":"code-smell","file":"docs/templates/FOUNDATION_DOC_TEMPLATE.md","line":0,"title":"Template date placeholders using literal YYYY-MM-DD format","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["Claude Code Opus 4.5: template date placeholders noted"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0102","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0102","category":"code-quality","severity":"S3","type":"code-smell","file":"docs/PR_REVIEW_PROMPT_TEMPLATE.md","line":0,"title":"Template docs located outside docs/templates/ directory","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["ChatGPT 5.2: template location policy question"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0103","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0103","category":"code-quality","severity":"S3","type":"code-smell","file":"docs/DEVELOPMENT.md","line":0,"title":"Test count mismatch between DEVELOPMENT.md and actual test suite","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["GitHub Copilot: test count mismatch finding"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0104","source_file":"docs/reviews/2026-Q1/canonical/CANON-DOCS.jsonl","original_id":"CANON-0104","category":"code-quality","severity":"S3","type":"code-smell","file":"ROADMAP.md","line":0,"title":"ROADMAP anchor links may be fragile due to emoji/punctuation in headings","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":["ChatGPT 5.2: fragile anchor links suspected"],"sources":[],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CANON-0001","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0001","category":"security","severity":"S0","type":"vulnerability","file":"functions/src/index.ts","line":0,"title":"App Check disabled on all production Cloud Functions","description":"S0: Bot/device attestation layer is disabled for callable endpoints, increasing abuse/spam risk and weakening defense-in-depth.","recommendation":"Re-enable App Check (requireAppCheck: true) across functions; add monitoring for App Check failures and ensure client App Check init is working.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5","claude-code"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":3,"dependencies":["CANON-0003"]}
{"source_id":"review:CANON-0002","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0002","category":"security","severity":"S0","type":"vulnerability","file":"firestore.rules","line":0,"title":"Legacy journalEntries collection allows direct client writes (bypasses function security posture)","description":"S0: Direct client writes bypass App Check / rate limiting / server-side validation, creating a high-risk security outlier vs other collections.","recommendation":"Migrate remaining data off legacy path and set allow write: if false (or route writes through Cloud Functions if still used).","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5","github-copilot"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":3,"dependencies":[]}
{"source_id":"review:CANON-0003","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0003","category":"code-quality","severity":"S1","type":"code-smell","file":"lib/db/library.ts","line":0,"title":"Console.* usage in app components bypasses standardized logger/sanitization","description":"Raw console logging can leak sensitive details, creates inconsistent observability, and violates the project's documented logger/sanitization intent.","recommendation":"Replace console.* with logger.* (or a client-safe wrapper), then enforce via lint rule (no-console with exceptions for logger implementation).","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5","jules","claude-code"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":4,"dependencies":["CANON-0023"]}
{"source_id":"review:CANON-0004","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0004","category":"code-quality","severity":"S1","type":"code-smell","file":"functions/src/schemas.ts","line":0,"title":"Cloud Function schema missing 'step-1-worksheet' journal entry type (validation drift / feature break)","description":"Users can create Step 1 worksheet entries client-side that fail server validation, breaking saves at runtime.","recommendation":"Add 'step-1-worksheet' to journalEntrySchema type enum in functions/src/schemas.ts.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5","github-copilot"],"merged_from":[],"pr_bucket":"types-domain","consensus_score":3,"dependencies":[]}
{"source_id":"review:CANON-0005","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0005","category":"security","severity":"S1","type":"vulnerability","file":"lib/firebase.ts","line":0,"title":"Client App Check initialization is disabled/commented out","description":"Without client App Check init, tokens may not be sent, undermining verification and/or causing callable failures once functions enforce App Check.","recommendation":"Restore initializeAppCheck gated by configured site key; use debug tokens only in development.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["codex","github-copilot"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":3,"dependencies":[]}
{"source_id":"review:CANON-0006","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0006","category":"code-quality","severity":"S1","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Cloud Function error handling duplicated (4 locations) + duplicate CloudFunctionError type definitions","description":"Multiple copies of error mapping/code checks create drift risk and inconsistent user messaging; changes require editing several sites.","recommendation":"Extract CloudFunctionError type + handleCloudFunctionError() helper (likely in lib/utils/errors.ts) and use it in all locations.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["github-copilot","claude-code"],"merged_from":[],"pr_bucket":"hooks-standardization","consensus_score":3,"dependencies":[]}
{"source_id":"review:CANON-0007","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0007","category":"code-quality","severity":"S1","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Critical logic divergence in journal saving (deprecated FirestoreService path bypasses hook business logic)","description":"Entries saved through the deprecated service miss searchable metadata, breaking search/filter for those entries.","recommendation":"Refactor Step1WorksheetCard and TodayPage to use useJournal.addEntry; remove deprecated saveNotebookJournalEntry from FirestoreService.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["jules"],"merged_from":[],"pr_bucket":"hooks-standardization","consensus_score":1,"dependencies":["CANON-0007"]}
{"source_id":"review:CANON-0008","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0008","category":"security","severity":"S1","type":"vulnerability","file":"functions/src/security-wrapper.ts","line":0,"title":"reCAPTCHA verification is logged but not enforced when configured","description":"Requests can bypass bot mitigation if missing tokens are allowed to proceed while only being logged.","recommendation":"When recaptchaAction is set, require a token (throw on missing/blank) unless an explicit opt-out is provided.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["codex"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0009","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0009","category":"code-quality","severity":"S1","type":"code-smell","file":"app/layout.tsx","line":0,"title":"Server layout composes client providers; boundary should be explicit","description":"Boundary clarity and potential hydration/bundle concerns; explicit client-side providers wrapper is recommended.","recommendation":"Create app/providers.tsx ('use client') wrapping AuthProvider/CelebrationProvider/ErrorBoundary and import from layout.tsx.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5"],"merged_from":[],"pr_bucket":"boundaries","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0010","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0010","category":"security","severity":"S1","type":"vulnerability","file":"firestore.rules","line":0,"title":"Admin-claim Firestore rule writes lack function-only defense-in-depth","description":"If admin claims are compromised/misconfigured, direct writes expand blast radius without server-side auditing/enforcement.","recommendation":"Add Cloud Function wrappers for admin mutations with server-side checks + audit logging; tighten rules to function-only where appropriate.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0011","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0011","category":"code-quality","severity":"S1","type":"code-smell","file":"functions/src/index.ts","line":0,"title":"Missing automated tests for Cloud Function security layers (App Check / rate limiting / authz)","description":"Security regressions can ship undetected without tests covering enforcement layers.","recommendation":"Add tests covering unauth rejection, rate-limit behavior, App Check pass/fail, user-scope enforcement, and reCAPTCHA behavior.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5"],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":1,"dependencies":["CANON-0001","CANON-0002"]}
{"source_id":"review:CANON-0012","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0012","category":"code-quality","severity":"S1","type":"code-smell","file":"firestore.rules","line":0,"title":"No integration tests for Firestore rules (emulator-based)","description":"Rules are a primary security boundary; regressions can become data exposure incidents without automated tests.","recommendation":"Set up Firebase emulator rule tests using @firebase/rules-unit-testing for key permission scenarios (including legacy collections).","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5"],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":1,"dependencies":["CANON-0002","CANON-0008"]}
{"source_id":"review:CANON-0013","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0013","category":"code-quality","severity":"S1","type":"code-smell","file":"lib/auth/account-linking.ts","line":0,"title":"Security-critical files have low test coverage (account-linking, firestore-service, recaptcha, users DB)","description":"Low coverage in auth/data/recaptcha paths increases risk of undetected production regressions in security-sensitive user flows.","recommendation":"Add tests to raise coverage targets for these files; mock Cloud Functions where needed; add token generation unit coverage.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-code"],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0014","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0014","category":"security","severity":"S1","type":"vulnerability","file":"functions/src/index.ts","line":0,"title":"reCAPTCHA verification coverage may be incomplete when App Check is disabled (needs verification)","description":"If server-side verification is not enforced independently, bot mitigation may be weaker than intended when App Check is off.","recommendation":"Verify server-side recaptchaToken validation paths; consider making reCAPTCHA mandatory (align with CANON-0004).","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["github-copilot"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":1,"dependencies":["CANON-0004","CANON-0001"]}
{"source_id":"review:CANON-0015","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0015","category":"security","severity":"S1","type":"vulnerability","file":"components/providers/auth-context.tsx","line":0,"title":"Potential rate limit bypass via cycling anonymous accounts (needs threat-model validation)","description":"If rate limiting is keyed only by userId, attackers might bypass limits by creating new anonymous sessions repeatedly.","recommendation":"Validate feasibility; if real, add secondary rate limiting keyed by device/IP or strengthen anonymous auth constraints.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-code"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0016","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0016","category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Potential sensitive data in localStorage (needs audit)","description":"If recovery/journal content is stored in localStorage, it persists unencrypted on-device and may raise privacy/compliance concerns.","recommendation":"Audit localStorage/sessionStorage usage; restrict to non-sensitive UI prefs; document policy.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0017","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0017","category":"code-quality","severity":"S2","type":"code-smell","file":"lib/db/quotes.ts","line":0,"title":"Duplicated time-of-day rotation logic for quotes and slogans","description":"Rotation changes risk diverging behavior and duplicating bug fixes.","recommendation":"Extract shared rotation utilities and reuse in both services; add unit tests for schedule/rotation paths.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["codex","github-copilot"],"merged_from":[],"pr_bucket":"ui-primitives","consensus_score":3,"dependencies":[]}
{"source_id":"review:CANON-0018","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0018","category":"code-quality","severity":"S2","type":"code-smell","file":"components/growth/Step1WorksheetCard.tsx","line":0,"title":"Unsafe type assertions with 'as unknown as' (worksheet + related components)","description":"Double casts bypass TypeScript safety; runtime crashes possible if data shape differs.","recommendation":"Add runtime validation (e.g., Zod parse) before casting; replace with type guards where applicable.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["jules","claude-code"],"merged_from":[],"pr_bucket":"types-domain","consensus_score":3,"dependencies":["CANON-0007"]}
{"source_id":"review:CANON-0019","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0019","category":"security","severity":"S2","type":"vulnerability","file":"scripts/check-review-needed.js","line":0,"title":"ESLint security plugin warnings in scripts (unsafe regex / non-literal fs / object injection patterns)","description":"Even if scripts run in trusted contexts, these patterns are repeatedly flagged and can become risky if reused; they also create noisy lint output.","recommendation":"Address highest-risk warnings first: validate dynamic paths, constrain object key access, simplify/guard regex patterns; aim to reduce warnings materially.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["jules","claude-code"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":3,"dependencies":[]}
{"source_id":"review:CANON-0020","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0020","category":"code-quality","severity":"S2","type":"code-smell","file":"types/journal.ts","line":0,"title":"Journal entry type definitions duplicated across client types and server schemas (single-source refactor)","description":"Adding new entry types requires multi-file changes and risks client/server mismatch.","recommendation":"Extract shared constants (or generate TS types from Zod) so both client and functions import from one source.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5","github-copilot"],"merged_from":[],"pr_bucket":"types-domain","consensus_score":3,"dependencies":["CANON-0007"]}
{"source_id":"review:CANON-0021","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0021","category":"code-quality","severity":"S2","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":0,"title":"Missing error.message null safety in TodayPage catch block","description":"If a non-Error is thrown, accessing error.message/stack can crash; catch is unknown.","recommendation":"Use getErrorMessage(error) helper to safely extract message.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5"],"merged_from":[],"pr_bucket":"types-domain","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0022","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0022","category":"code-quality","severity":"S2","type":"code-smell","file":"components/notebook/hooks/use-smart-prompts.ts","line":0,"title":"Unsafe localStorage JSON.parse in use-smart-prompts hook","description":"Corrupted localStorage can throw and crash the component.","recommendation":"Wrap JSON.parse in try/catch or use a safe parse utility with defaults.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["jules"],"merged_from":[],"pr_bucket":"types-domain","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0023","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0023","category":"code-quality","severity":"S2","type":"code-smell","file":"components/notebook/features/daily-quote-card.tsx","line":0,"title":"Duplicated DailyQuoteCard component exists in multiple directories (2 confirmed; possible 3rd variant)","description":"Duplication increases maintenance burden; inconsistent exports/variants raise drift risk.","recommendation":"Consolidate to a single source of truth (auditor suggests keeping widgets version) and compose variants if needed.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5"],"merged_from":[],"pr_bucket":"ui-primitives","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0024","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0024","category":"code-quality","severity":"S2","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Inconsistent Firebase Functions import pattern (static vs dynamic imports)","description":"Inconsistent patterns increase maintenance burden and make bundling/code-splitting intent unclear.","recommendation":"Standardize import strategy (e.g., static imports for client-side code; reserve dynamic imports for specific lazy routes if intentionally needed).","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-code"],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0025","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0025","category":"code-quality","severity":"S2","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Inconsistent httpsCallable typing (missing generic request/response types)","description":"Callable returns unknown, forcing casts and losing compile-time safety.","recommendation":"Add generic type parameters to callCloudFunction / httpsCallable usage.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5"],"merged_from":[],"pr_bucket":"types-domain","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0026","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0026","category":"code-quality","severity":"S2","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"useJournal sets up its own auth listener instead of using shared auth context","description":"Redundant subscriptions can cause state-sync issues and unnecessary listeners.","recommendation":"Refactor useJournal to consume user from auth context (or accept user as param) and remove internal onAuthStateChanged listener.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["github-copilot"],"merged_from":[],"pr_bucket":"boundaries","consensus_score":1,"dependencies":["CANON-0006"]}
{"source_id":"review:CANON-0027","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0027","category":"code-quality","severity":"S2","type":"code-smell","file":"tests/firestore-service.test.ts","line":0,"title":"Cloud Function integration test is skipped in firestore-service test suite","description":"Primary data save path is effectively untested; skip note indicates missing integration harness/emulator setup.","recommendation":"Add an integration test suite using Firebase emulator; optionally mock httpsCallable for unit coverage.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["github-copilot"],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0028","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0028","category":"code-quality","severity":"S2","type":"code-smell","file":"functions/src/schemas.ts","line":0,"title":"Journal entry schema data is weakly typed (z.record unknown; per-type validation not enforced)","description":"Malformed entries can pass validation; intended per-type validation is not enforced.","recommendation":"Use a Zod discriminated union for per-entry-type data schemas.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["github-copilot"],"merged_from":[],"pr_bucket":"types-domain","consensus_score":1,"dependencies":["CANON-0016"]}
{"source_id":"review:CANON-0029","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0029","category":"code-quality","severity":"S2","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"No tests for useJournal hook","description":"Core journal interaction logic lacks dedicated tests; regressions can break journaling flows.","recommendation":"Add tests for useJournal with mocked Firebase/Cloud Functions covering auth changes, addEntry, and crumplePage.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["github-copilot"],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":1,"dependencies":["CANON-0006"]}
{"source_id":"review:CANON-0030","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0030","category":"code-quality","severity":"S3","type":"code-smell","file":"components/notebook/pages/resources-page.tsx","line":0,"title":"@ts-expect-error suppression comment in production code","description":"Suppresses type checking and can hide real mismatches; should be replaced with proper typing or a type guard.","recommendation":"Fix type annotation or add explicit narrowing so the call is type-safe without suppression.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-code"],"merged_from":[],"pr_bucket":"types-domain","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0031","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0031","category":"code-quality","severity":"S3","type":"code-smell","file":"app/layout.tsx","line":0,"title":"Environment variables accessed directly in components (centralize in typed config)","description":"Harder to track and type-check configuration dependencies across components.","recommendation":"Move env access to a config module exporting typed constants.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["jules"],"merged_from":[],"pr_bucket":"boundaries","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0032","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0032","category":"code-quality","severity":"S3","type":"code-smell","file":"lib/sentry.client.ts","line":0,"title":"'any' types leaking into production code (needs tightening)","description":"Use of any reduces type safety; in production files it can mask real issues.","recommendation":"Replace production any with unknown + type guards or concrete types; allow any only in tests/mocks if necessary.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-code"],"merged_from":[],"pr_bucket":"types-domain","consensus_score":1,"dependencies":[]}
{"source_id":"review:CANON-0033","source_file":"docs/reviews/2026-Q1/canonical/CANON-CODE.jsonl","original_id":"CANON-0033","category":"code-quality","severity":"S3","type":"code-smell","file":"app/page.tsx","line":0,"title":"Landing page forced to client component for top-level state","description":"Forces full landing page client rendering, potentially affecting FCP/bundle size.","recommendation":"Move stateful logic into a small client wrapper; keep app/page.tsx server-rendered where possible.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["jules"],"merged_from":[],"pr_bucket":"boundaries","consensus_score":1,"dependencies":[]}
{"source_id":"review:hash-QXBwIENoZWNr","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"security","severity":"S0","type":"vulnerability","file":"functions/src/index.ts","line":0,"title":"App Check disabled on all Cloud Functions and client init disabled","description":"Bot/device attestation disabled on all endpoints, increasing abuse risk.","recommendation":"Re-enable App Check on functions + restore client init. Add monitoring for failures.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5","claude-code","opus","chatgpt"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":5,"dependencies":["DEDUP-0003","DEDUP-0004"]}
{"source_id":"review:hash-TGVnYWN5IGpv","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"security","severity":"S0","type":"vulnerability","file":"firestore.rules","line":0,"title":"Legacy journalEntries collection allows direct client writes bypassing validation","description":"Direct writes bypass App Check, rate limiting, and server validation.","recommendation":"Migrate off legacy path, set allow write: if false.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5","github-copilot","opus","chatgpt"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":4,"dependencies":[]}
{"source_id":"review:hash-cmVDQVBUQ0hB","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"security","severity":"S1","type":"vulnerability","file":"functions/src/security-wrapper.ts","line":0,"title":"reCAPTCHA verification logged but not enforced (fail-open)","description":"Missing tokens proceed, making bot protection ineffective.","recommendation":"Require token when recaptchaAction configured; fail closed.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["codex","opus"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":3,"dependencies":[]}
{"source_id":"review:hash-UmF0ZSBsaW1p","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"security","severity":"S1","type":"vulnerability","file":"functions/src/security-wrapper.ts","line":0,"title":"Rate limiting incomplete (no IP throttling, admin endpoints unthrottled)","description":"Higher DoS and abuse risk; unstable backoff signaling.","recommendation":"Add IP-based limiter; wrap admin callables with limiter.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["opus","chatgpt"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":4,"dependencies":["DEDUP-0003"]}
{"source_id":"review:hash-Q29uc29sZS4q","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"lib/db/library.ts","line":0,"title":"Console.* usage in production code bypasses standardized logger","description":"Potential info disclosure; inconsistent observability.","recommendation":"Replace with logger utility; add ESLint no-console rule.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5","jules","claude-code","opus","chatgpt"],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":5,"dependencies":[]}
{"source_id":"review:hash-Sm91cm5hbCBl","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"types/journal.ts","line":0,"title":"Journal entry type definitions diverge between client and server","description":"step-1-worksheet entries fail server validation.","recommendation":"Add to server enum; establish single source of truth.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5","github-copilot","chatgpt"],"merged_from":[],"pr_bucket":"types-domain","consensus_score":4,"dependencies":[]}
{"source_id":"review:hash-Q2xvdWQgRnVu","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Cloud Function error handling duplicated 4-6x with duplicate type definitions","description":"Error message changes require 4+ updates; CloudFunctionError defined twice in same file.","recommendation":"Extract handleCloudFunctionError() utility; single type definition.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["github-copilot","claude-code","codex","chatgpt"],"merged_from":[],"pr_bucket":"hooks-standardization","consensus_score":4,"dependencies":[]}
{"source_id":"review:hash-RGVwcmVjYXRl","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Deprecated saveNotebookJournalEntry still used in 6+ UI components","description":"Entries through deprecated path miss searchable metadata.","recommendation":"Migrate callers to useJournal.addEntry; remove deprecated method.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["jules","codex","chatgpt"],"merged_from":[],"pr_bucket":"hooks-standardization","consensus_score":2,"dependencies":["DEDUP-0006"]}
{"source_id":"review:hash-VGltZS1vZi1k","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"lib/db/quotes.ts","line":0,"title":"Time-of-day rotation logic duplicated in quotes.ts and slogans.ts","description":"80+ lines of identical rotation algorithm; bug fixes must be applied twice.","recommendation":"Extract to lib/utils/content-rotation.ts.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["codex","github-copilot","sonnet","opus","chatgpt"],"merged_from":[],"pr_bucket":"misc","consensus_score":5,"dependencies":[]}
{"source_id":"review:hash-RGFpbHlRdW90","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"components/notebook/features/daily-quote-card.tsx","line":0,"title":"DailyQuoteCard component duplicated across 2-3 locations","description":"Same fetch logic repeated; feature changes must be applied 2-3 times.","recommendation":"Create useDailyQuote hook; single component with variant prop.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["claude-sonnet-4.5","codex","github-copilot","opus","chatgpt"],"merged_from":[],"pr_bucket":"ui-primitives","consensus_score":5,"dependencies":[]}
{"source_id":"review:hash-dXNlSm91cm5h","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"performance","severity":"S0","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"useJournal creates redundant auth listener + potential memory leak","description":"Each hook instance creates own listener; nested cleanup may be ignored.","recommendation":"Remove auth listener; consume from useAuthCore(). Fix cleanup scope.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["copilot","sonnet","opus","codex","chatgpt"],"merged_from":[],"pr_bucket":"hooks-standardization","consensus_score":5,"dependencies":[]}
{"source_id":"review:hash-TGFuZGluZyBw","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"performance","severity":"S1","type":"code-smell","file":"app/page.tsx","line":0,"title":"Landing page forced to client-side rendering blocks SSR","description":"Full landing page renders client-side; 20-40% LCP impact.","recommendation":"Split into server wrapper + client interactive parts.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["sonnet","opus","codex","chatgpt","jules"],"merged_from":[],"pr_bucket":"boundaries","consensus_score":5,"dependencies":[]}
{"source_id":"review:hash-Wm9kIHNjaGVt","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"functions/src/schemas.ts","line":0,"title":"Zod schemas permissive - missing .strict() and allows arbitrary nested data","description":"Unknown fields accepted; arbitrary payloads can be stored.","recommendation":"Add .strict(); use discriminated unions with per-type schemas.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["opus","chatgpt","github-copilot"],"merged_from":[],"pr_bucket":"types-domain","consensus_score":4,"dependencies":[]}
{"source_id":"review:hash-NDcgQ1JJVElD","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"code-quality","severity":"S0","type":"code-smell","file":"scripts/assign-review-tier.js","line":0,"title":"47 CRITICAL cognitive complexity violations in scripts (19 functions)","description":"Functions exceeding 15-point threshold difficult to test and maintain.","recommendation":"Extract nested conditionals; use early returns; add tests first.","effort":"E3","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["copilot","sonnet","opus"],"merged_from":[],"pr_bucket":"misc","consensus_score":3,"dependencies":[]}
{"source_id":"review:hash-Q0kgcXVhbGl0","source_file":"docs/reviews/2026-Q1/canonical/tier2-output/DEDUPED_FINDINGS.jsonl","original_id":null,"category":"process","severity":"S0","type":"process-gap","file":".github/workflows/ci.yml","line":0,"title":"CI quality gates non-blocking allowing regressions","description":"Quality regressions escape to main; tech debt accumulates.","recommendation":"Convert to diff-based blocking; track baseline; burn down over time.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":["copilot","codex","sonnet","opus","chatgpt"],"merged_from":[],"pr_bucket":"process","consensus_score":5,"dependencies":[]}
{"source_id":"review:CODE-001","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"tests/scripts/check-docs-light.test.ts","line":199,"title":"5 failing tests in check-docs-light.test.ts","description":"5 tests failing in check-docs-light.test.ts: 'checks for required sections', 'validates internal links', 'checks Last Updated date', 'exits 0 when no errors found', 'exits 1 when errors found'. Tests appear to have issues with extractJSON parsing or script behavior changes.","recommendation":"Debug the check-docs-light.js script and update tests to match current behavior. Tests expect JSON output but may not be parsing correctly.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["npm test output: 5 failing tests","AssertionError: actual=1, expected=0 in 'exits 0 when no errors found'","AssertionError: actual=0, expected=1 in 'exits 1 when errors found'"],"sources":[{"type":"single-session","id":"CODE-001","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-002","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":396,"title":"Debug console.log statements in production code","description":"12 console.log/error statements in today-page.tsx used for debugging. While wrapped in NODE_ENV checks, these add noise and should use structured logging.","recommendation":"Replace debug console statements with the project's logger utility (lib/logger.ts) which provides structured logging and Sentry integration.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["console.log(\" Attempting to save:\", saveData) at line 396","console.log(\" Weekly Stats Debug:\", ...) at lines 511, 524, 529, 532, 545, 562, 584","console.error(\" Save failed with error:\", error) at line 422","grep console.log found 12 matches in today-page.tsx","Code audit CODE-002 flagged same issue"],"sources":[{"type":"single-session","id":"CODE-002","date":"2026-01-17","category":"code"},{"type":"single-session","id":"PERF-003","date":"2026-01-17","category":"performance"}],"merged_from":["CODE-002","PERF-003"],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-003","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"functions/src/admin.ts","line":1726,"title":"High cognitive complexity in adminSetUserPrivilege","description":"SonarCloud reports cognitive complexity of 16 (threshold 15) for adminSetUserPrivilege function. Function handles privilege validation, security logging, and Firestore operations.","recommendation":"Extract privilege type validation into a separate helper function to reduce cognitive load.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud rule typescript:S3776","Cognitive Complexity from 16 to the 15 allowed"],"sources":[{"type":"single-session","id":"CODE-003","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-004","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"functions/src/admin.ts","line":1835,"title":"Very high cognitive complexity in adminListUsers","description":"SonarCloud reports cognitive complexity of 34 (threshold 15) for adminListUsers function. Function handles pagination, cursor validation, sorting, and data transformation.","recommendation":"Break down into smaller functions: extractCursorValue(), buildUserQuery(), transformUserResults(). Each handles one concern.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud rule typescript:S3776","Cognitive Complexity from 34 to the 15 allowed","Function spans 75+ lines with nested conditionals"],"sources":[{"type":"single-session","id":"CODE-004","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-005","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"components/admin/users-tab.tsx","line":84,"title":"High cognitive complexity in UsersTab component","description":"SonarCloud reports cognitive complexity of 27 (threshold 15) for UsersTab function. Component manages pagination, search, detail drawer, editing, and privilege state.","recommendation":"Extract sub-components: UserSearchSection, UserDetailDrawer, PrivilegeEditor. Use custom hooks for state management.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud rule typescript:S3776","Cognitive Complexity from 27 to the 15 allowed","924 total lines in file"],"sources":[{"type":"single-session","id":"CODE-005","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-006","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S3","type":"code-smell","file":"components/admin/logs-tab.tsx","line":287,"title":"void operator usage flagged by SonarCloud","description":"SonarCloud flags 'void refresh(() => active)' as code smell. The void operator is used to explicitly discard the Promise return value.","recommendation":"This is intentional to handle async functions in event handlers. Consider adding a comment explaining the pattern or using .catch() for explicit error handling.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud rule typescript:S3735","void refresh(() => active) at line 287","void refresh() at line 334"],"sources":[{"type":"single-session","id":"CODE-006","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-007","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"lib/logger.ts","line":1,"title":"No correlation/request ID tracing","description":"Logger does not include correlation IDs or request tracing. Frontend-to-backend requests cannot be traced through logs.","recommendation":"Add correlation ID generation in frontend, pass through Cloud Function calls, and include in all log entries for end-to-end tracing.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["grep for 'correlation.?id' returned no matches in lib/ or functions/","Logger captures context but no unique request identifier"],"sources":[{"type":"single-session","id":"CODE-007","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-008","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S3","type":"code-smell","file":"components/notebook/pages/resources-page.tsx","line":444,"title":"@ts-expect-error suppression for type mismatch","description":"TypeScript error suppressed with @ts-expect-error comment. The setGenderFilter expects specific union type but receives broader string.","recommendation":"Cast the option value explicitly or narrow the type at the call site rather than suppressing the error.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["// @ts-expect-error - option is \"All\" | \"Men\" | \"Women\" which are valid values for setGenderFilter"],"sources":[{"type":"single-session","id":"CODE-008","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-009","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S3","type":"code-smell","file":"lib/database/firestore-adapter.ts","line":51,"title":"TODO comment for unimplemented feature","description":"TODO comment indicates FirestoreService doesn't support configurable limits yet.","recommendation":"Either implement configurable limits in FirestoreService or track as technical debt in TECHNICAL_DEBT.md.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["// TODO: Pass limit to FirestoreService when it supports configurable limits"],"sources":[{"type":"single-session","id":"CODE-009","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-010","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S3","type":"code-smell","file":"components/notebook/features/quick-actions-fab.tsx","line":12,"title":"TODO comment for user preferences feature","description":"TODO comment for making action buttons customizable by user.","recommendation":"Track in ROADMAP.md or TECHNICAL_DEBT.md if this is a planned feature.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["// TODO: Make action buttons customizable by user (save preferences to profile/localStorage)"],"sources":[{"type":"single-session","id":"CODE-010","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-011","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S3","type":"code-smell","file":"functions/src/jobs.ts","line":620,"title":"Useless assignment to hasMore variable","description":"SonarCloud reports useless assignment to variable 'hasMore'. Variable is assigned but may not be used after.","recommendation":"Remove the assignment or verify hasMore is actually used in the return value or subsequent logic.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud rule typescript:S1854","Remove this useless assignment to variable \"hasMore\""],"sources":[{"type":"single-session","id":"CODE-011","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-012","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"components/admin/admin-tabs.tsx","line":64,"title":"Nested component definition","description":"SonarCloud flags component definition inside parent component. This causes unnecessary re-renders and breaks React optimization.","recommendation":"Move the inner component outside the parent and pass data as props.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud rule typescript:S6478","Move this component definition out of the parent component"],"sources":[{"type":"single-session","id":"CODE-012","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-013","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S3","type":"code-smell","file":"components/admin/logs-tab.tsx","line":481,"title":"Nested ternary operator","description":"SonarCloud flags nested ternary operation which reduces readability.","recommendation":"Extract to a helper function or use if/else statements for clarity.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud rule typescript:S3358","Extract this nested ternary operation into an independent statement"],"sources":[{"type":"single-session","id":"CODE-013","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:CODE-014","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S3","type":"code-smell","file":"functions/src/admin.ts","line":1388,"title":"Nested template literals (6 occurrences)","description":"SonarCloud flags nested template literals at lines 1388-1393. These reduce code readability.","recommendation":"Extract nested expressions to variables before interpolation.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud rule typescript:S4624","Refactor this code to not use nested template literals","Lines 1388-1393 all flagged"],"sources":[{"type":"single-session","id":"CODE-014","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:SEC-001","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S1","type":"vulnerability","file":"firebase.json","line":6,"title":"Missing critical security headers","description":"Missing security headers: Content-Security-Policy (CSP), X-Frame-Options, X-Content-Type-Options, Strict-Transport-Security (HSTS), Referrer-Policy, Permissions-Policy. Only Cache-Control and COOP are configured.","recommendation":"Add comprehensive security headers to firebase.json hosting configuration. This was also flagged in audit-2026-01-13 (SEC-002). Priority fix.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"DUAL_PASS_CONFIRMED","resolution":null,"evidence":["firebase.json only has Cache-Control and Cross-Origin-Opener-Policy headers","Prior audit SEC-002 documented same issue"],"sources":[{"type":"single-session","id":"SEC-001","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:SEC-002","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S1","type":"vulnerability","file":"functions/src/index.ts","line":84,"title":"App Check disabled on Cloud Functions","description":"Firebase App Check is disabled (requireAppCheck: false) on all Cloud Functions. Comment says 'TEMPORARILY DISABLED - waiting for throttle to clear'. This removes bot protection layer.","recommendation":"Re-enable App Check once throttle period clears. This was flagged in audit-2026-01-13 (SEC-001). Check if throttle has cleared.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"DUAL_PASS_CONFIRMED","resolution":null,"evidence":["Prior audit SEC-001 documented same issue","requireAppCheck: false appears 5 times in index.ts"],"sources":[{"type":"single-session","id":"SEC-002","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:SEC-003","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S2","type":"vulnerability","file":"functions/src/recaptcha-verify.ts","line":66,"title":"Hardcoded reCAPTCHA site key fallback","description":"Hardcoded reCAPTCHA site key as fallback: '6LdeazosAAAAAMDNCh1hTUDKh_UeS6xWY1-85B2O'. Makes key rotation difficult.","recommendation":"Remove hardcoded fallback. Fail early with clear error if RECAPTCHA_SITE_KEY env var is not set.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["grep shows hardcoded key in recaptcha-verify.ts","Prior audit SEC-003 documented same issue"],"sources":[{"type":"single-session","id":"SEC-003","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:SEC-004","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S3","type":"vulnerability","file":"lib/utils/errors.ts","line":69,"title":"SonarCloud: Potentially hard-coded password pattern","description":"SonarCloud flags error message strings containing 'password' as potential hardcoded credentials. These are user-facing error messages, not actual credentials.","recommendation":"This is a FALSE POSITIVE. The strings are Firebase error code descriptions (e.g., 'auth/wrong-password': 'Incorrect password'). No action needed.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud hotspot AZuOceBbCkZo7bf_PZva","Code shows error message mapping, not credentials"],"sources":[{"type":"single-session","id":"SEC-004","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:SEC-005","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S2","type":"vulnerability","file":"scripts/ai-review.js","line":222,"title":"OS command execution in CLI scripts","description":"SonarCloud flags execSync/spawnSync in CLI scripts. These execute git commands with file paths that could contain special characters. Scripts are developer-only tools.","recommendation":"Validate and sanitize file paths before passing to shell commands. Use array-based spawn instead of shell string interpolation where possible.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud hotspots for command-injection in scripts/ai-review.js, check-pattern-compliance.js, check-review-needed.js","10 HIGH probability hotspots for command injection"],"sources":[{"type":"single-session","id":"SEC-005","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:SEC-006","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S2","type":"vulnerability","file":"functions/src/admin.ts","line":143,"title":"ReDoS vulnerable regex patterns","description":"SonarCloud flags 33 regex patterns as vulnerable to ReDoS (super-linear runtime due to backtracking). Most are in CLI scripts but some are in production code (admin.ts, security-logger.ts, sentry.client.ts).","recommendation":"Review flagged regexes in production code. Use atomic groups or possessive quantifiers. For CLI scripts, input is bounded so risk is low.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud hotspots for dos/S5852 rule","33 MEDIUM probability hotspots across scripts and app code"],"sources":[{"type":"single-session","id":"SEC-006","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:SEC-007","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S3","type":"vulnerability","file":"components/celebrations/confetti-burst.tsx","line":39,"title":"Math.random for visual effects","description":"SonarCloud flags Math.random() usage in celebration components. These are for visual randomization (confetti colors, positions), not security purposes.","recommendation":"FALSE POSITIVE. Math.random is appropriate for visual effects. Document that these are non-security uses.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud hotspots for weak-cryptography/S2245","10 occurrences in confetti-burst.tsx and firework-burst.tsx"],"sources":[{"type":"single-session","id":"SEC-007","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PROC-001","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"process","severity":"S2","type":"process-gap","file":".github/workflows/auto-label-review-tier.yml","line":18,"title":"GitHub Actions using version tags instead of commit SHAs","description":"5 workflows use actions/checkout@v4, actions/setup-node@v4, and tj-actions/changed-files@v46 instead of pinning to commit SHAs. Version tags can be moved, creating supply chain risk.","recommendation":"Pin all GitHub Actions to full commit SHAs. backlog-enforcement.yml already follows this pattern correctly.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["auto-label-review-tier.yml:18 uses actions/checkout@v4","docs-lint.yml:36 uses tj-actions/changed-files@v46","backlog-enforcement.yml:17 uses actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 (correct)","SonarCloud hotspots for githubactions:S7637","2 workflows flagged"],"sources":[{"type":"single-session","id":"PROC-001","date":"2026-01-17","category":"process"},{"type":"single-session","id":"SEC-008","date":"2026-01-17","category":"security"}],"merged_from":["PROC-001","SEC-008"],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:SEC-009","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S3","type":"vulnerability","file":".github/workflows/deploy-firebase.yml","line":58,"title":"Secrets expanded in run block","description":"SonarCloud flags secret expansion in GitHub Actions run block. The secret is written to a temporary file with chmod 600.","recommendation":"Current implementation is reasonable - file is temporary and permissions are restricted. Consider using action inputs instead of shell expansion for extra safety.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud hotspot for githubactions:S7636","Secret written to temp file with restricted permissions"],"sources":[{"type":"single-session","id":"SEC-009","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:SEC-010","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S3","type":"vulnerability","file":"components/providers/error-boundary.tsx","line":84,"title":"process.env.NODE_ENV checks for debug info","description":"Components use process.env.NODE_ENV === 'development' to conditionally show debug info. This is correct Next.js pattern for dev-only features.","recommendation":"No action needed. This is the correct pattern for development-only debugging.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["10 occurrences of process.env.NODE_ENV checks in components","All guard debug output, not secrets"],"sources":[{"type":"single-session","id":"SEC-010","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:SEC-011","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S3","type":"vulnerability","file":".claude/settings.json","line":1,"title":"Agent config files present","description":".claude/ directory contains agent configurations, skills, and hooks. No obvious prompt injection patterns found in quick review.","recommendation":"Periodically review .claude/ configs for suspicious patterns. Current configs appear safe.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["19 files in .claude/ directory","settings.json, hooks/, skills/, commands/ all present"],"sources":[{"type":"single-session","id":"SEC-011","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:DOC-001","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"documentation","severity":"S1","type":"tech-debt","file":"SESSION_CONTEXT.md","line":47,"title":"16 broken anchor links detected by docs:check","description":"docs:check reports 16 broken anchor links across multiple files including SESSION_CONTEXT.md, ROADMAP.md, DOCUMENTATION_STANDARDS.md, and generated README files. These anchors reference non-existent headings.","recommendation":"Fix anchor references to match actual heading slugs or remove broken anchors.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["docs:check reports 16 broken anchor links","SESSION_CONTEXT.md:47 #-active-sprint-operational-visibility-p0","src/dataconnect-generated/README.md:9 #generated-javascript-readme"],"sources":[{"type":"single-session","id":"DOC-001","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:DOC-002","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"documentation","severity":"S1","type":"tech-debt","file":"docs/reviews/2026-Q1/PERFORMANCE_AUDIT_PLAN_2026_Q1.md","line":1,"title":"20 placeholder issues across 5 template instances","description":"docs:sync-check reports 20 placeholder issues: SECURITY_AUDIT_PLAN (2), PERFORMANCE_AUDIT_PLAN (8), REFACTORING_AUDIT_PLAN (2), DOCUMENTATION_AUDIT_PLAN (6), PROCESS_AUDIT_PLAN (2). Templates were not fully instantiated.","recommendation":"Replace all [X] and YYYY-MM-DD placeholders with actual values in 2026-Q1 plan files.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["docs:sync-check shows 20 issues","PERFORMANCE_AUDIT_PLAN_2026_Q1.md has 8 placeholders","DOCUMENTATION_AUDIT_PLAN_2026_Q1.md has 6 placeholders"],"sources":[{"type":"single-session","id":"DOC-002","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:DOC-003","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"documentation","severity":"S2","type":"tech-debt","file":"scripts/README.md","line":1,"title":"99 files fail docs:check (313 errors, 177 warnings)","description":"docs:check reports all 99 checked files have errors. Most common: missing document title (H1), missing Purpose/Overview section, missing Version History section, missing AI Instructions section.","recommendation":"Prioritize fixing core documentation files first. Consider updating DOCUMENTATION_STANDARDS.md to reflect realistic requirements for auto-generated files.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["docs:check reports 313 errors, 177 warnings across 99 files","scripts/README.md missing title, purpose, version history","src/dataconnect-generated READMEs missing required sections"],"sources":[{"type":"single-session","id":"DOC-003","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:DOC-004","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"documentation","severity":"S2","type":"tech-debt","file":"docs/TRIGGERS.md","line":1,"title":"TRIGGERS.md last updated 2026-01-02 (15 days stale)","description":"TRIGGERS.md was last updated 2026-01-02 but hooks have been updated multiple times since (pre-commit now has 8 checks, pre-push has 7). Document may be out of sync with actual trigger configuration.","recommendation":"Update TRIGGERS.md to reflect current hook counts and any new triggers added since 2026-01-02.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["Last Updated: 2026-01-02 in header","Process audit (2026-01-17) noted pre-commit: 8 checks, pre-push: 7 checks","15 days since last update"],"sources":[{"type":"single-session","id":"DOC-004","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:DOC-005","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"documentation","severity":"S2","type":"tech-debt","file":"docs/DOCUMENTATION_STANDARDS.md","line":1,"title":"DOCUMENTATION_STANDARDS.md last updated 2026-01-01 (16 days stale)","description":"DOCUMENTATION_STANDARDS.md version 1.2 was last updated 2026-01-01. Given 295 commits and significant doc changes since, standards may need refresh.","recommendation":"Review if documentation standards need updates based on lessons learned from recent audits.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["Last Updated: 2026-01-01 in header","Document Version: 1.2","295 commits since last update"],"sources":[{"type":"single-session","id":"DOC-005","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:DOC-006","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"documentation","severity":"S2","type":"tech-debt","file":"docs/DOCUMENT_DEPENDENCIES.md","line":3,"title":"DOCUMENT_DEPENDENCIES.md claims SYNCED but sync check reports 20 issues","description":"DOCUMENT_DEPENDENCIES.md header claims 'Sync Status: SYNCED' but docs:sync-check reports 20 issues. False sync status misleads maintainers.","recommendation":"Run docs:sync-check, fix all issues, then update sync status to reflect actual state.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["Header shows Version: 1.2","docs:sync-check reports 20 issues","Status mismatch between header and tooling"],"sources":[{"type":"single-session","id":"DOC-006","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:DOC-007","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"documentation","severity":"S2","type":"tech-debt","file":"docs/","line":0,"title":"15 recent commits touch docs but AUDIT_TRACKER shows only 5 categories audited today","description":"git log shows 15 commits in past 7 days affecting markdown files. While code/security/performance/process/refactoring audits done today, documentation category was last audited 2026-01-10 (Multi-AI).","recommendation":"This audit addresses the gap. Continue monitoring doc changes between audits.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["git log shows 15 recent commits to *.md","AUDIT_TRACKER.md shows Documentation: 2026-01-10 (Multi-AI)","295 commits since last doc audit"],"sources":[{"type":"single-session","id":"DOC-007","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:DOC-008","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"documentation","severity":"S3","type":"tech-debt","file":"docs/archive/","line":0,"title":"Archive docs contain significant link rot after moves","description":"CANON-0100 identified multiple archived documents with broken links (./README.md, ./ROADMAP.md from docs/archive/). This is expected for archived content but adds noise to link validation.","recommendation":"Option A: Exclude docs/archive/** from link checks. Option B: Update archive links to correct relative paths.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["CANON-0100 documents this issue","docs/archive/AI_HANDOFF-2026-01-02.md has broken relative links","Expected behavior for archived content"],"sources":[{"type":"single-session","id":"DOC-008","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:DOC-009","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"documentation","severity":"S3","type":"tech-debt","file":"docs/archive/2026-jan-deprecated/PR_REVIEW_PROMPT_TEMPLATE.md","line":1,"title":"PR_REVIEW_PROMPT_TEMPLATE.md lacks Last Updated and Version History (now archived)","description":"CANON-0097 noted this template lacks Last Updated, Status, and Version History section. Now archived at docs/archive/2026-jan-deprecated/.","recommendation":"If template is still needed, restore with proper metadata. Otherwise, update CANON-0097 as resolved via archival.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["CANON-0097 documents this issue","Template has been archived to docs/archive/2026-jan-deprecated/","Template had Created and Purpose but not Last Updated/Status"],"sources":[{"type":"single-session","id":"DOC-009","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:DOC-010","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"documentation","severity":"S3","type":"tech-debt","file":"DOCUMENTATION_INDEX.md","line":1,"title":"DOCUMENTATION_INDEX.md orphaned - not referenced by any markdown file","description":"CANON-0093 noted DOCUMENTATION_INDEX.md is not linked from README.md or other navigation docs. Primary navigation artifact is undiscoverable.","recommendation":"Add prominent link to DOCUMENTATION_INDEX.md from README.md.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["CANON-0093 documents this issue","grep shows no markdown referencing DOCUMENTATION_INDEX.md","Should be linked from README.md"],"sources":[{"type":"single-session","id":"DOC-010","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-001","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"performance","severity":"S1","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":1,"title":"Large monolithic component (1117 lines) without code splitting","description":"TodayPage is 1117 lines with 15+ state variables, 12 console.log statements, and multiple useEffect hooks. No code splitting or lazy loading despite being heavily interactive.","recommendation":"Split into smaller sub-components: TodayPageHeader, CleanTimeSection, MoodCheckInSection, HaltCheckSection, WeeklyStatsSection. Use dynamic imports for optional sections.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["wc -l shows 1117 lines","12 console.log debug statements found","15+ useState calls at component top"],"sources":[{"type":"single-session","id":"PERF-001","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-002","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"performance","severity":"S1","type":"code-smell","file":"components/admin/users-tab.tsx","line":84,"title":"No React.memo on frequently re-rendered admin list (924 lines)","description":"UsersTab is 924 lines with complex state (search, pagination, drawer, editing). Child components re-render on any state change. SonarCloud flagged cognitive complexity 27.","recommendation":"Extract UserListItem, UserSearchBar, UserDetailDrawer as memoized sub-components. Add React.memo with proper equality checks.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"DUAL_PASS_CONFIRMED","resolution":null,"evidence":["wc -l shows 924 lines","0 React.memo usage in codebase","Code audit CODE-005 flagged cognitive complexity 27"],"sources":[{"type":"single-session","id":"PERF-002","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-004","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"performance","severity":"S2","type":"code-smell","file":"components","line":0,"title":"30+ components with inline onClick arrow functions","description":"Found 30+ components passing inline arrow functions to onClick props (onClick={() => ...). These create new function references on each render, potentially causing unnecessary child re-renders.","recommendation":"Extract handlers to useCallback where components are memoized or passed to child components.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["grep onClick={() => found 30+ matches in components/","settings-page.tsx, users-tab.tsx, logs-tab.tsx among top offenders"],"sources":[{"type":"single-session","id":"PERF-004","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-005","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"performance","severity":"S2","type":"code-smell","file":"components","line":0,"title":"28 components with inline style objects","description":"Found 28 components using style={{...}} inline objects which create new object references on each render, potentially causing unnecessary re-renders.","recommendation":"Move static styles to className (Tailwind) or extract to const objects outside component. Dynamic styles should use useMemo.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["grep style={{  found 28 files with 110 total occurrences","Top offenders: NightReviewCard (14), settings-page (5), today-page (6)"],"sources":[{"type":"single-session","id":"PERF-005","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-006","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"performance","severity":"S2","type":"code-smell","file":".next/static/chunks","line":0,"title":"Large chunk file (628KB) indicates code splitting opportunity","description":"Largest chunk is 628KB. Next largest chunks: 356KB, 280KB, 220KB, 188KB. Total static directory: 3.5MB.","recommendation":"Run bundle analyzer (npm run analyze) to identify which modules are in large chunks. Consider dynamic imports for heavy libraries like framer-motion (37 imports).","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["du -h shows 628KB largest chunk","Total .next/static is 3.5MB","37 framer-motion imports across components"],"sources":[{"type":"single-session","id":"PERF-006","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-007","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"performance","severity":"S2","type":"code-smell","file":"components","line":0,"title":"20+ uses of key={index} in list rendering","description":"Found 20+ instances of key={index} or key={i} in .map() renders. Index keys cause inefficient reconciliation when list items are reordered, added, or removed.","recommendation":"Use unique stable IDs for keys (item.id, item.uid). Index keys acceptable only for truly static lists.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["grep key={i} and key={index} found 20+ matches","onboarding-wizard.tsx, Step1WorksheetCard.tsx, entry-card.tsx among offenders"],"sources":[{"type":"single-session","id":"PERF-007","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-008","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"performance","severity":"S2","type":"code-smell","file":"components/widgets/meeting-countdown.tsx","line":41,"title":"setInterval without visibility check continues in background","description":"meeting-countdown.tsx and compact-meeting-countdown.tsx run setInterval (60s/30s) even when tab is backgrounded, wasting resources.","recommendation":"Use Page Visibility API to pause intervals when document is hidden. Pattern already exists in today-page.tsx:488.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["setInterval at lines 41 and 236","No visibilitychange listener in countdown components","today-page.tsx already implements visibility pattern"],"sources":[{"type":"single-session","id":"PERF-008","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-009","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"performance","severity":"S2","type":"code-smell","file":"lib/db/meetings.ts","line":129,"title":"getAllMeetings() deprecated but still available without limit","description":"MeetingsService.getAllMeetings() fetches entire collection without limit. Marked deprecated but not removed. paginated version exists but may not be used everywhere.","recommendation":"Remove deprecated getAllMeetings or add deprecation warning. Audit call sites to ensure pagination is used.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["getAllMeetings at line 129 has no limit()","Comment says DEPRECATED, use getAllMeetingsPaginated","CANON-PERF noted similar issues"],"sources":[{"type":"single-session","id":"PERF-009","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-010","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"performance","severity":"S3","type":"code-smell","file":"components","line":0,"title":"Only 6 dynamic imports despite 101 client components","description":"Found only 6 dynamic() imports but 101 'use client' directives. Most components are bundled eagerly even if conditionally rendered.","recommendation":"Add dynamic imports for conditionally-rendered heavy components: modals, drawers, map components, admin panels.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["grep dynamic( found 6 matches","grep 'use client' found 101 matches","dynamic imports: MeetingMap, SignInModal, OnboardingWizard, AccountLinkModal, SettingsPage"],"sources":[{"type":"single-session","id":"PERF-010","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-011","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"performance","severity":"S3","type":"code-smell","file":"components","line":0,"title":"useMemo/useCallback usage is inconsistent","description":"Found 11 useMemo and 10 useCallback usages, but 0 React.memo. Without memo on child components, useCallback provides limited benefit.","recommendation":"Add React.memo to list item components and frequently re-rendered children before useCallback provides full benefit.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["grep useMemo found 11 files","grep useCallback found 10 files","grep React.memo found 0 files"],"sources":[{"type":"single-session","id":"PERF-011","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-012","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"performance","severity":"S3","type":"code-smell","file":"next.config.mjs","line":14,"title":"Image optimization disabled (unoptimized: true)","description":"Next.js image optimization is disabled via images: { unoptimized: true }. All images served at full resolution without WebP conversion or responsive sizing. CANON-0047 flagged this as S1.","recommendation":"Enable image optimization or implement static-friendly responsive pipeline. Consider using Cloudinary/Imgix for static export.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["next.config.mjs has unoptimized: true","Only 5 next/image imports found","0 <img> tags (good) but images may be CSS backgrounds"],"sources":[{"type":"single-session","id":"PERF-012","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PROC-002","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"process","severity":"S3","type":"process-gap","file":".github/workflows/docs-lint.yml","line":36,"title":"tj-actions/changed-files without CVE-pinned version","description":"docs-lint.yml uses tj-actions/changed-files@v46 without SHA pin. ci.yml correctly pins to SHA for CVE-2025-30066 protection.","recommendation":"Update to pinned SHA like ci.yml does: tj-actions/changed-files@c65cd883420fd2eb864698a825fc4162dd94482c","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["docs-lint.yml:36 uses @v46","ci.yml correctly uses SHA-pinned version"],"sources":[{"type":"single-session","id":"PROC-002","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PROC-003","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"process","severity":"S3","type":"process-gap","file":".husky/pre-commit","line":21,"title":"lint-staged using npx --no-install may fail if not in cache","description":"Pre-commit hook uses 'npx --no-install lint-staged' which will fail if lint-staged isn't already cached. This is intentional security measure but causes the issue we've been experiencing.","recommendation":"Document workaround in DEVELOPMENT.md: run 'npm exec lint-staged' or 'npx lint-staged' once to cache the package.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["pre-commit:22 npx --no-install lint-staged","Error: npm error npx canceled due to missing packages"],"sources":[{"type":"single-session","id":"PROC-003","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PROC-004","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"process","severity":"S3","type":"process-gap","file":".claude/hooks/session-start.sh","line":245,"title":"Multiple trap commands may override each other","description":"session-start.sh has trap at line 245 for PATTERN_ERR_TMP but earlier trap at line 42 for TEST_TMPFILE (in pre-commit). Only last trap per signal is active.","recommendation":"Consolidate trap handlers or use a cleanup function that handles multiple temp files.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["Line 245: trap 'rm -f \"$PATTERN_ERR_TMP\"' EXIT","Earlier scripts may have their own traps"],"sources":[{"type":"single-session","id":"PROC-004","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PROC-005","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"process","severity":"S2","type":"process-gap","file":"scripts/","line":0,"title":"28 scripts have 715 console.log/error/warn calls without structured logging","description":"Scripts rely on console.* calls which mix errors with stdout, making programmatic parsing difficult. No centralized logging utility exists.","recommendation":"Create scripts/lib/logger.js with levels (debug, info, warn, error) and JSON output option. Gradually migrate high-traffic scripts.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["grep found 715 console.* calls across 28 scripts","validate-audit.js:38, ai-review.js:36 among top offenders"],"sources":[{"type":"single-session","id":"PROC-005","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PROC-006","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"process","severity":"S3","type":"process-gap","file":"scripts/check-cross-doc-deps.js","line":1,"title":"Script has minimal console output (1 call)","description":"check-cross-doc-deps.js has only 1 console call, suggesting minimal user feedback during execution.","recommendation":"Add progress indicators for longer operations.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["grep count: 1 console call in check-cross-doc-deps.js"],"sources":[{"type":"single-session","id":"PROC-006","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PROC-007","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"process","severity":"S3","type":"process-gap","file":"docs/TRIGGERS.md","line":1,"title":"TRIGGERS.md last updated 2026-01-02 but hooks updated since","description":"TRIGGERS.md documents 68+ enforcement points but was last updated 2026-01-02. Pre-commit hook has 8 checks (documented) and pre-push has 7 checks. Document may be slightly stale.","recommendation":"Update TRIGGERS.md to reflect current hook counts and any changes since 2026-01-02.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["TRIGGERS.md version 1.3, last updated 2026-01-02","Pre-commit has 8 checks, pre-push has 7 checks"],"sources":[{"type":"single-session","id":"PROC-007","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PROC-008","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"process","severity":"S3","type":"process-gap","file":".claude/commands/","line":0,"title":"All 12 slash commands have frontmatter descriptions","description":"All commands in .claude/commands/ have proper YAML frontmatter with descriptions. This is working as expected.","recommendation":"No action needed - this is a positive finding.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["grep found 12 files with frontmatter","All audit-*.md, session-*.md, etc. have descriptions"],"sources":[{"type":"single-session","id":"PROC-008","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PROC-009","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"process","severity":"S2","type":"process-gap","file":".github/workflows/ci.yml","line":99,"title":"Artifact upload without retention policy","description":"CI workflow uploads coverage artifacts but doesn't specify retention period. Default is 90 days which may accumulate storage.","recommendation":"Add retention-days: 7 to actions/upload-artifact@v4 for coverage artifacts.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["ci.yml:99 uses actions/upload-artifact@v4 without retention-days"],"sources":[{"type":"single-session","id":"PROC-009","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PROC-010","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"process","severity":"S2","type":"process-gap","file":".husky/pre-push","line":48,"title":"Git diff with @{u}...HEAD fails on new branches without upstream","description":"Pre-push hook line 48 uses @{u}...HEAD which fails silently on branches without upstream tracking. The hook handles this gracefully but could be clearer.","recommendation":"Add explicit message when no upstream is detected instead of 'No upstream or no JS/TS/JSON changes detected'.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["pre-push:48 git diff --name-only --diff-filter=ACMR @{u}...HEAD","Error handled at line 52-53"],"sources":[{"type":"single-session","id":"PROC-010","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-001","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"refactoring","severity":"S1","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":1,"title":"TodayPage god component (1117 lines, 14 useState, 10 useEffect, 24 imports)","description":"TodayPage mixes 5+ responsibilities: persistence, realtime sync, analytics, UI state, localStorage recovery. Highest LOC in codebase with 14 useState hooks and 10 useEffect hooks creating complex state interdependencies.","recommendation":"Split into hooks: useDailyLogState, useDailyLogRealtime, useWeeklyStats. Move Firestore queries to service layer. Target <400 lines per component.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"DUAL_PASS_CONFIRMED","resolution":null,"evidence":["wc -l shows 1117 lines","grep useState shows 14 usages","grep useEffect shows 10 usages","grep import shows 24 imports"],"sources":[{"type":"single-session","id":"REF-001","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-002","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"refactoring","severity":"S1","type":"code-smell","file":"components/admin/users-tab.tsx","line":1,"title":"UsersTab god component (924 lines, 21 useState, 3 useEffect)","description":"Admin users component with 924 lines, 21 useState hooks for managing search, pagination, drawer, editing states. Too many responsibilities in single component making it hard to maintain and test.","recommendation":"Extract UserListItem, UserSearchBar, UserDetailDrawer as separate components. Create useUserSearch and useUserDetail hooks.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"DUAL_PASS_CONFIRMED","resolution":null,"evidence":["wc -l shows 924 lines","grep useState shows 21 usages","5 interfaces defined in file"],"sources":[{"type":"single-session","id":"REF-002","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-003","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"refactoring","severity":"S2","type":"code-smell","file":"components/growth/Step1WorksheetCard.tsx","line":1,"title":"Step1WorksheetCard large component (845 lines) with nested conditionals","description":"Complex growth worksheet with 845 lines, large initialData object (34 fields), and deeply nested switch statements for question rendering.","recommendation":"Extract FormSection, QuestionBlock as separate components. Move FORM_SECTIONS constant to separate config file.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["wc -l shows 845 lines","34 fields in initialData object","switch with multiple cases for question types"],"sources":[{"type":"single-session","id":"REF-003","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-004","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"refactoring","severity":"S2","type":"code-smell","file":"components/notebook/pages/resources-page.tsx","line":1,"title":"ResourcesPage large component (728 lines) mixing meetings and sober homes","description":"Resources page handles two separate resource types (meetings, sober homes) with distinct data fetching, filtering, and display logic in single component.","recommendation":"Extract MeetingsSection and SoberHomesSection as separate components. Create useResourceFilters hook for shared filter state.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["wc -l shows 728 lines","Two distinct resource types with separate logic","Dynamic import for MeetingMap"],"sources":[{"type":"single-session","id":"REF-004","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-005","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"refactoring","severity":"S1","type":"code-smell","file":"lib/db/quotes.ts","line":44,"title":"Time-of-day rotation logic duplicated in quotes.ts and slogans.ts (80+ lines)","description":"getTimeOfDay() and getQuoteForNow()/getSloganForNow() contain identical complex rotation algorithms (time windows + day-of-year seed) duplicated between two files. Bug fixes must be applied twice.","recommendation":"Extract to lib/utils/content-rotation.ts with generic getTimeOfDay() and getRotatingContentForNow<T>() functions.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["quotes.ts:44-48 getTimeOfDay identical to slogans.ts:64-68","quotes.ts:58-95 getQuoteForNow pattern matches slogans.ts:78-115"],"sources":[{"type":"single-session","id":"REF-005","date":"2026-01-17","category":"refactoring"},{"type":"canon","id":"CANON-0065","file":"CANON-REFACTOR.jsonl"}],"merged_from":["REF-005","CANON-0065"],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-006","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"refactoring","severity":"S2","type":"code-smell","file":"hooks/use-journal.ts","line":281,"title":"reCAPTCHA token fetch pattern repeated 5x across codebase","description":"Same getRecaptchaToken() boilerplate repeated in firestore-service.ts (3x) and use-journal.ts (2x). Easy to forget when adding new Cloud Function calls.","recommendation":"Create callSecureFunction wrapper in lib/utils/callable-errors.ts that auto-injects reCAPTCHA token.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["lib/firestore-service.ts:126-144 saveDailyLog reCAPTCHA","lib/firestore-service.ts:376-391 saveNotebookJournalEntry reCAPTCHA","hooks/use-journal.ts:281-299 addEntry reCAPTCHA"],"sources":[{"type":"single-session","id":"REF-006","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-007","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"refactoring","severity":"S2","type":"code-smell","file":"components/growth/SpotCheckCard.tsx","line":24,"title":"Growth card dialog/save pattern duplicated across 4 components","description":"isOpen/isSaving/handleSave state management pattern repeated in SpotCheckCard, GratitudeCard, NightReviewCard, Step1WorksheetCard.","recommendation":"Extract useGrowthCardDialog(saveConfig) hook that manages isOpen, isSaving, and provides handleSave.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SpotCheckCard.tsx:24-88 isOpen/isSaving/handleSave","GratitudeCard.tsx:28-99 same pattern","NightReviewCard.tsx:75-165 same pattern","Step1WorksheetCard.tsx:455-650 same pattern"],"sources":[{"type":"single-session","id":"REF-007","date":"2026-01-17","category":"refactoring"},{"type":"canon","id":"CANON-0079","file":"CANON-REFACTOR.jsonl"}],"merged_from":["REF-007","CANON-0079"],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-008","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"refactoring","severity":"S1","type":"code-smell","file":"hooks/use-journal.ts","line":31,"title":"Direct Firebase SDK usage in 22+ files bypasses service layer","description":"Components and hooks import directly from firebase/firestore (collection, doc, onSnapshot, getDocs) instead of using service layer. SDK changes would require touching 22+ files.","recommendation":"Route all Firebase access through lib/firestore-service.ts or dedicated services. Components should only import from services.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["hooks/use-journal.ts:31-36 imports collection, query, orderBy, onSnapshot","components/notebook/pages/today-page.tsx:309 dynamic import firebase/firestore","components/admin/admin-crud-table.tsx:47-54 direct collection/getDocs"],"sources":[{"type":"single-session","id":"REF-008","date":"2026-01-17","category":"refactoring"},{"type":"canon","id":"CANON-0075","file":"CANON-REFACTOR.jsonl"}],"merged_from":["REF-008","CANON-0075"],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-010","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"refactoring","severity":"S3","type":"code-smell","file":"lib/firestore-service.ts","line":200,"title":"CloudFunctionError interface defined twice in same file","description":"CloudFunctionError interface is defined at both line 200-203 and line 423-426 in firestore-service.ts. Unnecessary duplication within same file.","recommendation":"Define once at module level or extract to lib/types/errors.ts","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["lib/firestore-service.ts:200-203 interface CloudFunctionError","lib/firestore-service.ts:423-426 interface CloudFunctionError"],"sources":[{"type":"single-session","id":"REF-010","date":"2026-01-17","category":"refactoring"},{"type":"canon","id":"CANON-0087","file":"CANON-REFACTOR.jsonl"}],"merged_from":["REF-010","CANON-0087"],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-011","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"refactoring","severity":"S3","type":"code-smell","file":"components/notebook/features/quick-actions-fab.tsx","line":12,"title":"2 tracked TODO markers in codebase","description":"Found 2 TODO/FIXME markers: quick-actions-fab.tsx:12 (customizable action buttons) and firestore-adapter.ts:51 (configurable limits).","recommendation":"Convert to GitHub issues or resolve. TODOs without tracking risk being forgotten.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["quick-actions-fab.tsx:12 TODO: Make action buttons customizable","firestore-adapter.ts:51 TODO: Pass limit to FirestoreService"],"sources":[{"type":"single-session","id":"REF-011","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-012","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"refactoring","severity":"S3","type":"code-smell","file":"lib/logger.ts","line":86,"title":"4 linter suppressions in codebase (ts-ignore, ts-expect-error, eslint-disable)","description":"Found 4 linter suppressions: logger.ts:86 (eslint-disable no-control-regex), resources-page.tsx:444 (ts-expect-error), admin/page.tsx:47 (eslint-disable react-hooks), use-geolocation.ts:171 (eslint-disable exhaustive-deps).","recommendation":"Review each suppression for possible removal or proper typing solution.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["lib/logger.ts:86 eslint-disable-next-line no-control-regex","components/notebook/pages/resources-page.tsx:444 @ts-expect-error","app/admin/page.tsx:47 eslint-disable react-hooks/set-state-in-effect","hooks/use-geolocation.ts:171 eslint-disable-line react-hooks/exhaustive-deps"],"sources":[{"type":"single-session","id":"REF-012","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:EFFP-001","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"package.json","line":5,"title":"No npm run dev:offline script - requires 2 terminals for emulator dev","description":"Development with Firebase emulators requires manually running 'firebase emulators:start' in one terminal and 'npm run dev' in another. This friction reduces likelihood of offline testing.","recommendation":"Add 'dev:offline': 'concurrently \"firebase emulators:start\" \"npm run dev\"' to package.json scripts. Install concurrently as devDependency.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["grep 'dev:offline' package.json returns no matches","DEVELOPMENT.md lines 79-85 show 2-terminal workflow","EFF-001 from 2026-01-13 audit still unresolved"],"sources":[{"type":"single-session","id":"EFFP-001","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:EFFP-002","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"scripts/","line":0,"title":"No scripts/doctor.js for environment validation","description":"No automated environment validation script exists. Developers must manually verify Node version, Firebase CLI, env vars, and other prerequisites. This causes 'works on my machine' issues.","recommendation":"Create scripts/doctor.js that checks: Node 18+, Firebase CLI installed, .env.local exists with required vars, functions/node_modules exists. Add 'doctor': 'node scripts/doctor.js' to package.json.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["ls scripts/doctor.js returns 'No such file'","package.json has no 'doctor' script","EFF-003 from 2026-01-13 audit still unresolved"],"sources":[{"type":"single-session","id":"EFFP-002","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:EFFP-003","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S3","type":"code-smell","file":"package.json","line":5,"title":"Setup requires multiple commands - no single bootstrap","description":"New developer setup requires: git clone, npm install, cd functions && npm install, copy .env.local template, firebase login. No single 'npm run setup' command exists.","recommendation":"Add 'setup': 'npm install && cd functions && npm install && npm run doctor' to package.json. Consider adding .env.local.example template.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["DEVELOPMENT.md:42-46 shows multi-step setup","package.json has no 'setup' script"],"sources":[{"type":"single-session","id":"EFFP-003","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:EFFP-004","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"lib/logger.ts","line":1,"title":"No correlation IDs for request tracing (frontend to backend)","description":"No correlation/request IDs are generated or passed from frontend to Cloud Functions. When debugging production issues, cannot trace a user's journey across client and server logs.","recommendation":"Generate UUID on client per request, pass as X-Correlation-Id header to Cloud Functions, include in all logger calls. Add correlationId to LogContext type.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["grep 'correlationId|requestId|traceId' returns only node_modules hits","lib/logger.ts has no correlation ID support","EFF-006 from 2026-01-13 audit still unresolved"],"sources":[{"type":"single-session","id":"EFFP-004","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:EFFP-005","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"app/","line":0,"title":"8:1 ratio of console.log to structured logger calls (3111 vs 394)","description":"Codebase has 3111 console.log statements vs 394 logger.* calls. console.log output is not captured by Sentry, not redacted for PII, and provides no structured context for debugging.","recommendation":"Replace console.log with logger.info/warn/error in production code paths. Keep console.log only for local debugging (remove before commit). Consider ESLint rule to warn on console.log.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["grep -c 'console.log' returns 3111","grep -c 'logger\\.' returns 394","Ratio: 7.9:1"],"sources":[{"type":"single-session","id":"EFFP-005","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:EFFP-006","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S3","type":"code-smell","file":"components/","line":0,"title":"Error messages lack actionable fix hints - generic 'Please try again'","description":"15+ error toast messages use generic 'Please try again' without actionable guidance. Users don't know if they should: wait, refresh, check network, or contact support.","recommendation":"Add context-specific hints: 'Check your internet connection', 'This may take a moment, please wait', 'If this persists, contact support'. Include error code for support reference.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["grep 'Please try again' returns 15+ matches","components/admin/users-tab.tsx has 6 instances","components/growth/*.tsx has 4 instances"],"sources":[{"type":"single-session","id":"EFFP-006","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:EFFP-007","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"hooks/use-journal.ts","line":319,"title":"No offline write queue - data loss when user goes offline","description":"Journal writes (addEntry, updateEntry) fail immediately when offline. No queue mechanism to hold writes and sync when back online. For a recovery app where users may have spotty connectivity, this causes data loss and frustration.","recommendation":"Implement IndexedDB-based write queue: 1) Queue writes locally when offline, 2) Sync on reconnection, 3) Handle conflicts with last-write-wins or prompt user. Consider using Firebase's built-in offline persistence first.","effort":"E3","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"DUAL_PASS_CONFIRMED","resolution":null,"evidence":["hooks/use-journal.ts:319-340 calls httpsCallable directly with no offline handling","grep 'offlineQueue|writeQueue|pendingWrites' returns no app code matches","BOT-001 from 2026-01-13 audit identifies this as top bottleneck"],"sources":[{"type":"single-session","id":"EFFP-007","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:EFFP-008","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"lib/firebase.ts","line":1,"title":"No Firebase persistence enabled - Firestore cache not persisted","description":"enableIndexedDbPersistence or enableMultiTabIndexedDbPersistence is not called. Firestore data is only cached in memory, lost on page refresh. Users cannot view previously loaded data while offline.","recommendation":"Call enableIndexedDbPersistence(db) in Firebase initialization. Handle the 'failed-precondition' error for multi-tab scenarios. This is a quick win that enables offline reads with minimal code.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["grep 'enablePersistence|enableIndexedDbPersistence' returns no matches outside node_modules","lib/firebase.ts does not enable persistence"],"sources":[{"type":"single-session","id":"EFFP-008","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:EFFP-009","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"public/","line":0,"title":"No service worker - no offline asset caching","description":"No service worker exists for caching static assets (JS, CSS, images). When offline, the app cannot load at all even though it's a PWA candidate with install-prompt component.","recommendation":"Add next-pwa or workbox-webpack-plugin to generate service worker. Configure precaching for app shell and runtime caching for API responses. Coordinate with Firebase persistence for full offline experience.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["ls public/sw.js returns 'No such file'","components/pwa/install-prompt.tsx exists but no SW to install","next.config.js has no PWA configuration"],"sources":[{"type":"single-session","id":"EFFP-009","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:EFFP-010","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S3","type":"code-smell","file":"components/status/offline-indicator.tsx","line":7,"title":"OfflineIndicator is display-only - no sync status or retry mechanism","description":"OfflineIndicator component shows online/offline status but provides no: pending write count, sync progress, or manual retry button. Users have no visibility into what's happening with their data.","recommendation":"Enhance OfflineIndicator to show: 1) Pending write count from queue, 2) Last successful sync time, 3) Manual 'Sync Now' button. Integrate with write queue from EFFP-007.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["components/status/offline-indicator.tsx only checks navigator.onLine","No integration with any sync/queue system","Component is imported in today-page.tsx but is passive"],"sources":[{"type":"single-session","id":"EFFP-010","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:DEDUP-0001","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S0","type":"vulnerability","file":"","line":0,"title":"Re-enable App Check on Cloud Functions","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0001","source":"backlog"}],"merged_from":[],"pr_bucket":"-","consensus_score":null,"dependencies":["DEDUP-0003","DEDUP-0004"]}
{"source_id":"review:DEDUP-0002","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S0","type":"vulnerability","file":"","line":0,"title":"Close legacy journalEntries write path","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0002","source":"backlog"}],"merged_from":[],"pr_bucket":"PR2","consensus_score":null,"dependencies":[]}
{"source_id":"review:DEDUP-0003","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Make reCAPTCHA fail-closed","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0003","source":"backlog"}],"merged_from":[],"pr_bucket":"PR3","consensus_score":null,"dependencies":[]}
{"source_id":"review:DEDUP-0004","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Complete rate limiting (IP + admin)","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0004","source":"backlog"}],"merged_from":[],"pr_bucket":"PR4","consensus_score":null,"dependencies":["DEDUP-0003"]}
{"source_id":"review:DEDUP-0005","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Replace console.\\* with logger","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0005","source":"backlog"}],"merged_from":[],"pr_bucket":"PR8","consensus_score":null,"dependencies":[]}
{"source_id":"review:DEDUP-0006","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Fix journal entry type mismatch","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0006","source":"backlog"}],"merged_from":[],"pr_bucket":"PR6","consensus_score":null,"dependencies":[]}
{"source_id":"review:DEDUP-0013","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add .strict() to Zod schemas","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0013","source":"backlog"}],"merged_from":[],"pr_bucket":"-","consensus_score":null,"dependencies":[]}
{"source_id":"review:DEDUP-0011","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S0","type":"code-smell","file":"","line":0,"title":"Fix useJournal memory leak","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0011","source":"backlog"}],"merged_from":[],"pr_bucket":"PR1","consensus_score":null,"dependencies":[]}
{"source_id":"review:DEDUP-0007","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Extract error handling utility","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0007","source":"backlog"}],"merged_from":[],"pr_bucket":"PR7","consensus_score":null,"dependencies":[]}
{"source_id":"review:DEDUP-0008","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Remove deprecated saveNotebookJournalEntry","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0008","source":"backlog"}],"merged_from":[],"pr_bucket":"-","consensus_score":null,"dependencies":["DEDUP-0006"]}
{"source_id":"review:DEDUP-0012","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Enable SSR for landing page","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0012","source":"backlog"}],"merged_from":[],"pr_bucket":"PR13","consensus_score":null,"dependencies":[]}
{"source_id":"review:DEDUP-0014","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S0","type":"code-smell","file":"scripts/assign-review-tier.js","line":0,"title":"Reduce 47 CRITICAL complexity functions","description":"","recommendation":"","effort":"E3","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0014","source":"backlog"},{"type":"backlog","id":"CANON-0068","source":"backlog"},{"type":"canon","id":"CANON-0068","file":"CANON-REFACTOR.jsonl"}],"merged_from":["DEDUP-0014","CANON-0068"],"pr_bucket":"PR18","consensus_score":null,"dependencies":["CANON-0068"]}
{"source_id":"review:DEDUP-0009","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Extract time rotation utilities","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0009","source":"backlog"}],"merged_from":[],"pr_bucket":"PR10","consensus_score":null,"dependencies":[]}
{"source_id":"review:DEDUP-0010","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Consolidate DailyQuoteCard","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0010","source":"backlog"}],"merged_from":[],"pr_bucket":"PR9","consensus_score":null,"dependencies":[]}
{"source_id":"review:DEDUP-0015","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S0","type":"code-smell","file":"","line":0,"title":"Convert CI gates to blocking","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0015","source":"backlog"}],"merged_from":[],"pr_bucket":"PR5","consensus_score":null,"dependencies":[]}
{"source_id":"review:LEGACY-001","source_file":"docs/aggregation/unique-findings.jsonl","original_id":null,"category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Item Name","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"LEGACY-001","source":"audit-backlog"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:SEC-008","source_file":"docs/aggregation/raw-findings.jsonl","original_id":null,"category":"security","severity":"S3","type":"vulnerability","file":".github/workflows/auto-label-review-tier.yml","line":29,"title":"GitHub Actions using version tags instead of SHA","description":"SonarCloud flags GitHub Actions using version tags (e.g., actions/checkout@v4) instead of full commit SHA hashes. Version tags can be moved to point to different commits.","recommendation":"Pin GitHub Actions to full commit SHA for supply chain security. Low risk as these are official GitHub actions.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["SonarCloud hotspots for githubactions:S7637","2 workflows flagged"],"sources":[{"type":"single-session","id":"SEC-008","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:PERF-003","source_file":"docs/aggregation/raw-findings.jsonl","original_id":null,"category":"performance","severity":"S2","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":396,"title":"12 debug console.log statements in production code","description":"Today-page.tsx contains 12 console.log/error statements for debugging that execute in production, adding noise and minor performance overhead.","recommendation":"Replace with logger utility or remove. Debug statements at lines 396, 422, 511, 524, 529, 532, 545, 562, 584.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"TOOL_VALIDATED","resolution":null,"evidence":["grep console.log found 12 matches in today-page.tsx","Code audit CODE-002 flagged same issue"],"sources":[{"type":"single-session","id":"PERF-003","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:REF-009","source_file":"docs/aggregation/raw-findings.jsonl","original_id":null,"category":"refactoring","severity":"S2","type":"code-smell","file":"lib/firestore-service.ts","line":365,"title":"Deprecated saveNotebookJournalEntry still used in 6+ UI components","description":"saveNotebookJournalEntry marked DEPRECATED but still used in GratitudeCard, SpotCheckCard, NightReviewCard, Step1WorksheetCard, today-page. Creates dual write paths with inconsistent metadata.","recommendation":"Migrate callers to useJournal.addEntry. Remove deprecated method.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":null,"created":"2026-01-30","verified_by":"MANUAL_ONLY","resolution":null,"evidence":["lib/firestore-service.ts:365-457 saveNotebookJournalEntry (DEPRECATED comment)","grep saveNotebookJournalEntry found 6+ component usages"],"sources":[{"type":"single-session","id":"REF-009","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":null,"consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0001","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0001","category":"code-quality","severity":"S1","type":"code-smell","file":"tests/scripts/check-docs-light.test.ts","line":0,"title":"5 failing tests in check-docs-light.test.ts","description":"5 tests failing in check-docs-light.test.ts: 'checks for required sections', 'validates internal links', 'checks Last Updated date', 'exits 0 when no errors found', 'exits 1 when errors found'. Tests appear to have issues with extractJSON parsing or script behavior changes.","recommendation":"Debug the check-docs-light.js script and update tests to match current behavior. Tests expect JSON output but may not be parsing correctly.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-001","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0002","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0002","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Debug console.log statements in production code","description":"12 console.log/error statements in today-page.tsx used for debugging. While wrapped in NODE_ENV checks, these add noise and should use structured logging.","recommendation":"Replace debug console statements with the project's logger utility (lib/logger.ts) which provides structured logging and Sentry integration.","effort":"E1","status":"NEW","roadmap_ref":"M2.3-REF-003","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-002","date":"2026-01-17","category":"code"},{"type":"single-session","id":"PERF-003","date":"2026-01-17","category":"performance"}],"merged_from":["CODE-002","PERF-003"],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0003","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0003","category":"code-quality","severity":"S2","type":"code-smell","file":"functions/src/admin.ts","line":0,"title":"High cognitive complexity in adminSetUserPrivilege","description":"SonarCloud reports cognitive complexity of 16 (threshold 15) for adminSetUserPrivilege function. Function handles privilege validation, security logging, and Firestore operations.","recommendation":"Extract privilege type validation into a separate helper function to reduce cognitive load.","effort":"E2","status":"NEW","roadmap_ref":"M2.3-REF-001","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-003","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0004","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0004","category":"code-quality","severity":"S1","type":"code-smell","file":"functions/src/admin.ts","line":0,"title":"Very high cognitive complexity in adminListUsers","description":"SonarCloud reports cognitive complexity of 34 (threshold 15) for adminListUsers function. Function handles pagination, cursor validation, sorting, and data transformation.","recommendation":"Break down into smaller functions: extractCursorValue(), buildUserQuery(), transformUserResults(). Each handles one concern.","effort":"E2","status":"NEW","roadmap_ref":"M2.3-REF-001","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-004","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0005","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0005","category":"code-quality","severity":"S2","type":"code-smell","file":"components/admin/users-tab.tsx","line":0,"title":"High cognitive complexity in UsersTab component","description":"SonarCloud reports cognitive complexity of 27 (threshold 15) for UsersTab function. Component manages pagination, search, detail drawer, editing, and privilege state.","recommendation":"Extract sub-components: UserSearchSection, UserDetailDrawer, PrivilegeEditor. Use custom hooks for state management.","effort":"E2","status":"NEW","roadmap_ref":"M2.3-REF-002","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-005","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0006","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0006","category":"code-quality","severity":"S3","type":"code-smell","file":"components/admin/logs-tab.tsx","line":0,"title":"void operator usage flagged by SonarCloud","description":"SonarCloud flags 'void refresh(() => active)' as code smell. The void operator is used to explicitly discard the Promise return value.","recommendation":"This is intentional to handle async functions in event handlers. Consider adding a comment explaining the pattern or using .catch() for explicit error handling.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-006","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0007","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0007","category":"code-quality","severity":"S2","type":"code-smell","file":"lib/logger.ts","line":0,"title":"No correlation/request ID tracing","description":"Logger does not include correlation IDs or request tracing. Frontend-to-backend requests cannot be traced through logs.","recommendation":"Add correlation ID generation in frontend, pass through Cloud Function calls, and include in all log entries for end-to-end tracing.","effort":"E2","status":"NEW","roadmap_ref":"A21","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-007","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0008","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0008","category":"code-quality","severity":"S3","type":"code-smell","file":"components/notebook/pages/resources-page.tsx","line":0,"title":"@ts-expect-error suppression for type mismatch","description":"TypeScript error suppressed with @ts-expect-error comment. The setGenderFilter expects specific union type but receives broader string.","recommendation":"Cast the option value explicitly or narrow the type at the call site rather than suppressing the error.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-008","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0009","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0009","category":"code-quality","severity":"S3","type":"code-smell","file":"lib/database/firestore-adapter.ts","line":0,"title":"TODO comment for unimplemented feature","description":"TODO comment indicates FirestoreService doesn't support configurable limits yet.","recommendation":"Either implement configurable limits in FirestoreService or track as technical debt in TECHNICAL_DEBT.md.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-009","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0010","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0010","category":"code-quality","severity":"S3","type":"code-smell","file":"components/notebook/features/quick-actions-fab.tsx","line":0,"title":"TODO comment for user preferences feature","description":"TODO comment for making action buttons customizable by user.","recommendation":"Track in ROADMAP.md or TECHNICAL_DEBT.md if this is a planned feature.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-010","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0012","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0012","category":"code-quality","severity":"S2","type":"code-smell","file":"components/admin/admin-tabs.tsx","line":0,"title":"Nested component definition","description":"SonarCloud flags component definition inside parent component. This causes unnecessary re-renders and breaks React optimization.","recommendation":"Move the inner component outside the parent and pass data as props.","effort":"E1","status":"NEW","roadmap_ref":"PERF-002","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-012","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0015","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0015","category":"security","severity":"S1","type":"vulnerability","file":"firebase.json","line":0,"title":"Missing critical security headers","description":"Missing security headers: Content-Security-Policy (CSP), X-Frame-Options, X-Content-Type-Options, Strict-Transport-Security (HSTS), Referrer-Policy, Permissions-Policy. Only Cache-Control and COOP are configured.","recommendation":"Add comprehensive security headers to firebase.json hosting configuration. This was also flagged in audit-2026-01-13 (SEC-002). Priority fix.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"SEC-001","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0016","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0016","category":"security","severity":"S1","type":"vulnerability","file":"functions/src/index.ts","line":0,"title":"App Check disabled on Cloud Functions","description":"Firebase App Check is disabled (requireAppCheck: false) on all Cloud Functions. Comment says 'TEMPORARILY DISABLED - waiting for throttle to clear'. This removes bot protection layer.","recommendation":"Re-enable App Check once throttle period clears. This was flagged in audit-2026-01-13 (SEC-001). Check if throttle has cleared.","effort":"E0","status":"NEW","roadmap_ref":"MASTER-0078","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"SEC-002","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0017","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0017","category":"security","severity":"S2","type":"vulnerability","file":"functions/src/recaptcha-verify.ts","line":0,"title":"Hardcoded reCAPTCHA site key fallback","description":"Hardcoded reCAPTCHA site key as fallback: '6LdeazosAAAAAMDNCh1hTUDKh_UeS6xWY1-85B2O'. Makes key rotation difficult.","recommendation":"Remove hardcoded fallback. Fail early with clear error if RECAPTCHA_SITE_KEY env var is not set.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"SEC-003","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0018","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0018","category":"security","severity":"S3","type":"vulnerability","file":"lib/utils/errors.ts","line":0,"title":"SonarCloud: Potentially hard-coded password pattern","description":"SonarCloud flags error message strings containing 'password' as potential hardcoded credentials. These are user-facing error messages, not actual credentials.","recommendation":"This is a FALSE POSITIVE. The strings are Firebase error code descriptions (e.g., 'auth/wrong-password': 'Incorrect password'). No action needed.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"SEC-004","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0019","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0019","category":"security","severity":"S2","type":"vulnerability","file":"scripts/ai-review.js","line":0,"title":"OS command execution in CLI scripts","description":"SonarCloud flags execSync/spawnSync in CLI scripts. These execute git commands with file paths that could contain special characters. Scripts are developer-only tools.","recommendation":"Validate and sanitize file paths before passing to shell commands. Use array-based spawn instead of shell string interpolation where possible.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"SEC-005","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0020","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0020","category":"security","severity":"S2","type":"vulnerability","file":"functions/src/admin.ts","line":0,"title":"ReDoS vulnerable regex patterns","description":"SonarCloud flags 33 regex patterns as vulnerable to ReDoS (super-linear runtime due to backtracking). Most are in CLI scripts but some are in production code (admin.ts, security-logger.ts, sentry.client.ts).","recommendation":"Review flagged regexes in production code. Use atomic groups or possessive quantifiers. For CLI scripts, input is bounded so risk is low.","effort":"E2","status":"NEW","roadmap_ref":"M2.3-REF-001","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"SEC-006","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0021","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0021","category":"security","severity":"S3","type":"vulnerability","file":"components/celebrations/confetti-burst.tsx","line":0,"title":"Math.random for visual effects","description":"SonarCloud flags Math.random() usage in celebration components. These are for visual randomization (confetti colors, positions), not security purposes.","recommendation":"FALSE POSITIVE. Math.random is appropriate for visual effects. Document that these are non-security uses.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"SEC-007","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0022","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0022","category":"process","severity":"S2","type":"process-gap","file":"","line":0,"title":"GitHub Actions using version tags instead of commit SHAs","description":"5 workflows use actions/checkout@v4, actions/setup-node@v4, and tj-actions/changed-files@v46 instead of pinning to commit SHAs. Version tags can be moved, creating supply chain risk.","recommendation":"Pin all GitHub Actions to full commit SHAs. backlog-enforcement.yml already follows this pattern correctly.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PROC-001","date":"2026-01-17","category":"process"},{"type":"single-session","id":"SEC-008","date":"2026-01-17","category":"security"}],"merged_from":["PROC-001","SEC-008"],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0023","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0023","category":"security","severity":"S3","type":"vulnerability","file":".github/workflows/deploy-firebase.yml","line":0,"title":"Secrets expanded in run block","description":"SonarCloud flags secret expansion in GitHub Actions run block. The secret is written to a temporary file with chmod 600.","recommendation":"Current implementation is reasonable - file is temporary and permissions are restricted. Consider using action inputs instead of shell expansion for extra safety.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"SEC-009","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0024","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0024","category":"security","severity":"S3","type":"vulnerability","file":"components/providers/error-boundary.tsx","line":0,"title":"process.env.NODE_ENV checks for debug info","description":"Components use process.env.NODE_ENV === 'development' to conditionally show debug info. This is correct Next.js pattern for dev-only features.","recommendation":"No action needed. This is the correct pattern for development-only debugging.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"SEC-010","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0025","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0025","category":"security","severity":"S3","type":"vulnerability","file":".claude/settings.json","line":0,"title":"Agent config files present","description":".claude/ directory contains agent configurations, skills, and hooks. No obvious prompt injection patterns found in quick review.","recommendation":"Periodically review .claude/ configs for suspicious patterns. Current configs appear safe.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"SEC-011","date":"2026-01-17","category":"security"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0026","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0026","category":"documentation","severity":"S1","type":"tech-debt","file":"SESSION_CONTEXT.md","line":0,"title":"16 broken anchor links detected by docs:check","description":"docs:check reports 16 broken anchor links across multiple files including SESSION_CONTEXT.md, ROADMAP.md, DOCUMENTATION_STANDARDS.md, and generated README files. These anchors reference non-existent headings.","recommendation":"Fix anchor references to match actual heading slugs or remove broken anchors.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"DOC-001","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0027","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0027","category":"documentation","severity":"S1","type":"tech-debt","file":"docs/reviews/2026-Q1/PERFORMANCE_AUDIT_PLAN_2026_Q1.md","line":0,"title":"20 placeholder issues across 5 template instances","description":"docs:sync-check reports 20 placeholder issues: SECURITY_AUDIT_PLAN (2), PERFORMANCE_AUDIT_PLAN (8), REFACTORING_AUDIT_PLAN (2), DOCUMENTATION_AUDIT_PLAN (6), PROCESS_AUDIT_PLAN (2). Templates were not fully instantiated.","recommendation":"Replace all [X] and YYYY-MM-DD placeholders with actual values in 2026-Q1 plan files.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"DOC-002","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0028","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0028","category":"documentation","severity":"S2","type":"tech-debt","file":"scripts/README.md","line":0,"title":"99 files fail docs:check (313 errors, 177 warnings)","description":"docs:check reports all 99 checked files have errors. Most common: missing document title (H1), missing Purpose/Overview section, missing Version History section, missing AI Instructions section.","recommendation":"Prioritize fixing core documentation files first. Consider updating DOCUMENTATION_STANDARDS.md to reflect realistic requirements for auto-generated files.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"DOC-003","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0029","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0029","category":"documentation","severity":"S2","type":"tech-debt","file":"docs/TRIGGERS.md","line":0,"title":"TRIGGERS.md last updated 2026-01-02 (15 days stale)","description":"TRIGGERS.md was last updated 2026-01-02 but hooks have been updated multiple times since (pre-commit now has 8 checks, pre-push has 7). Document may be out of sync with actual trigger configuration.","recommendation":"Update TRIGGERS.md to reflect current hook counts and any new triggers added since 2026-01-02.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"DOC-004","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0030","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0030","category":"documentation","severity":"S2","type":"tech-debt","file":"docs/DOCUMENTATION_STANDARDS.md","line":0,"title":"DOCUMENTATION_STANDARDS.md last updated 2026-01-01 (16 days stale)","description":"DOCUMENTATION_STANDARDS.md version 1.2 was last updated 2026-01-01. Given 295 commits and significant doc changes since, standards may need refresh.","recommendation":"Review if documentation standards need updates based on lessons learned from recent audits.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"DOC-005","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0031","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0031","category":"documentation","severity":"S2","type":"tech-debt","file":"docs/DOCUMENT_DEPENDENCIES.md","line":0,"title":"DOCUMENT_DEPENDENCIES.md claims SYNCED but sync check reports 20 issues","description":"DOCUMENT_DEPENDENCIES.md header claims 'Sync Status: SYNCED' but docs:sync-check reports 20 issues. False sync status misleads maintainers.","recommendation":"Run docs:sync-check, fix all issues, then update sync status to reflect actual state.","effort":"E1","status":"NEW","roadmap_ref":"E11","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"DOC-006","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0032","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0032","category":"documentation","severity":"S2","type":"tech-debt","file":"docs/","line":0,"title":"15 recent commits touch docs but AUDIT_TRACKER shows only 5 categories audited today","description":"git log shows 15 commits in past 7 days affecting markdown files. While code/security/performance/process/refactoring audits done today, documentation category was last audited 2026-01-10 (Multi-AI).","recommendation":"This audit addresses the gap. Continue monitoring doc changes between audits.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"DOC-007","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0034","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0034","category":"documentation","severity":"S3","type":"tech-debt","file":"docs/archive/2026-jan-deprecated/PR_REVIEW_PROMPT_TEMPLATE.md","line":0,"title":"PR_REVIEW_PROMPT_TEMPLATE.md lacks Last Updated and Version History (now archived)","description":"CANON-0097 noted this template lacks Last Updated, Status, and Version History section. Now archived at docs/archive/2026-jan-deprecated/.","recommendation":"If template is still needed, restore with proper metadata. Otherwise, update CANON-0097 as resolved via archival.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"DOC-009","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0035","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0035","category":"documentation","severity":"S3","type":"tech-debt","file":"DOCUMENTATION_INDEX.md","line":0,"title":"DOCUMENTATION_INDEX.md orphaned - not referenced by any markdown file","description":"CANON-0093 noted DOCUMENTATION_INDEX.md is not linked from README.md or other navigation docs. Primary navigation artifact is undiscoverable.","recommendation":"Add prominent link to DOCUMENTATION_INDEX.md from README.md.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"DOC-010","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0036","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0036","category":"performance","severity":"S1","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":0,"title":"Large monolithic component (1117 lines) without code splitting","description":"TodayPage is 1117 lines with 15+ state variables, 12 console.log statements, and multiple useEffect hooks. No code splitting or lazy loading despite being heavily interactive.","recommendation":"Split into smaller sub-components: TodayPageHeader, CleanTimeSection, MoodCheckInSection, HaltCheckSection, WeeklyStatsSection. Use dynamic imports for optional sections.","effort":"E2","status":"NEW","roadmap_ref":"M2.3-REF-003","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PERF-001","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0037","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0037","category":"performance","severity":"S1","type":"code-smell","file":"components/admin/users-tab.tsx","line":0,"title":"No React.memo on frequently re-rendered admin list (924 lines)","description":"UsersTab is 924 lines with complex state (search, pagination, drawer, editing). Child components re-render on any state change. SonarCloud flagged cognitive complexity 27.","recommendation":"Extract UserListItem, UserSearchBar, UserDetailDrawer as memoized sub-components. Add React.memo with proper equality checks.","effort":"E1","status":"NEW","roadmap_ref":"M2.3-REF-002","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PERF-002","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0038","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0038","category":"performance","severity":"S2","type":"code-smell","file":"components","line":0,"title":"30+ components with inline onClick arrow functions","description":"Found 30+ components passing inline arrow functions to onClick props (onClick={() => ...). These create new function references on each render, potentially causing unnecessary child re-renders.","recommendation":"Extract handlers to useCallback where components are memoized or passed to child components.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PERF-004","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0039","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0039","category":"performance","severity":"S2","type":"code-smell","file":"components","line":0,"title":"28 components with inline style objects","description":"Found 28 components using style={{...}} inline objects which create new object references on each render, potentially causing unnecessary re-renders.","recommendation":"Move static styles to className (Tailwind) or extract to const objects outside component. Dynamic styles should use useMemo.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PERF-005","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0040","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0040","category":"performance","severity":"S2","type":"code-smell","file":".next/static/chunks","line":0,"title":"Large chunk file (628KB) indicates code splitting opportunity","description":"Largest chunk is 628KB. Next largest chunks: 356KB, 280KB, 220KB, 188KB. Total static directory: 3.5MB.","recommendation":"Run bundle analyzer (npm run analyze) to identify which modules are in large chunks. Consider dynamic imports for heavy libraries like framer-motion (37 imports).","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PERF-006","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0041","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0041","category":"performance","severity":"S2","type":"code-smell","file":"components","line":0,"title":"20+ uses of key={index} in list rendering","description":"Found 20+ instances of key={index} or key={i} in .map() renders. Index keys cause inefficient reconciliation when list items are reordered, added, or removed.","recommendation":"Use unique stable IDs for keys (item.id, item.uid). Index keys acceptable only for truly static lists.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PERF-007","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0042","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0042","category":"performance","severity":"S2","type":"code-smell","file":"components/widgets/meeting-countdown.tsx","line":0,"title":"setInterval without visibility check continues in background","description":"meeting-countdown.tsx and compact-meeting-countdown.tsx run setInterval (60s/30s) even when tab is backgrounded, wasting resources.","recommendation":"Use Page Visibility API to pause intervals when document is hidden. Pattern already exists in today-page.tsx:488.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PERF-008","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0043","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0043","category":"performance","severity":"S2","type":"code-smell","file":"lib/db/meetings.ts","line":0,"title":"getAllMeetings() deprecated but still available without limit","description":"MeetingsService.getAllMeetings() fetches entire collection without limit. Marked deprecated but not removed. paginated version exists but may not be used everywhere.","recommendation":"Remove deprecated getAllMeetings or add deprecation warning. Audit call sites to ensure pagination is used.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PERF-009","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0047","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0047","category":"process","severity":"S3","type":"process-gap","file":".github/workflows/docs-lint.yml","line":0,"title":"tj-actions/changed-files without CVE-pinned version","description":"docs-lint.yml uses tj-actions/changed-files@v46 without SHA pin. ci.yml correctly pins to SHA for CVE-2025-30066 protection.","recommendation":"Update to pinned SHA like ci.yml does: tj-actions/changed-files@c65cd883420fd2eb864698a825fc4162dd94482c","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PROC-002","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0048","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0048","category":"process","severity":"S3","type":"process-gap","file":".husky/pre-commit","line":0,"title":"lint-staged using npx --no-install may fail if not in cache","description":"Pre-commit hook uses 'npx --no-install lint-staged' which will fail if lint-staged isn't already cached. This is intentional security measure but causes the issue we've been experiencing.","recommendation":"Document workaround in DEVELOPMENT.md: run 'npm exec lint-staged' or 'npx lint-staged' once to cache the package.","effort":"E0","status":"NEW","roadmap_ref":"A11","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PROC-003","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0049","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0049","category":"process","severity":"S3","type":"process-gap","file":".claude/hooks/session-start.sh","line":0,"title":"Multiple trap commands may override each other","description":"session-start.sh has trap at line 245 for PATTERN_ERR_TMP but earlier trap at line 42 for TEST_TMPFILE (in pre-commit). Only last trap per signal is active.","recommendation":"Consolidate trap handlers or use a cleanup function that handles multiple temp files.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PROC-004","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0050","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0050","category":"process","severity":"S2","type":"process-gap","file":"scripts/","line":0,"title":"28 scripts have 715 console.log/error/warn calls without structured logging","description":"Scripts rely on console.* calls which mix errors with stdout, making programmatic parsing difficult. No centralized logging utility exists.","recommendation":"Create scripts/lib/logger.js with levels (debug, info, warn, error) and JSON output option. Gradually migrate high-traffic scripts.","effort":"E1","status":"NEW","roadmap_ref":"A22","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PROC-005","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0051","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0051","category":"process","severity":"S3","type":"process-gap","file":"scripts/check-cross-doc-deps.js","line":0,"title":"Script has minimal console output (1 call)","description":"check-cross-doc-deps.js has only 1 console call, suggesting minimal user feedback during execution.","recommendation":"Add progress indicators for longer operations.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PROC-006","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0052","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0052","category":"process","severity":"S3","type":"process-gap","file":"docs/TRIGGERS.md","line":0,"title":"TRIGGERS.md last updated 2026-01-02 but hooks updated since","description":"TRIGGERS.md documents 68+ enforcement points but was last updated 2026-01-02. Pre-commit hook has 8 checks (documented) and pre-push has 7 checks. Document may be slightly stale.","recommendation":"Update TRIGGERS.md to reflect current hook counts and any changes since 2026-01-02.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PROC-007","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0053","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0053","category":"process","severity":"S3","type":"process-gap","file":".claude/commands/","line":0,"title":"All 12 slash commands have frontmatter descriptions","description":"All commands in .claude/commands/ have proper YAML frontmatter with descriptions. This is working as expected.","recommendation":"No action needed - this is a positive finding.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PROC-008","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0054","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0054","category":"process","severity":"S2","type":"process-gap","file":".github/workflows/ci.yml","line":0,"title":"Artifact upload without retention policy","description":"CI workflow uploads coverage artifacts but doesn't specify retention period. Default is 90 days which may accumulate storage.","recommendation":"Add retention-days: 7 to actions/upload-artifact@v4 for coverage artifacts.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PROC-009","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0055","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0055","category":"process","severity":"S2","type":"process-gap","file":".husky/pre-push","line":0,"title":"Git diff with @{u}...HEAD fails on new branches without upstream","description":"Pre-push hook line 48 uses @{u}...HEAD which fails silently on branches without upstream tracking. The hook handles this gracefully but could be clearer.","recommendation":"Add explicit message when no upstream is detected instead of 'No upstream or no JS/TS/JSON changes detected'.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PROC-010","date":"2026-01-17","category":"process"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0056","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0056","category":"refactoring","severity":"S1","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":0,"title":"TodayPage god component (1117 lines, 14 useState, 10 useEffect, 24 imports)","description":"TodayPage mixes 5+ responsibilities: persistence, realtime sync, analytics, UI state, localStorage recovery. Highest LOC in codebase with 14 useState hooks and 10 useEffect hooks creating complex state interdependencies.","recommendation":"Split into hooks: useDailyLogState, useDailyLogRealtime, useWeeklyStats. Move Firestore queries to service layer. Target <400 lines per component.","effort":"E2","status":"NEW","roadmap_ref":"M2.3-REF-003","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"REF-001","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0057","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0057","category":"refactoring","severity":"S1","type":"code-smell","file":"components/admin/users-tab.tsx","line":0,"title":"UsersTab god component (924 lines, 21 useState, 3 useEffect)","description":"Admin users component with 924 lines, 21 useState hooks for managing search, pagination, drawer, editing states. Too many responsibilities in single component making it hard to maintain and test.","recommendation":"Extract UserListItem, UserSearchBar, UserDetailDrawer as separate components. Create useUserSearch and useUserDetail hooks.","effort":"E2","status":"NEW","roadmap_ref":"M2.3-REF-002","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"REF-002","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0058","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0058","category":"refactoring","severity":"S2","type":"code-smell","file":"components/growth/Step1WorksheetCard.tsx","line":0,"title":"Step1WorksheetCard large component (845 lines) with nested conditionals","description":"Complex growth worksheet with 845 lines, large initialData object (34 fields), and deeply nested switch statements for question rendering.","recommendation":"Extract FormSection, QuestionBlock as separate components. Move FORM_SECTIONS constant to separate config file.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"REF-003","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0059","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0059","category":"refactoring","severity":"S2","type":"code-smell","file":"components/notebook/pages/resources-page.tsx","line":0,"title":"ResourcesPage large component (728 lines) mixing meetings and sober homes","description":"Resources page handles two separate resource types (meetings, sober homes) with distinct data fetching, filtering, and display logic in single component.","recommendation":"Extract MeetingsSection and SoberHomesSection as separate components. Create useResourceFilters hook for shared filter state.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"REF-004","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0060","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0060","category":"refactoring","severity":"S1","type":"code-smell","file":"lib/db/quotes.ts","line":0,"title":"Time-of-day rotation logic duplicated in quotes.ts and slogans.ts (80+ lines)","description":"getTimeOfDay() and getQuoteForNow()/getSloganForNow() contain identical complex rotation algorithms (time windows + day-of-year seed) duplicated between two files. Bug fixes must be applied twice.","recommendation":"Extract to lib/utils/content-rotation.ts with generic getTimeOfDay() and getRotatingContentForNow<T>() functions.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"REF-005","date":"2026-01-17","category":"refactoring"},{"type":"canon","id":"CANON-0065","file":"CANON-REFACTOR.jsonl"}],"merged_from":["REF-005","CANON-0065"],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0061","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0061","category":"refactoring","severity":"S2","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"reCAPTCHA token fetch pattern repeated 5x across codebase","description":"Same getRecaptchaToken() boilerplate repeated in firestore-service.ts (3x) and use-journal.ts (2x). Easy to forget when adding new Cloud Function calls.","recommendation":"Create callSecureFunction wrapper in lib/utils/callable-errors.ts that auto-injects reCAPTCHA token.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"REF-006","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0062","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0062","category":"refactoring","severity":"S2","type":"code-smell","file":"components/growth/SpotCheckCard.tsx","line":0,"title":"Growth card dialog/save pattern duplicated across 4 components","description":"isOpen/isSaving/handleSave state management pattern repeated in SpotCheckCard, GratitudeCard, NightReviewCard, Step1WorksheetCard.","recommendation":"Extract useGrowthCardDialog(saveConfig) hook that manages isOpen, isSaving, and provides handleSave.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"REF-007","date":"2026-01-17","category":"refactoring"},{"type":"canon","id":"CANON-0079","file":"CANON-REFACTOR.jsonl"}],"merged_from":["REF-007","CANON-0079"],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0063","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0063","category":"refactoring","severity":"S1","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"Direct Firebase SDK usage in 22+ files bypasses service layer","description":"Components and hooks import directly from firebase/firestore (collection, doc, onSnapshot, getDocs) instead of using service layer. SDK changes would require touching 22+ files.","recommendation":"Route all Firebase access through lib/firestore-service.ts or dedicated services. Components should only import from services.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"REF-008","date":"2026-01-17","category":"refactoring"},{"type":"canon","id":"CANON-0075","file":"CANON-REFACTOR.jsonl"}],"merged_from":["REF-008","CANON-0075"],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0064","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0064","category":"refactoring","severity":"S1","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Deprecated saveNotebookJournalEntry still used in 6+ UI components","description":"Two write paths create inconsistent metadata (tags/searchableText). Audit burden.","recommendation":"Migrate callers to useJournal.addEntry. Remove deprecated method.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0070","file":"CANON-REFACTOR.jsonl"},{"type":"single-session","id":"REF-009","date":"2026-01-17","category":"refactoring"}],"merged_from":["CANON-0070","REF-009"],"pr_bucket":"hooks-standardization","consensus_score":null,"dependencies":["CANON-0067"]}
{"source_id":"review:MASTER-0065","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0065","category":"refactoring","severity":"S3","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"CloudFunctionError interface defined twice in same file","description":"CloudFunctionError interface is defined at both line 200-203 and line 423-426 in firestore-service.ts. Unnecessary duplication within same file.","recommendation":"Define once at module level or extract to lib/types/errors.ts","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"REF-010","date":"2026-01-17","category":"refactoring"},{"type":"canon","id":"CANON-0087","file":"CANON-REFACTOR.jsonl"}],"merged_from":["REF-010","CANON-0087"],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0066","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0066","category":"refactoring","severity":"S3","type":"code-smell","file":"components/notebook/features/quick-actions-fab.tsx","line":0,"title":"2 tracked TODO markers in codebase","description":"Found 2 TODO/FIXME markers: quick-actions-fab.tsx:12 (customizable action buttons) and firestore-adapter.ts:51 (configurable limits).","recommendation":"Convert to GitHub issues or resolve. TODOs without tracking risk being forgotten.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"REF-011","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0068","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0068","category":"code-quality","severity":"S2","type":"code-smell","file":"package.json","line":0,"title":"No npm run dev:offline script - requires 2 terminals for emulator dev","description":"Development with Firebase emulators requires manually running 'firebase emulators:start' in one terminal and 'npm run dev' in another. This friction reduces likelihood of offline testing.","recommendation":"Add 'dev:offline': 'concurrently \"firebase emulators:start\" \"npm run dev\"' to package.json scripts. Install concurrently as devDependency.","effort":"E0","status":"NEW","roadmap_ref":"FB-002","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"EFFP-001","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":"dx-improvements","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0069","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0069","category":"code-quality","severity":"S2","type":"code-smell","file":"scripts/","line":0,"title":"No scripts/doctor.js for environment validation","description":"No automated environment validation script exists. Developers must manually verify Node version, Firebase CLI, env vars, and other prerequisites. This causes 'works on my machine' issues.","recommendation":"Create scripts/doctor.js that checks: Node 18+, Firebase CLI installed, .env.local exists with required vars, functions/node_modules exists. Add 'doctor': 'node scripts/doctor.js' to package.json.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"EFFP-002","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":"dx-improvements","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0070","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0070","category":"code-quality","severity":"S3","type":"code-smell","file":"package.json","line":0,"title":"Setup requires multiple commands - no single bootstrap","description":"New developer setup requires: git clone, npm install, cd functions && npm install, copy .env.local template, firebase login. No single 'npm run setup' command exists.","recommendation":"Add 'setup': 'npm install && cd functions && npm install && npm run doctor' to package.json. Consider adding .env.local.example template.","effort":"E0","status":"NEW","roadmap_ref":"FB-002","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"EFFP-003","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":"dx-improvements","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0071","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0071","category":"code-quality","severity":"S1","type":"code-smell","file":"lib/logger.ts","line":0,"title":"No correlation IDs for request tracing (frontend to backend)","description":"No correlation/request IDs are generated or passed from frontend to Cloud Functions. When debugging production issues, cannot trace a user's journey across client and server logs.","recommendation":"Generate UUID on client per request, pass as X-Correlation-Id header to Cloud Functions, include in all logger calls. Add correlationId to LogContext type.","effort":"E2","status":"NEW","roadmap_ref":"A21","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"EFFP-004","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":"dx-improvements","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0072","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0072","category":"code-quality","severity":"S2","type":"code-smell","file":"app/","line":0,"title":"8:1 ratio of console.log to structured logger calls (3111 vs 394)","description":"Codebase has 3111 console.log statements vs 394 logger.* calls. console.log output is not captured by Sentry, not redacted for PII, and provides no structured context for debugging.","recommendation":"Replace console.log with logger.info/warn/error in production code paths. Keep console.log only for local debugging (remove before commit). Consider ESLint rule to warn on console.log.","effort":"E2","status":"NEW","roadmap_ref":"A22","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"EFFP-005","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":"dx-improvements","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0074","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0074","category":"code-quality","severity":"S1","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"No offline write queue - data loss when user goes offline","description":"Journal writes (addEntry, updateEntry) fail immediately when offline. No queue mechanism to hold writes and sync when back online. For a recovery app where users may have spotty connectivity, this causes data loss and frustration.","recommendation":"Implement IndexedDB-based write queue: 1) Queue writes locally when offline, 2) Sync on reconnection, 3) Handle conflicts with last-write-wins or prompt user. Consider using Firebase's built-in offline persistence first.","effort":"E3","status":"NEW","roadmap_ref":"A11","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"EFFP-007","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":"dx-improvements","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0075","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0075","category":"code-quality","severity":"S1","type":"code-smell","file":"lib/firebase.ts","line":0,"title":"No Firebase persistence enabled - Firestore cache not persisted","description":"enableIndexedDbPersistence or enableMultiTabIndexedDbPersistence is not called. Firestore data is only cached in memory, lost on page refresh. Users cannot view previously loaded data while offline.","recommendation":"Call enableIndexedDbPersistence(db) in Firebase initialization. Handle the 'failed-precondition' error for multi-tab scenarios. This is a quick win that enables offline reads with minimal code.","effort":"E1","status":"NEW","roadmap_ref":"A11","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"EFFP-008","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":"dx-improvements","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0076","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0076","category":"code-quality","severity":"S2","type":"code-smell","file":"public/","line":0,"title":"No service worker - no offline asset caching","description":"No service worker exists for caching static assets (JS, CSS, images). When offline, the app cannot load at all even though it's a PWA candidate with install-prompt component.","recommendation":"Add next-pwa or workbox-webpack-plugin to generate service worker. Configure precaching for app shell and runtime caching for API responses. Coordinate with Firebase persistence for full offline experience.","effort":"E2","status":"NEW","roadmap_ref":"A11","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"EFFP-009","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":"dx-improvements","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0078","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0078","category":"code-quality","severity":"S0","type":"code-smell","file":"functions/src/index.ts","line":0,"title":"App Check disabled on all production Cloud Functions","description":"S0: Bot/device attestation layer is disabled for callable endpoints, increasing abuse/spam risk and weakening defense-in-depth.","recommendation":"Re-enable App Check (requireAppCheck: true) across functions; add monitoring for App Check failures and ensure client App Check init is working.","effort":"E2","status":"NEW","roadmap_ref":"MASTER-0078","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0001","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":["CANON-0003"]}
{"source_id":"review:MASTER-0079","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0079","category":"code-quality","severity":"S0","type":"code-smell","file":"firestore.rules","line":0,"title":"Legacy journalEntries collection allows direct client writes (bypasses function security posture)","description":"S0: Direct client writes bypass App Check / rate limiting / server-side validation, creating a high-risk security outlier vs other collections.","recommendation":"Migrate remaining data off legacy path and set allow write: if false (or route writes through Cloud Functions if still used).","effort":"E2","status":"NEW","roadmap_ref":"DEDUP-0002","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0002","file":"CANON-CODE.jsonl"},{"type":"canon","id":"CANON-0034","file":"CANON-SECURITY.jsonl"}],"merged_from":["CANON-0002","CANON-0034"],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0080","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0080","category":"refactoring","severity":"S1","type":"code-smell","file":"lib/db/library.ts","line":0,"title":"Console.* usage in app components bypasses standardized logger/sanitization","description":"Raw console logging can leak sensitive details, creates inconsistent observability, and violates the project's documented logger/sanitization intent.","recommendation":"Replace console.* with logger.* (or a client-safe wrapper), then enforce via lint rule (no-console with exceptions for logger implementation).","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0003","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":["CANON-0023"]}
{"source_id":"review:MASTER-0081","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0081","category":"code-quality","severity":"S1","type":"code-smell","file":"functions/src/schemas.ts","line":0,"title":"Cloud Function schema missing 'step-1-worksheet' journal entry type (validation drift / feature break)","description":"Users can create Step 1 worksheet entries client-side that fail server validation, breaking saves at runtime.","recommendation":"Add 'step-1-worksheet' to journalEntrySchema type enum in functions/src/schemas.ts.","effort":"E0","status":"NEW","roadmap_ref":"A2","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0004","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0082","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0082","category":"code-quality","severity":"S1","type":"code-smell","file":"lib/firebase.ts","line":0,"title":"Client App Check initialization is disabled/commented out","description":"Without client App Check init, tokens may not be sent, undermining verification and/or causing callable failures once functions enforce App Check.","recommendation":"Restore initializeAppCheck gated by configured site key; use debug tokens only in development.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0005","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0083","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0083","category":"refactoring","severity":"S1","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Cloud Function error handling duplicated (4 locations) + duplicate CloudFunctionError type definitions","description":"Multiple copies of error mapping/code checks create drift risk and inconsistent user messaging; changes require editing several sites.","recommendation":"Extract CloudFunctionError type + handleCloudFunctionError() helper (likely in lib/utils/errors.ts) and use it in all locations.","effort":"E1","status":"NEW","roadmap_ref":"A2","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0006","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"hooks-standardization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0084","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0084","category":"refactoring","severity":"S1","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Critical logic divergence in journal saving (deprecated FirestoreService path bypasses hook business logic)","description":"Entries saved through the deprecated service miss searchable metadata, breaking search/filter for those entries.","recommendation":"Refactor Step1WorksheetCard and TodayPage to use useJournal.addEntry; remove deprecated saveNotebookJournalEntry from FirestoreService.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0007","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"hooks-standardization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0085","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0085","category":"code-quality","severity":"S1","type":"code-smell","file":"functions/src/security-wrapper.ts","line":0,"title":"reCAPTCHA verification is logged but not enforced when configured","description":"Requests can bypass bot mitigation if missing tokens are allowed to proceed while only being logged.","recommendation":"When recaptchaAction is set, require a token (throw on missing/blank) unless an explicit opt-out is provided.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0008","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0086","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0086","category":"refactoring","severity":"S1","type":"code-smell","file":"app/layout.tsx","line":0,"title":"Server layout composes client providers; boundary should be explicit","description":"Boundary clarity and potential hydration/bundle concerns; explicit client-side providers wrapper is recommended.","recommendation":"Create app/providers.tsx ('use client') wrapping AuthProvider/CelebrationProvider/ErrorBoundary and import from layout.tsx.","effort":"E1","status":"NEW","roadmap_ref":"A1","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0009","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"boundaries","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0087","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0087","category":"code-quality","severity":"S1","type":"code-smell","file":"firestore.rules","line":0,"title":"Admin-claim Firestore rule writes lack function-only defense-in-depth","description":"If admin claims are compromised/misconfigured, direct writes expand blast radius without server-side auditing/enforcement.","recommendation":"Add Cloud Function wrappers for admin mutations with server-side checks + audit logging; tighten rules to function-only where appropriate.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0010","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0088","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0088","category":"code-quality","severity":"S1","type":"code-smell","file":"functions/src/index.ts","line":0,"title":"Missing automated tests for Cloud Function security layers (App Check / rate limiting / authz)","description":"Security regressions can ship undetected without tests covering enforcement layers.","recommendation":"Add tests covering unauth rejection, rate-limit behavior, App Check pass/fail, user-scope enforcement, and reCAPTCHA behavior.","effort":"E2","status":"NEW","roadmap_ref":"A2","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0011","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":null,"dependencies":["CANON-0001","CANON-0002"]}
{"source_id":"review:MASTER-0089","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0089","category":"code-quality","severity":"S1","type":"code-smell","file":"firestore.rules","line":0,"title":"No integration tests for Firestore rules (emulator-based)","description":"Rules are a primary security boundary; regressions can become data exposure incidents without automated tests.","recommendation":"Set up Firebase emulator rule tests using @firebase/rules-unit-testing for key permission scenarios (including legacy collections).","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0012","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":null,"dependencies":["CANON-0002","CANON-0008"]}
{"source_id":"review:MASTER-0090","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0090","category":"code-quality","severity":"S1","type":"code-smell","file":"lib/auth/account-linking.ts","line":0,"title":"Security-critical files have low test coverage (account-linking, firestore-service, recaptcha, users DB)","description":"Low coverage in auth/data/recaptcha paths increases risk of undetected production regressions in security-sensitive user flows.","recommendation":"Add tests to raise coverage targets for these files; mock Cloud Functions where needed; add token generation unit coverage.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0013","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0091","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0091","category":"code-quality","severity":"S1","type":"code-smell","file":"functions/src/index.ts","line":0,"title":"reCAPTCHA verification coverage may be incomplete when App Check is disabled (needs verification)","description":"If server-side verification is not enforced independently, bot mitigation may be weaker than intended when App Check is off.","recommendation":"Verify server-side recaptchaToken validation paths; consider making reCAPTCHA mandatory (align with CANON-0004).","effort":"E1","status":"NEW","roadmap_ref":"MASTER-0078","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0014","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":["CANON-0004","CANON-0001"]}
{"source_id":"review:MASTER-0092","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0092","category":"code-quality","severity":"S1","type":"code-smell","file":"components/providers/auth-context.tsx","line":0,"title":"Potential rate limit bypass via cycling anonymous accounts (needs threat-model validation)","description":"If rate limiting is keyed only by userId, attackers might bypass limits by creating new anonymous sessions repeatedly.","recommendation":"Validate feasibility; if real, add secondary rate limiting keyed by device/IP or strengthen anonymous auth constraints.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0015","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0093","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0093","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Potential sensitive data in localStorage (needs audit)","description":"If recovery/journal content is stored in localStorage, it persists unencrypted on-device and may raise privacy/compliance concerns.","recommendation":"Audit localStorage/sessionStorage usage; restrict to non-sensitive UI prefs; document policy.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0016","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0094","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0094","category":"refactoring","severity":"S2","type":"code-smell","file":"lib/db/quotes.ts","line":0,"title":"Duplicated time-of-day rotation logic for quotes and slogans","description":"Rotation changes risk diverging behavior and duplicating bug fixes.","recommendation":"Extract shared rotation utilities and reuse in both services; add unit tests for schedule/rotation paths.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0017","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"ui-primitives","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0095","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0095","category":"code-quality","severity":"S2","type":"code-smell","file":"components/growth/Step1WorksheetCard.tsx","line":0,"title":"Unsafe type assertions with 'as unknown as' (worksheet + related components)","description":"Double casts bypass TypeScript safety; runtime crashes possible if data shape differs.","recommendation":"Add runtime validation (e.g., Zod parse) before casting; replace with type guards where applicable.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0018","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":["CANON-0007"]}
{"source_id":"review:MASTER-0096","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0096","category":"code-quality","severity":"S2","type":"code-smell","file":"scripts/check-review-needed.js","line":0,"title":"ESLint security plugin warnings in scripts (unsafe regex / non-literal fs / object injection patterns)","description":"Even if scripts run in trusted contexts, these patterns are repeatedly flagged and can become risky if reused; they also create noisy lint output.","recommendation":"Address highest-risk warnings first: validate dynamic paths, constrain object key access, simplify/guard regex patterns; aim to reduce warnings materially.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0019","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0097","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0097","category":"refactoring","severity":"S2","type":"code-smell","file":"types/journal.ts","line":0,"title":"Journal entry type definitions duplicated across client types and server schemas (single-source refactor)","description":"Adding new entry types requires multi-file changes and risks client/server mismatch.","recommendation":"Extract shared constants (or generate TS types from Zod) so both client and functions import from one source.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0020","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":["CANON-0007"]}
{"source_id":"review:MASTER-0098","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0098","category":"code-quality","severity":"S2","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":0,"title":"Missing error.message null safety in TodayPage catch block","description":"If a non-Error is thrown, accessing error.message/stack can crash; catch is unknown.","recommendation":"Use getErrorMessage(error) helper to safely extract message.","effort":"E0","status":"NEW","roadmap_ref":"M2.3-REF-003","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0021","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0099","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0099","category":"code-quality","severity":"S2","type":"code-smell","file":"components/notebook/hooks/use-smart-prompts.ts","line":0,"title":"Unsafe localStorage JSON.parse in use-smart-prompts hook","description":"Corrupted localStorage can throw and crash the component.","recommendation":"Wrap JSON.parse in try/catch or use a safe parse utility with defaults.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0022","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0100","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0100","category":"refactoring","severity":"S2","type":"code-smell","file":"components/notebook/features/daily-quote-card.tsx","line":0,"title":"Duplicated DailyQuoteCard component exists in multiple directories (2 confirmed; possible 3rd variant)","description":"Duplication increases maintenance burden; inconsistent exports/variants raise drift risk.","recommendation":"Consolidate to a single source of truth (auditor suggests keeping widgets version) and compose variants if needed.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0023","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"ui-primitives","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0101","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0101","category":"refactoring","severity":"S2","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Inconsistent Firebase Functions import pattern (static vs dynamic imports)","description":"Inconsistent patterns increase maintenance burden and make bundling/code-splitting intent unclear.","recommendation":"Standardize import strategy (e.g., static imports for client-side code; reserve dynamic imports for specific lazy routes if intentionally needed).","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0024","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0102","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0102","category":"code-quality","severity":"S2","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Inconsistent httpsCallable typing (missing generic request/response types)","description":"Callable returns unknown, forcing casts and losing compile-time safety.","recommendation":"Add generic type parameters to callCloudFunction / httpsCallable usage.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0025","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0103","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0103","category":"refactoring","severity":"S2","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"useJournal sets up its own auth listener instead of using shared auth context","description":"Redundant subscriptions can cause state-sync issues and unnecessary listeners.","recommendation":"Refactor useJournal to consume user from auth context (or accept user as param) and remove internal onAuthStateChanged listener.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0026","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"boundaries","consensus_score":null,"dependencies":["CANON-0006"]}
{"source_id":"review:MASTER-0104","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0104","category":"code-quality","severity":"S2","type":"code-smell","file":"tests/firestore-service.test.ts","line":0,"title":"Cloud Function integration test is skipped in firestore-service test suite","description":"Primary data save path is effectively untested; skip note indicates missing integration harness/emulator setup.","recommendation":"Add an integration test suite using Firebase emulator; optionally mock httpsCallable for unit coverage.","effort":"E2","status":"NEW","roadmap_ref":"A2","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0027","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0105","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0105","category":"code-quality","severity":"S2","type":"code-smell","file":"functions/src/schemas.ts","line":0,"title":"Journal entry schema data is weakly typed (z.record unknown; per-type validation not enforced)","description":"Malformed entries can pass validation; intended per-type validation is not enforced.","recommendation":"Use a Zod discriminated union for per-entry-type data schemas.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0028","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":["CANON-0016"]}
{"source_id":"review:MASTER-0106","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0106","category":"code-quality","severity":"S2","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"No tests for useJournal hook","description":"Core journal interaction logic lacks dedicated tests; regressions can break journaling flows.","recommendation":"Add tests for useJournal with mocked Firebase/Cloud Functions covering auth changes, addEntry, and crumplePage.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0029","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":null,"dependencies":["CANON-0006"]}
{"source_id":"review:MASTER-0107","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0107","category":"code-quality","severity":"S3","type":"code-smell","file":"components/notebook/pages/resources-page.tsx","line":0,"title":"@ts-expect-error suppression comment in production code","description":"Suppresses type checking and can hide real mismatches; should be replaced with proper typing or a type guard.","recommendation":"Fix type annotation or add explicit narrowing so the call is type-safe without suppression.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0030","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0108","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0108","category":"refactoring","severity":"S3","type":"code-smell","file":"app/layout.tsx","line":0,"title":"Environment variables accessed directly in components (centralize in typed config)","description":"Harder to track and type-check configuration dependencies across components.","recommendation":"Move env access to a config module exporting typed constants.","effort":"E0","status":"NEW","roadmap_ref":"A1","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0031","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"boundaries","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0111","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0111","category":"security","severity":"S1","type":"vulnerability","file":"functions/src/security-wrapper.ts","line":0,"title":"reCAPTCHA token missing does not block requests (logs but continues)","description":"If recaptchaAction is configured for an endpoint, require a non-empty token and fail closed.; Allow bypass only in explicit dev/test modes via env flag (not implicit).","recommendation":"If recaptchaAction is configured for an endpoint, require a non-empty token and fail closed.; Allow bypass only in explicit dev/test modes via env flag (not implicit).","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0035","file":"CANON-SECURITY.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0112","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0112","category":"security","severity":"S1","type":"vulnerability","file":"functions/src/security-wrapper.ts","line":0,"title":"Rate limiting is incomplete (no IP throttling, admin endpoints unthrottled, inconsistent 429-equivalent handling)","description":"Add a secondary limiter keyed by IP (and/or App Check token/device) in addition to userId.; Wrap admin callables with the same centralized limiter policy (admin-tier limits).; Standardize limiter error mapping so rate-limit exceed always returns resource-exhausted (429-equivalent) with retry guidance.","recommendation":"Add a secondary limiter keyed by IP (and/or App Check token/device) in addition to userId.; Wrap admin callables with the same centralized limiter policy (admin-tier limits).; Standardize limiter error mapping so rate-limit exceed always returns resource-exhausted (429-equivalent) with retry guidance.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0036","file":"CANON-SECURITY.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0113","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0113","category":"security","severity":"S2","type":"vulnerability","file":"functions/src/schemas.ts","line":0,"title":"Zod schemas missing .strict() (unknown fields accepted)","description":"Add .strict() to request schemas.; Add tests asserting unknown fields are rejected.","recommendation":"Add .strict() to request schemas.; Add tests asserting unknown fields are rejected.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0037","file":"CANON-SECURITY.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0114","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0114","category":"security","severity":"S2","type":"vulnerability","file":"functions/src/recaptcha-verify.ts","line":0,"title":"Hardcoded fallback reCAPTCHA site key in server verification code (config integrity/rotation risk)","description":"Remove hardcoded fallback; require env vars to be set.; Fail closed with a clear failed-precondition error if required config is missing.","recommendation":"Remove hardcoded fallback; require env vars to be set.; Fail closed with a clear failed-precondition error if required config is missing.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0038","file":"CANON-SECURITY.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0115","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0115","category":"security","severity":"S2","type":"vulnerability","file":"functions/src/schemas.ts","line":0,"title":"Server-side journal entry type enum missing 'step-1-worksheet' (validation drift)","description":"Establish a single source of truth for allowed types (shared package or generated types).; Add contract tests to ensure client/server types stay in sync.","recommendation":"Establish a single source of truth for allowed types (shared package or generated types).; Add contract tests to ensure client/server types stay in sync.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0039","file":"CANON-SECURITY.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0116","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0116","category":"security","severity":"S2","type":"vulnerability","file":"functions/src/schemas.ts","line":0,"title":"Permissive z.record(..., z.unknown()) allows arbitrary nested data in journal/inventory entries","description":"Move to discriminated unions by entry type with per-type data schemas and size limits.; Add limits on string lengths/array sizes/nesting depth as appropriate.","recommendation":"Move to discriminated unions by entry type with per-type data schemas and size limits.; Add limits on string lengths/array sizes/nesting depth as appropriate.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0040","file":"CANON-SECURITY.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0117","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0117","category":"security","severity":"S2","type":"vulnerability","file":"firestore.rules","line":0,"title":"Some admin-managed collections allow direct client writes without centralized schema/rate-limit protections","description":"Prefer routing admin writes through callable/admin Functions that enforce schemas + throttles.; If direct writes remain, add strict client-side validation and tighten rules where feasible (field allowlists/length limits).","recommendation":"Prefer routing admin writes through callable/admin Functions that enforce schemas + throttles.; If direct writes remain, add strict client-side validation and tighten rules where feasible (field allowlists/length limits).","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0041","file":"CANON-SECURITY.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0118","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0118","category":"security","severity":"S2","type":"vulnerability","file":"","line":0,"title":"Console statements present; replace with structured logger and enforce no-console in production","description":"Replace console.* with centralized logger (with redaction).; Add ESLint no-console (error) and Next production removeConsole where applicable.; Require PR checks to fail on console usage outside logger module(s).","recommendation":"Replace console.* with centralized logger (with redaction).; Add ESLint no-console (error) and Next production removeConsole where applicable.; Require PR checks to fail on console usage outside logger module(s).","effort":"E1","status":"NEW","roadmap_ref":"A22","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0042","file":"CANON-SECURITY.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0120","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0120","category":"performance","severity":"S0","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"useJournal creates redundant auth listener + potential memory leak from nested cleanup","description":"Remove auth listener from useJournal; consume user from useAuthCore() instead. Move onSnapshot unsubscribe to outer useEffect scope.","recommendation":"Remove auth listener from useJournal; consume user from useAuthCore() instead. Move onSnapshot unsubscribe to outer useEffect scope.","effort":"E1","status":"NEW","roadmap_ref":"DEDUP-0011","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0044","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0121","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0121","category":"performance","severity":"S1","type":"code-smell","file":"app/page.tsx","line":0,"title":"Landing page forced to client-side rendering blocks SSR for LCP route","description":"Split into server component wrapper + client interactive parts. Move NotebookShell behind dynamic import.","recommendation":"Split into server component wrapper + client interactive parts. Move NotebookShell behind dynamic import.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0045","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0122","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0122","category":"performance","severity":"S1","type":"code-smell","file":"app/page.tsx","line":0,"title":"Excessive 'use client' directives prevent SSR optimization","description":"Audit each 'use client' for necessity. Convert pages to server components with client children. Target: reduce to <50 client directives.","recommendation":"Audit each 'use client' for necessity. Convert pages to server components with client children. Target: reduce to <50 client directives.","effort":"E2","status":"NEW","roadmap_ref":"PERF-004","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0046","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0123","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0123","category":"performance","severity":"S1","type":"code-smell","file":"next.config.mjs","line":0,"title":"Static export disables Next.js image optimization","description":"Implement static-friendly responsive image pipeline or switch to dynamic hosting.","recommendation":"Implement static-friendly responsive image pipeline or switch to dynamic hosting.","effort":"E2","status":"NEW","roadmap_ref":"PERF-004","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0047","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0124","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0124","category":"performance","severity":"S1","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":0,"title":"TodayPage re-subscribes on journalEntry change","description":"Remove journalEntry from useEffect dependency array.","recommendation":"Remove journalEntry from useEffect dependency array.","effort":"E0","status":"NEW","roadmap_ref":"M2.3-REF-003","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0048","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0125","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0125","category":"performance","severity":"S1","type":"code-smell","file":"components/notebook/roadmap-modules.tsx","line":0,"title":"Notebook module registry eagerly imports all pages","description":"Replace static imports with dynamic imports or React.lazy + Suspense per module.","recommendation":"Replace static imports with dynamic imports or React.lazy + Suspense per module.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0049","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0126","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0126","category":"performance","severity":"S2","type":"code-smell","file":"lib/sentry.client.ts","line":0,"title":"Sentry integration incomplete - no Web Vitals reporting","description":"Initialize Sentry in app entry, enable performance tracing, add Web Vitals reporting.","recommendation":"Initialize Sentry in app entry, enable performance tracing, add Web Vitals reporting.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0050","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0127","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0127","category":"performance","severity":"S2","type":"code-smell","file":"components/widgets/daily-quote-card.tsx","line":0,"title":"Duplicate DailyQuoteCard implementations + unbounded quotes fetch","description":"Consolidate to single DailyQuoteCard with 'variant' prop. Fetch single quote via targeted query instead of getAllQuotes().","recommendation":"Consolidate to single DailyQuoteCard with 'variant' prop. Fetch single quote via targeted query instead of getAllQuotes().","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0051","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0128","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0128","category":"performance","severity":"S2","type":"code-smell","file":"components/celebrations/confetti-burst.tsx","line":0,"title":"Celebration animations create 150+ DOM elements without reduced-motion support","description":"Gate animations behind prefers-reduced-motion, reduce particle counts on mobile, consider canvas-based effects.","recommendation":"Gate animations behind prefers-reduced-motion, reduce particle counts on mobile, consider canvas-based effects.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0052","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0129","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0129","category":"performance","severity":"S2","type":"code-smell","file":"components/journal/entry-card.tsx","line":0,"title":"No React.memo usage causes unnecessary re-renders in list components","description":"Add React.memo to list item components (EntryCard, MeetingCard). Wrap with proper equality check including callback props.","recommendation":"Add React.memo to list item components (EntryCard, MeetingCard). Wrap with proper equality check including callback props.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0053","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0130","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0130","category":"performance","severity":"S2","type":"code-smell","file":"app/page.tsx","line":0,"title":"Hero background image bypasses Next.js image optimization","description":"Replace CSS background with Next.js <Image> component or add preload + responsive sizing.","recommendation":"Replace CSS background with Next.js <Image> component or add preload + responsive sizing.","effort":"E1","status":"NEW","roadmap_ref":"PERF-004","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0054","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0131","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0131","category":"performance","severity":"S2","type":"code-smell","file":"components/journal/entry-feed.tsx","line":0,"title":"Large entry lists not virtualized - DOM grows linearly with data","description":"Implement virtual scrolling with react-window or @tanstack/virtual for lists exceeding 50 items.","recommendation":"Implement virtual scrolling with react-window or @tanstack/virtual for lists exceeding 50 items.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0055","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0132","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0132","category":"performance","severity":"S2","type":"code-smell","file":"app/meetings/all/page.tsx","line":0,"title":"Meeting map renders all markers without clustering","description":"Add marker clustering (e.g., react-leaflet-cluster) or limit markers per zoom level.","recommendation":"Add marker clustering (e.g., react-leaflet-cluster) or limit markers per zoom level.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0056","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0133","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0133","category":"performance","severity":"S2","type":"code-smell","file":"package.json","line":0,"title":"7 unused dependencies increasing bundle size","description":"Remove unused dependencies.","recommendation":"Remove unused dependencies.","effort":"E0","status":"NEW","roadmap_ref":"FB-002","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0057","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0134","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0134","category":"performance","severity":"S2","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"Console statements in production code","description":"Remove console.* or replace with logger utility. Add ESLint no-console rule.","recommendation":"Remove console.* or replace with logger utility. Add ESLint no-console rule.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0058","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0135","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0135","category":"performance","severity":"S2","type":"code-smell","file":"lib/db/meetings.ts","line":0,"title":"Firebase queries lack consistent indexing and limits","description":"Add .limit() to all collection queries. Create Firebase composite indexes. Document in firestore.indexes.json.","recommendation":"Add .limit() to all collection queries. Create Firebase composite indexes. Document in firestore.indexes.json.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0059","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0136","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0136","category":"performance","severity":"S2","type":"code-smell","file":"components/admin/admin-crud-table.tsx","line":0,"title":"Admin CRUD table fetches entire collections without pagination","description":"Add paginated queries with limit/startAfter and useMemo for filteredItems.","recommendation":"Add paginated queries with limit/startAfter and useMemo for filteredItems.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0060","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0138","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0138","category":"performance","severity":"S2","type":"code-smell","file":"app/page.tsx","line":0,"title":"No route-level loading UI (loading.tsx) or Suspense boundaries","description":"Add app/**/loading.tsx for high-traffic routes. Place Suspense around dynamic imports.","recommendation":"Add app/**/loading.tsx for high-traffic routes. Place Suspense around dynamic imports.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0062","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0139","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0139","category":"performance","severity":"S2","type":"code-smell","file":"components/journal/journal-hub.tsx","line":0,"title":"JournalHub eagerly imports all entry forms","description":"Dynamically import each form when its tab is active; use Suspense fallbacks.","recommendation":"Dynamically import each form when its tab is active; use Suspense fallbacks.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0063","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0140","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0140","category":"refactoring","severity":"S0","type":"code-smell","file":"scripts/assign-review-tier.js","line":0,"title":"47 CRITICAL cognitive complexity violations in scripts (19 functions)","description":"SonarQube CRITICAL violations. Functions exceeding 15-point threshold are difficult to test, maintain, debug.","recommendation":"Extract nested conditionals into helper functions. Use early returns. Add test coverage before refactoring.","effort":"E3","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0064","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0141","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0141","category":"refactoring","severity":"S1","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Cloud Function error handling pattern duplicated 4-6x across service and hooks","description":"Same error code switch (resource-exhausted, invalid-argument, unauthenticated, failed-precondition) with user-friendly messages. Error message changes require 4+ updates.","recommendation":"Create handleCloudFunctionError(error) utility in lib/utils/callable-errors.ts. Use in all 4+ locations.","effort":"E1","status":"NEW","roadmap_ref":"A2","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0066","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":null,"dependencies":["CANON-0087"]}
{"source_id":"review:MASTER-0142","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0142","category":"refactoring","severity":"S1","type":"code-smell","file":"types/journal.ts","line":0,"title":"Journal entry type definitions diverge between client types and server schemas","description":"Type mismatch between client and server causes silent validation failures. Adding new entry types requires changes in 3 places.","recommendation":"Create shared source of truth in lib/types/journal-shared.ts. Generate types from Zod schemas where possible.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0067","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0143","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0143","category":"security","severity":"S1","type":"vulnerability","file":"functions/src/index.ts","line":0,"title":"App Check temporarily disabled across all Cloud Functions","description":"Security feature disabled. Should be tracked and re-enabled when throttle clears.","recommendation":"Create tracking issue. Re-enable when throttle verified clear. Add monitoring.","effort":"E1","status":"NEW","roadmap_ref":"MASTER-0078","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0069","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0144","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0144","category":"refactoring","severity":"S1","type":"code-smell","file":"hooks/use-journal.ts","line":0,"title":"useJournal mixes domain logic with transport (httpsCallable + retry + recaptcha)","description":"Hook owns transport and domain shaping. Same responsibilities will be re-implemented in other features.","recommendation":"Create lib/services/journal-service.ts with saveEntry()/softDeleteEntry() using callSecureFunction. Keep hook focused on UI state.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0071","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"hooks-standardization","consensus_score":null,"dependencies":["CANON-0076","CANON-0066"]}
{"source_id":"review:MASTER-0145","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0145","category":"refactoring","severity":"S1","type":"code-smell","file":"components/notebook/pages/today-page.tsx","line":0,"title":"TodayPage is a god component mixing 4+ responsibilities","description":"Large mixed-responsibility component. Small changes require deep context. Cognitive complexity hotspot.","recommendation":"Split into hooks: useDailyLogState, useDailyLogRealtime, useWeeklyStats. Move Firestore queries to service.","effort":"E3","status":"NEW","roadmap_ref":"M2.3-REF-003","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0072","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"boundaries","consensus_score":null,"dependencies":["CANON-0075","CANON-0076"]}
{"source_id":"review:MASTER-0146","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0146","category":"refactoring","severity":"S2","type":"code-smell","file":"components/notebook/features/daily-quote-card.tsx","line":0,"title":"DailyQuoteCard component duplicated across 2-3 locations","description":"Same fetch logic (QuotesService.getQuoteForToday) repeated with different styling. Feature changes must be applied 2-3 times.","recommendation":"Create useDailyQuote hook for fetch logic. Keep single DailyQuoteCard with variant prop. Delete features/ version.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0073","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"ui-primitives","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0147","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0147","category":"refactoring","severity":"S2","type":"code-smell","file":"lib/firestore-service.ts","line":0,"title":"Critical paths have low test coverage (firestore-service 35.6%, account-linking 17.29%)","description":"Security-critical paths with low coverage. Refactors risky without tests.","recommendation":"Add integration tests for Cloud Function callers. Add unit tests for account linking. Target 70%+ coverage.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0074","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"tests-hardening","consensus_score":null,"dependencies":["CANON-0066"]}
{"source_id":"review:MASTER-0148","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0148","category":"security","severity":"S2","type":"vulnerability","file":"lib/firestore-service.ts","line":0,"title":"reCAPTCHA token fetch/include pattern repeated 5x across codebase","description":"Every Cloud Function call repeats same reCAPTCHA boilerplate. Easy to forget when adding new calls.","recommendation":"Create callSecureFunction wrapper that auto-injects reCAPTCHA token. Centralize retry logic.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0076","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":["CANON-0066"]}
{"source_id":"review:MASTER-0149","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0149","category":"refactoring","severity":"S2","type":"code-smell","file":"lib/db/slogans.ts","line":0,"title":"Firebase collection access scattered across 22+ files without type safety","description":"No type safety for collection names. Typo risk. Changes require grep-and-replace across codebase.","recommendation":"Create lib/firestore-collections.ts with typed collection helpers: collections.slogans(), collections.userJournal(uid), etc.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0077","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0150","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0150","category":"security","severity":"S2","type":"vulnerability","file":"functions/src/recaptcha-verify.ts","line":0,"title":"reCAPTCHA action strings duplicated as literals (no shared constants)","description":"Action mismatch between client and server breaks verification. Hard to debug 'failed-precondition' errors.","recommendation":"Create lib/security/recaptcha-actions.ts with shared constants. Update all call sites.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0078","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0151","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0151","category":"refactoring","severity":"S2","type":"code-smell","file":"lib/db/quotes.ts","line":0,"title":"CRUD service patterns repeated across lib/db modules","description":"Same Firestore CRUD pattern (getAll/add/update/delete) repeated with only collection names changing.","recommendation":"Create lib/db/firestore-crud.ts with generic CRUD factory. Refactor services to use it.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0080","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":null,"dependencies":["CANON-0077"]}
{"source_id":"review:MASTER-0152","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0152","category":"refactoring","severity":"S2","type":"code-smell","file":"components/admin/dashboard-tab.tsx","line":0,"title":"Admin Cloud Function wiring duplicated across 5 admin tabs","description":"Duplicated Cloud Function wiring. Error handling, retries, auth assumptions can drift.","recommendation":"Create lib/admin/admin-functions.ts with typed wrappers (adminGetDashboardStats, adminSearchUsers, etc.)","effort":"E1","status":"NEW","roadmap_ref":"M2.3-REF-004","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0081","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":null,"dependencies":["CANON-0076"]}
{"source_id":"review:MASTER-0153","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0153","category":"refactoring","severity":"S2","type":"code-smell","file":"components/growth/SpotCheckCard.tsx","line":0,"title":"Dual-write pattern to inventory AND journal collections","description":"Dual writes increase storage costs, create potential inconsistency if one fails. Inventory collection may be legacy.","recommendation":"Audit whether inventory_entries collection is still needed. Remove dual-write or consolidate via Cloud Function.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0082","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"firebase-access","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0154","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0154","category":"refactoring","severity":"S2","type":"code-smell","file":"multiple","line":0,"title":"Deprecated API usage (31 instances) + Nested ternaries (41 instances)","description":"Deprecated APIs risk future breaking changes. Nested ternaries reduce readability.","recommendation":"Audit S1874 violations. Replace nested ternaries with if/else or early returns.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0083","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0155","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0155","category":"refactoring","severity":"S2","type":"code-smell","file":"scripts/archive-doc.js","line":0,"title":"safeReadFile/safeWriteFile utilities duplicated across 3 scripts","description":"Scripts are highest complexity area. Shared utilities reduce per-script branching.","recommendation":"Create scripts/lib/fs-safe.js. Update 3 scripts to import from it.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0084","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0156","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0156","category":"refactoring","severity":"S2","type":"code-smell","file":"lib/database/firestore-adapter.ts","line":0,"title":"FirestoreAdapter exists but is unused (realtime boundary unclear)","description":"Unclear boundaries. Some features use adapter, others embed Firestore details. Future migrations harder.","recommendation":"Decide boundary: expand FirestoreAdapter and use it everywhere, OR remove adapter and standardize subscription helpers.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0085","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"boundaries","consensus_score":null,"dependencies":["CANON-0075"]}
{"source_id":"review:MASTER-0157","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0157","category":"security","severity":"S2","type":"vulnerability","file":"hooks/use-journal.ts","line":0,"title":"Searchable-text generation duplicated with inconsistent sanitization","description":"Different sanitization rules can produce divergent search indexes or reintroduce stored XSS risks.","recommendation":"Extract shared searchable-text utility to lib/journal/searchable-text.ts. Ensure sanitization is consistent.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0086","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0158","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0158","category":"refactoring","severity":"S3","type":"code-smell","file":"multiple","line":0,"title":"Batch fix opportunities: 200+ ESLint auto-fixable issues","description":"Low-hanging fruit that reduces SonarQube noise instantly.","recommendation":"Run npm run lint:fix. Commit auto-fixed changes before manual refactoring.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0088","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0160","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0160","category":"refactoring","severity":"S3","type":"code-smell","file":"app/meetings/all/page.tsx","line":0,"title":"parseTime() meeting helper duplicated in two pages","description":"Small helper duplication is a drift vector (edge cases like 'Noon', locale formats).","recommendation":"Extract to lib/utils/time.ts as parseMeetingTimeToMinutes(). Unit test it.","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0090","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0161","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0161","category":"documentation","severity":"S1","type":"tech-debt","file":"docs/reviews/2026-Q1/outputs/code-review/CODE_REVIEW_2026_Q1.md","line":0,"title":"Broken relative links in review/output docs (wrong ../ depth)","description":"Multiple review output and findings documents use incorrect relative paths (one level off). Links from docs/reviews/2026-Q1/outputs/ need 4 levels up to reach docs/, but many use only 2-3 levels.","recommendation":"Adopt consistent rule: 'walk up to docs/ then down' for all docs/reviews/** files; Fix all relative links in CODE_REVIEW_2026_Q1.md, PERFORMANCE_AUDIT_FINDINGS_2026_Q1.md, AUDIT_TRACKER.md, PROCESS_AUDIT_PLAN_2026_Q1.md","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0091","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0162","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0162","category":"documentation","severity":"S1","type":"tech-debt","file":"docs/reviews/2026-Q1/CODE_REVIEW_PLAN_2026_Q1.md","line":0,"title":"[X] placeholders remain in 2026-Q1 plan instances","description":"Multiple 2026-Q1 plan instances still contain bracket placeholders like [X] (quarter markers Q[X], metric placeholders) that should have been replaced when instantiating from templates.","recommendation":"Replace all [X] placeholders with concrete Q1 values or TBD; Run grep -n '\\[X\\]' docs/reviews/2026-Q1/*_PLAN_2026_Q1.md to find all instances","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0092","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0163","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0163","category":"documentation","severity":"S2","type":"tech-debt","file":"DOCUMENTATION_INDEX.md","line":0,"title":"DOCUMENTATION_INDEX.md orphaned and missing required sections","description":"DOCUMENTATION_INDEX.md is not referenced by any markdown file in the repo, and docs linter reports it missing required sections (Purpose/Overview and Version History) and missing Last Updated metadata.","recommendation":"Add prominent link to DOCUMENTATION_INDEX.md from README.md; Add missing sections: Purpose/Overview and Version History; Decide tier and align metadata accordingly","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0093","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0164","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0164","category":"documentation","severity":"S2","type":"tech-debt","file":"docs/ANTIGRAVITY_GUIDE.md","line":0,"title":"Tier 2 docs missing required metadata (Document Version, Applies To)","description":"DOCUMENTATION_STANDARDS.md defines Tier 2 required metadata as including Document Version and Applies To, but multiple docs labeled Tier 2 omit these fields.","recommendation":"Add **Document Version:** X.Y and **Applies To:** ... to all Tier 2 docs; Or downgrade truly guide-style docs to Tier 5 with appropriate metadata","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0094","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0165","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0165","category":"documentation","severity":"S2","type":"tech-debt","file":"docs/DOCUMENTATION_STANDARDS.md","line":0,"title":"Standards/templates contain live placeholder links and incorrect anchors","description":"Several documentation 'example' links are written as live markdown links (not code fences), so they appear clickable and get treated as real by link checkers. DOCUMENTATION_STANDARDS references ROADMAP.md#dependencies which doesn't exist.","recommendation":"Wrap illustrative examples in fenced code blocks; Fix intended real links in templates (docs/templates/* -> ../../ROADMAP.md); Update or remove non-existent anchor references","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0095","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0166","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0166","category":"documentation","severity":"S2","type":"tech-debt","file":"docs/DOCUMENT_DEPENDENCIES.md","line":0,"title":"DOCUMENT_DEPENDENCIES.md claims SYNCED but has 30+ issues","description":"DOCUMENT_DEPENDENCIES.md declares 'Sync Status: SYNCED' in its header, but check-document-sync.js reports 30+ issues including broken links and missing files.","recommendation":"Run check-document-sync.js and fix all reported issues; Update Sync Status only after all checks pass","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0096","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0167","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0167","category":"documentation","severity":"S2","type":"tech-debt","file":"docs/PR_REVIEW_PROMPT_TEMPLATE.md","line":0,"title":"PR_REVIEW_PROMPT_TEMPLATE lacks required metadata and version history","description":"PR review prompt template includes Created and Purpose, but lacks Last Updated, Status, and Version History section.","recommendation":"Add **Last Updated:** YYYY-MM-DD and **Status:** to header; Add Version History section with minimal table; Consider relocating to docs/templates/","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0097","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0168","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0168","category":"documentation","severity":"S2","type":"tech-debt","file":"docs/agent_docs/CODE_PATTERNS.md","line":0,"title":"CODE_PATTERNS.md referenced with incorrect path","description":"CODE_PATTERNS.md is referenced in some documents using incorrect relative path (wrong directory depth or missing docs/agent_docs prefix).","recommendation":"Search for all references to CODE_PATTERNS.md; Update to correct path: docs/agent_docs/CODE_PATTERNS.md","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0098","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0169","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0169","category":"documentation","severity":"S2","type":"tech-debt","file":"docs/CODE_REVIEW_PLAN_2026_Q1.md","line":0,"title":"Duplicate CODE_REVIEW_PLAN_2026_Q1.md exists in two locations","description":"CODE_REVIEW_PLAN_2026_Q1.md exists in both docs/ and docs/reviews/2026-Q1/, creating confusion about which is canonical.","recommendation":"Determine canonical location (recommend docs/reviews/2026-Q1/); Delete or archive the non-canonical copy; Update all references to point to canonical location","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0099","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0171","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0171","category":"documentation","severity":"S3","type":"tech-debt","file":"docs/templates/FOUNDATION_DOC_TEMPLATE.md","line":0,"title":"Template date placeholders using literal YYYY-MM-DD format","description":"Templates contain date placeholders like YYYY-MM-DD or [Date] that should be replaced when instantiating but are sometimes copied literally.","recommendation":"Ensure all template instantiation replaces date placeholders with actual dates; Consider using different placeholder format that's more obviously wrong if not replaced (e.g., <REPLACE_WITH_DATE>)","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0101","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0172","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0172","category":"documentation","severity":"S3","type":"tech-debt","file":"docs/PR_REVIEW_PROMPT_TEMPLATE.md","line":0,"title":"Template docs located outside docs/templates/ directory","description":"PR_REVIEW_PROMPT_TEMPLATE.md is a reusable template but is stored at docs/ rather than docs/templates/. Standards imply templates should live in docs/templates/.","recommendation":"Confirm if all templates should be under docs/templates/; If yes, move PR_REVIEW_PROMPT_TEMPLATE.md and update references","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0102","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0173","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0173","category":"documentation","severity":"S3","type":"tech-debt","file":"docs/DEVELOPMENT.md","line":0,"title":"Test count mismatch between DEVELOPMENT.md and actual test suite","description":"DEVELOPMENT.md claims a specific number of tests (e.g., 10 tests) but actual test suite may have different count.","recommendation":"Run npm test and count actual tests; Update DEVELOPMENT.md with accurate count or remove specific number","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0103","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0174","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0174","category":"documentation","severity":"S3","type":"tech-debt","file":"ROADMAP.md","line":0,"title":"ROADMAP anchor links may be fragile due to emoji/punctuation in headings","description":"Links to specific heading anchors (e.g., #m16---...) can break if heading text changes due to emoji/punctuation differences in GitHub slug algorithm.","recommendation":"Avoid over-specific anchors for frequently edited headings; Manually verify anchor behavior in GitHub-rendered view","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0104","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0175","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0175","category":"process","severity":"S0","type":"process-gap","file":".github/workflows/ci.yml","line":0,"title":"Multiple CI quality gates configured as non-blocking (continue-on-error: true)","description":"Prettier, unused deps check, pattern compliance, and docs checks have continue-on-error: true. Formatting drift, dependency issues, pattern violations, and doc issues can accumulate and ship.","recommendation":"Convert to diff-based blocking (changed files only) while tracking baseline; Add baseline trend reporting to CI logs; Burn down baseline violations over time, then remove continue-on-error","effort":"E2","status":"NEW","roadmap_ref":"D4","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0105","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0176","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0176","category":"process","severity":"S1","type":"process-gap","file":"scripts/","line":0,"title":"Automation scripts have critically low test coverage (2-7% of ~31 scripts)","description":"Only 2 test files exist for ~31 runnable scripts. Critical workflow scripts (update-readme-status, validate-phase-completion, check-docs-light, check-review-needed) lack tests.","recommendation":"Add tests for workflow-critical scripts first (update-readme-status.js, validate-phase-completion.js, check-docs-light.js); Create lightweight CLI test harness (spawn node, assert exit codes/output); Target 70%+ coverage for scripts/","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0106","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0177","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0177","category":"process","severity":"S1","type":"process-gap","file":".github/workflows/ci.yml","line":0,"title":"Missing security scanning in CI (npm audit, CodeQL, Dependabot)","description":"No workflow steps for npm audit, CodeQL static analysis, or Dependabot config. Vulnerable dependencies and security issues not automatically detected.","recommendation":"Add scheduled npm audit --production workflow; Enable GitHub CodeQL for JavaScript/TypeScript; Create .github/dependabot.yml for npm and GitHub Actions updates","effort":"E2","status":"NEW","roadmap_ref":"D5","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0107","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0178","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0178","category":"process","severity":"S1","type":"process-gap","file":".github/workflows/deploy-firebase.yml","line":0,"title":"Deploy workflow calls gcloud without installing Google Cloud SDK","description":"deploy-firebase.yml runs gcloud auth and gcloud config commands but has no setup-gcloud action. Can cause deploy failures on runners without gcloud pre-installed.","recommendation":"Add google-github-actions/setup-gcloud before gcloud commands; Or remove gcloud usage and rely on GOOGLE_APPLICATION_CREDENTIALS for firebase-tools auth; Add gcloud --version sanity check step","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0108","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0179","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0179","category":"process","severity":"S2","type":"process-gap","file":"DEVELOPMENT.md","line":0,"title":"DEVELOPMENT.md workflow triggers don't match actual workflow YAML","description":"DEVELOPMENT.md documents workflows with incorrect triggers. deploy-firebase marked Manual/Release but triggers on push to main. review-check marked Scheduled/Manual but triggers on PR events.","recommendation":"Update DEVELOPMENT.md workflow table to match each workflow's on: block; Add docs check script that diffs documented vs actual triggers","effort":"E1","status":"NEW","roadmap_ref":"D3","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0109","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0180","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0180","category":"process","severity":"S2","type":"process-gap","file":".husky/pre-commit","line":0,"title":"Pre-commit hook runs full test suite causing slow commits (~50s+)","description":"Pre-commit runs npm test (full suite) plus lint/pattern checks. Pre-push also runs npm test. Duplicate testing slows developer workflow.","recommendation":"Move full npm test to pre-push only; Keep pre-commit to fast checks (lint, patterns on staged files); Consider running only changed-file tests in pre-commit","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0110","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0181","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0181","category":"process","severity":"S2","type":"process-gap","file":"scripts/check-pattern-compliance.js","line":0,"title":"Pattern checker reports 93+ violations but CI check is non-blocking","description":"Pattern checker finds 93 potential violations but CI step has continue-on-error: true. Pattern regressions can land on main.","recommendation":"Switch CI to block on pattern violations for changed files (diff-based); Allow baseline legacy files to pass until migrated; Add CI artifact summarizing violations trend","effort":"E2","status":"NEW","roadmap_ref":"M2.3-REF-005","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0111","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0182","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0182","category":"process","severity":"S2","type":"process-gap","file":".github/workflows/deploy-firebase.yml","line":0,"title":"Firebase CLI version unpinned in deploy workflow","description":"Deploy workflow installs firebase-tools via npm install -g firebase-tools without version pin. Upstream releases can change deploy behavior unexpectedly.","recommendation":"Pin firebase-tools: npm install -g firebase-tools@<known-good>; Document pinned version and update cadence in DEVELOPMENT.md","effort":"E0","status":"NEW","roadmap_ref":"D1","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0112","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0183","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0183","category":"process","severity":"S2","type":"process-gap","file":".github/workflows/auto-label-review-tier.yml","line":0,"title":"Auto-label workflow has invalid if: expression syntax","description":"Step uses if: steps.assign-tier.outputs.tier == '4' without required ${{ }} wrapper. Can cause workflow evaluation errors.","recommendation":"Change to if: ${{ steps.assign-tier.outputs.tier == '4' }}; Add actionlint check in CI for YAML syntax validation","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0113","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0184","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0184","category":"process","severity":"S3","type":"process-gap","file":"DEVELOPMENT.md","line":0,"title":"DEVELOPMENT.md Husky section missing pattern compliance step","description":"DEVELOPMENT.md lists pre-commit as ESLint, Prettier, Tests but omits the blocking npm run patterns:check step.","recommendation":"Update DEVELOPMENT.md pre-commit table to include Pattern compliance; Keep tables aligned with .husky/* content","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0114","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0185","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0185","category":"process","severity":"S3","type":"process-gap","file":".github/workflows/ci.yml","line":0,"title":"CI workflow lacks explicit permissions block (security hardening)","description":"ci.yml has no permissions: block, relying on GitHub defaults. Explicitly setting minimal permissions is best practice.","recommendation":"Add permissions: { contents: read } at workflow level; Document required permissions per workflow in DEVELOPMENT.md","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0115","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0189","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0189","category":"security","severity":"S0","type":"vulnerability","file":"","line":0,"title":"Re-enable App Check on Cloud Functions","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":"DEDUP-0001","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0001","source":"backlog"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":["DEDUP-0003","DEDUP-0004"]}
{"source_id":"review:MASTER-0190","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0190","category":"security","severity":"S0","type":"vulnerability","file":"","line":0,"title":"Close legacy journalEntries write path","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":"DEDUP-0002","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0002","source":"backlog"}],"merged_from":[],"pr_bucket":"PR2","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0191","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0191","category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Make reCAPTCHA fail-closed","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":"DEDUP-0003","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0003","source":"backlog"}],"merged_from":[],"pr_bucket":"PR3","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0192","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0192","category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Complete rate limiting (IP + admin)","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":"DEDUP-0004","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0004","source":"backlog"}],"merged_from":[],"pr_bucket":"PR4","consensus_score":null,"dependencies":["DEDUP-0003"]}
{"source_id":"review:MASTER-0193","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0193","category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Replace console.\\* with logger","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":"A22","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0005","source":"backlog"}],"merged_from":[],"pr_bucket":"PR8","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0194","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0194","category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Restore client App Check init","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0005","source":"backlog"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":["DEDUP-0001"]}
{"source_id":"review:MASTER-0195","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0195","category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Admin-claim rules defense-in-depth","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0010","source":"backlog"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0196","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0196","category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Verify reCAPTCHA coverage","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0014","source":"backlog"}],"merged_from":[],"pr_bucket":"PR3","consensus_score":null,"dependencies":["DEDUP-0003"]}
{"source_id":"review:MASTER-0197","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0197","category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Rate limit bypass mitigation","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0015","source":"backlog"}],"merged_from":[],"pr_bucket":"PR4","consensus_score":null,"dependencies":["DEDUP-0004"]}
{"source_id":"review:MASTER-0198","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0198","category":"security","severity":"S1","type":"vulnerability","file":"","line":0,"title":"Audit localStorage for sensitive data","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0016","source":"backlog"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0199","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0199","category":"security","severity":"S2","type":"vulnerability","file":"","line":0,"title":"Address ESLint security warnings","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0019","source":"backlog"}],"merged_from":[],"pr_bucket":"PR-LINT-WARNINGS","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0200","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0200","category":"security","severity":"S2","type":"vulnerability","file":"","line":0,"title":"Remove hardcoded reCAPTCHA fallback","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0038","source":"backlog"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0201","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0201","category":"security","severity":"S2","type":"vulnerability","file":"","line":0,"title":"Route admin writes through Functions","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0041","source":"backlog"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0202","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0202","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Fix journal entry type mismatch","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0006","source":"backlog"}],"merged_from":[],"pr_bucket":"PR6","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0203","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0203","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add error.message null safety","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0021","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0204","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0204","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Safe localStorage JSON.parse","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0022","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0205","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0205","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add .strict() to Zod schemas","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0013","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0206","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0206","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Replace unsafe type assertions","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0018","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0207","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0207","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Single source for journal types","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0020","source":"backlog"}],"merged_from":[],"pr_bucket":"PR6","consensus_score":null,"dependencies":["DEDUP-0006"]}
{"source_id":"review:MASTER-0208","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0208","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Type httpsCallable generics","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0025","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0209","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0209","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Fix @ts-expect-error suppression","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0030","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0211","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0211","category":"code-quality","severity":"S0","type":"code-smell","file":"","line":0,"title":"Fix useJournal memory leak","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":"DEDUP-0011","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0011","source":"backlog"}],"merged_from":[],"pr_bucket":"PR1","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0212","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0212","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Extract error handling utility","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":"CANON-0072","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0007","source":"backlog"}],"merged_from":[],"pr_bucket":"PR7","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0213","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0213","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Remove deprecated saveNotebookJournalEntry","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0008","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":["DEDUP-0006"]}
{"source_id":"review:MASTER-0214","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0214","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Separate domain/transport in useJournal","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0071","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":["DEDUP-0011"]}
{"source_id":"review:MASTER-0215","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0215","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Create callSecureFunction wrapper","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0076","source":"backlog"}],"merged_from":[],"pr_bucket":"PR11","consensus_score":null,"dependencies":["DEDUP-0003"]}
{"source_id":"review:MASTER-0216","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0216","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Shared reCAPTCHA action constants","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0078","source":"backlog"}],"merged_from":[],"pr_bucket":"PR11","consensus_score":null,"dependencies":["CANON-0076"]}
{"source_id":"review:MASTER-0217","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0217","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Extract useGrowthCardDialog hook","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":"CANON-0072","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0079","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0218","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0218","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Enable SSR for landing page","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":"DEDUP-0012","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0012","source":"backlog"}],"merged_from":[],"pr_bucket":"PR13","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0219","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0219","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Reduce 'use client' directives","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0046","source":"backlog"}],"merged_from":[],"pr_bucket":"PR14","consensus_score":null,"dependencies":["DEDUP-0012"]}
{"source_id":"review:MASTER-0220","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0220","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Split TodayPage god component","description":"","recommendation":"","effort":"E3","status":"NEW","roadmap_ref":"CANON-0072","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0072","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0221","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0221","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Explicit client providers wrapper","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0009","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0222","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0222","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Route Firebase through service layer","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0075","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":["CANON-0077"]}
{"source_id":"review:MASTER-0223","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0223","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Create typed collection helpers","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0077","source":"backlog"}],"merged_from":[],"pr_bucket":"PR12","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0224","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0224","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Clarify FirestoreAdapter boundary","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0085","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":["CANON-0075"]}
{"source_id":"review:MASTER-0225","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0225","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Audit inventory dual-write pattern","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0082","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0226","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0226","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Implement image optimization","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":"PERF-004","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0047","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0227","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0227","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Fix TodayPage subscription bug","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0048","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0228","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0228","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Lazy load notebook modules","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0049","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0229","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0229","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Complete Sentry integration","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0050","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0230","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0230","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add reduced-motion to animations","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0052","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0231","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0231","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add React.memo to list components","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0053","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0232","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0232","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Optimize hero background image","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0054","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0233","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0233","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add virtualization to large lists","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0055","source":"backlog"}],"merged_from":[],"pr_bucket":"PR15","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0234","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0234","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add marker clustering to map","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0056","source":"backlog"}],"merged_from":[],"pr_bucket":"PR15","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0235","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0235","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Remove 7 unused dependencies","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0057","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0236","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0236","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add Firebase query indexes","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0059","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0237","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0237","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Paginate admin CRUD table","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0060","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0239","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0239","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add loading.tsx files","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0062","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0240","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0240","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Lazy load JournalHub forms","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0063","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0241","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0241","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Add Cloud Function security tests","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":"A2","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0011","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":["DEDUP-0001"]}
{"source_id":"review:MASTER-0242","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0242","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Add Firestore rules emulator tests","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0012","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0243","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0243","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Increase security file coverage","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0013","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0244","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0244","category":"code-quality","severity":"S0","type":"code-smell","file":"scripts/assign-review-tier.js","line":0,"title":"Reduce 47 CRITICAL complexity functions","description":"","recommendation":"","effort":"E3","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0014","source":"backlog"},{"type":"backlog","id":"CANON-0068","source":"backlog"},{"type":"canon","id":"CANON-0068","file":"CANON-REFACTOR.jsonl"}],"merged_from":["DEDUP-0014","CANON-0068"],"pr_bucket":"PR18","consensus_score":null,"dependencies":["CANON-0068"]}
{"source_id":"review:MASTER-0245","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0245","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Add script test coverage (CI)","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":"D10","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0106","source":"backlog"}],"merged_from":[],"pr_bucket":"PR17","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0246","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0246","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Unskip Cloud Function test","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":"A2","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0027","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0247","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0247","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add useJournal hook tests","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0029","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":["DEDUP-0011"]}
{"source_id":"review:MASTER-0248","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0248","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Increase critical path coverage","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0074","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0249","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0249","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Extract time rotation utilities","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":"CANON-0072","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0009","source":"backlog"}],"merged_from":[],"pr_bucket":"PR10","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0250","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0250","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Consolidate DailyQuoteCard","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0010","source":"backlog"}],"merged_from":[],"pr_bucket":"PR9","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0251","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0251","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Create CRUD factory","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0080","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":["CANON-0077"]}
{"source_id":"review:MASTER-0252","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0252","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Centralize admin function wrappers","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0081","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0253","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0253","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Extract safeReadFile/safeWriteFile","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":"CANON-0072","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0084","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0254","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0254","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Consolidate searchable-text generation","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0086","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0256","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0256","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Remove duplicate CloudFunctionError","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0087","source":"backlog"}],"merged_from":[],"pr_bucket":"PR7","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0257","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0257","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Run ESLint auto-fix","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0088","source":"backlog"}],"merged_from":[],"pr_bucket":"PR-BATCH-AUTO","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0259","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0259","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Extract parseTime helper","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":"CANON-0072","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0090","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0260","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0260","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Fix broken relative links","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0091","source":"backlog"}],"merged_from":[],"pr_bucket":"PR16","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0261","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0261","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Replace [X] placeholders","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0092","source":"backlog"}],"merged_from":[],"pr_bucket":"PR16","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0262","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0262","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add DOCUMENTATION_INDEX to README","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0093","source":"backlog"}],"merged_from":[],"pr_bucket":"PR16","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0263","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0263","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add Tier 2 required metadata","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0094","source":"backlog"}],"merged_from":[],"pr_bucket":"PR16","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0264","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0264","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Fix standards placeholder links","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0095","source":"backlog"}],"merged_from":[],"pr_bucket":"PR16","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0265","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0265","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Update DOCUMENT_DEPENDENCIES sync","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0096","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0266","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0266","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Add PR_REVIEW_PROMPT metadata","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0097","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0267","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0267","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Fix CODE_PATTERNS.md path references","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0098","source":"backlog"}],"merged_from":[],"pr_bucket":"PR16","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0268","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0268","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Update DEVELOPMENT.md workflow docs","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":"D3","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0109","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0270","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0270","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Replace template date placeholders","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0101","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0271","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0271","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Move PR template to docs/templates/","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0102","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0272","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0272","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Update DEVELOPMENT.md test count","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0103","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0273","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0273","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Document fragile anchor links","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0104","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0274","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0274","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Update Husky docs for patterns:check","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0114","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0275","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0275","category":"code-quality","severity":"S0","type":"code-smell","file":"","line":0,"title":"Convert CI gates to blocking","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"DEDUP-0015","source":"backlog"}],"merged_from":[],"pr_bucket":"PR5","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0276","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0276","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Add npm audit + CodeQL + Dependabot","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0107","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0277","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0277","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Add gcloud setup to deploy workflow","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0108","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0278","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0278","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Move full tests to pre-push only","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0110","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0279","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0279","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Pin firebase-tools version","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0112","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0280","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0280","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Fix auto-label workflow if syntax","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0113","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0281","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0281","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Add explicit permissions block","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0115","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0283","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0283","category":"code-quality","severity":"S1","type":"code-smell","file":"","line":0,"title":"Item Name","description":"","recommendation":"","effort":"E0","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"LEGACY-001","source":"audit-backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0011","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0011","category":"code-quality","severity":"S3","type":"code-smell","file":"functions/src/jobs.ts","line":0,"title":"Useless assignment to hasMore variable","description":"SonarCloud reports useless assignment to variable 'hasMore'. Variable is assigned but may not be used after.","recommendation":"Remove the assignment or verify hasMore is actually used in the return value or subsequent logic.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-011","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0013","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0013","category":"code-quality","severity":"S3","type":"code-smell","file":"components/admin/logs-tab.tsx","line":0,"title":"Nested ternary operator","description":"SonarCloud flags nested ternary operation which reduces readability.","recommendation":"Extract to a helper function or use if/else statements for clarity.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-013","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0014","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0014","category":"code-quality","severity":"S3","type":"code-smell","file":"functions/src/admin.ts","line":0,"title":"Nested template literals (6 occurrences)","description":"SonarCloud flags nested template literals at lines 1388-1393. These reduce code readability.","recommendation":"Extract nested expressions to variables before interpolation.","effort":"E1","status":"NEW","roadmap_ref":"M2.3-REF-001","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"CODE-014","date":"2026-01-17","category":"code"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0044","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0044","category":"performance","severity":"S3","type":"code-smell","file":"components","line":0,"title":"Only 6 dynamic imports despite 101 client components","description":"Found only 6 dynamic() imports but 101 'use client' directives. Most components are bundled eagerly even if conditionally rendered.","recommendation":"Add dynamic imports for conditionally-rendered heavy components: modals, drawers, map components, admin panels.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PERF-010","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0045","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0045","category":"performance","severity":"S3","type":"code-smell","file":"components","line":0,"title":"useMemo/useCallback usage is inconsistent","description":"Found 11 useMemo and 10 useCallback usages, but 0 React.memo. Without memo on child components, useCallback provides limited benefit.","recommendation":"Add React.memo to list item components and frequently re-rendered children before useCallback provides full benefit.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PERF-011","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0067","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0067","category":"refactoring","severity":"S3","type":"code-smell","file":"lib/logger.ts","line":0,"title":"4 linter suppressions in codebase (ts-ignore, ts-expect-error, eslint-disable)","description":"Found 4 linter suppressions: logger.ts:86 (eslint-disable no-control-regex), resources-page.tsx:444 (ts-expect-error), admin/page.tsx:47 (eslint-disable react-hooks), use-geolocation.ts:171 (eslint-disable exhaustive-deps).","recommendation":"Review each suppression for possible removal or proper typing solution.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"REF-012","date":"2026-01-17","category":"refactoring"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0109","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0109","category":"code-quality","severity":"S3","type":"code-smell","file":"lib/sentry.client.ts","line":0,"title":"'any' types leaking into production code (needs tightening)","description":"Use of any reduces type safety; in production files it can mask real issues.","recommendation":"Replace production any with unknown + type guards or concrete types; allow any only in tests/mocks if necessary.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0032","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"types-domain","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0110","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0110","category":"refactoring","severity":"S3","type":"code-smell","file":"app/page.tsx","line":0,"title":"Landing page forced to client component for top-level state","description":"Forces full landing page client rendering, potentially affecting FCP/bundle size.","recommendation":"Move stateful logic into a small client wrapper; keep app/page.tsx server-rendered where possible.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0033","file":"CANON-CODE.jsonl"}],"merged_from":[],"pr_bucket":"boundaries","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0119","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0119","category":"security","severity":"S3","type":"vulnerability","file":"functions/src/index.ts","line":0,"title":"App Check disabled on Functions and client init disabled (tracked as risk-accepted hardening item)","description":"(If you later choose to enforce) enable App Check on server wrappers + restore client init.; Add monitoring for App Check failures and volume anomalies.","recommendation":"(If you later choose to enforce) enable App Check on server wrappers + restore client init.; Add monitoring for App Check failures and volume anomalies.","effort":"E1","status":"NEW","roadmap_ref":"MASTER-0078","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0043","file":"CANON-SECURITY.jsonl"}],"merged_from":[],"pr_bucket":"security-hardening","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0159","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0159","category":"refactoring","severity":"S3","type":"code-smell","file":"multiple","line":0,"title":"Batch fix opportunities: 79 replaceAll() + 71 node: prefix modernizations","description":"ES2021+ provides cleaner methods. Modernization reduces lint noise.","recommendation":"Find/replace: replace(/pattern/g) to replaceAll(). require('fs') to require('node:fs').","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0089","file":"CANON-REFACTOR.jsonl"}],"merged_from":[],"pr_bucket":"misc","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0186","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0186","category":"process","severity":"S3","type":"process-gap","file":"scripts/check-pattern-compliance.js","line":0,"title":"Pattern checker produces false positives for controlled npm install fallbacks","description":"Pattern checker flags npm install in automation even when it's documented fallback (prefers npm ci). Also emits MODULE_TYPELESS warning noise.","recommendation":"Refine pattern rules: allowlist documented fallback blocks or annotation comments; Consider adding type: module to package.json or suppressing warning","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0116","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0187","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0187","category":"process","severity":"S3","type":"process-gap","file":"scripts/check-review-needed.js","line":0,"title":"Review trigger thresholds may cause alert fatigue for process changes","description":"Process category triggers review on ANY change in .github, .claude, .husky, or scripts/ (threshold=1). May cause frequent needs-review labels for minor edits.","recommendation":"If alert fatigue occurs, split into subcategories or require N files except for critical paths; Add override mechanism documented in REVIEW_POLICY","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0117","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0188","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0188","category":"process","severity":"S3","type":"process-gap","file":".github/workflows/deploy-firebase.yml","line":0,"title":"Deploy workflow secret handling may be brittle for multiline JSON","description":"Workflow writes service account JSON via echo '...secret...' > file. Can be brittle if formatting/newlines differ across secret entry methods.","recommendation":"Prefer base64-encoding JSON secret and decode during workflow; Add validation step checking file is valid JSON before use","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0118","file":"CANON-PROCESS.jsonl"}],"merged_from":[],"pr_bucket":"process-automation","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0210","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0210","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Replace 'any' with proper types","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0032","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0258","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0258","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"replaceAll + node: prefix batch","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0089","source":"backlog"}],"merged_from":[],"pr_bucket":"PR-BATCH-AUTO","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0282","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0282","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Improve deploy secret handling","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0118","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0285","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0285","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Missing \"AI Instructions\" Sections","description":"","recommendation":"","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0102","source":"audit-backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0137","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0137","category":"performance","severity":"S2","type":"code-smell","file":"components/growth/Step1WorksheetCard.tsx","line":0,"title":"Step1WorksheetCard excessive complexity (804 lines)","description":"Decompose into smaller components (Concept1/2/3, Conclusion). Extract shared logic to custom hook useStep1Worksheet().","recommendation":"Decompose into smaller components (Concept1/2/3, Conclusion). Extract shared logic to custom hook useStep1Worksheet().","effort":"E3","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0061","file":"CANON-PERF.jsonl"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0238","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0238","category":"code-quality","severity":"S2","type":"code-smell","file":"","line":0,"title":"Decompose Step1WorksheetCard","description":"","recommendation":"","effort":"E3","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0061","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0073","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0073","category":"code-quality","severity":"S3","type":"code-smell","file":"components/","line":0,"title":"Error messages lack actionable fix hints - generic 'Please try again'","description":"15+ error toast messages use generic 'Please try again' without actionable guidance. Users don't know if they should: wait, refresh, check network, or contact support.","recommendation":"Add context-specific hints: 'Check your internet connection', 'This may take a moment, please wait', 'If this persists, contact support'. Include error code for support reference.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"EFFP-006","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":"dx-improvements","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0077","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0077","category":"code-quality","severity":"S3","type":"code-smell","file":"components/status/offline-indicator.tsx","line":0,"title":"OfflineIndicator is display-only - no sync status or retry mechanism","description":"OfflineIndicator component shows online/offline status but provides no: pending write count, sync progress, or manual retry button. Users have no visibility into what's happening with their data.","recommendation":"Enhance OfflineIndicator to show: 1) Pending write count from queue, 2) Last successful sync time, 3) Manual 'Sync Now' button. Integrate with write queue from EFFP-007.","effort":"E1","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"EFFP-010","date":"2026-01-17","category":"engineering-productivity"}],"merged_from":[],"pr_bucket":"dx-improvements","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0033","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0033","category":"documentation","severity":"S3","type":"tech-debt","file":"docs/archive/","line":0,"title":"Archive docs contain significant link rot after moves","description":"CANON-0100 identified multiple archived documents with broken links (./README.md, ./ROADMAP.md from docs/archive/). This is expected for archived content but adds noise to link validation.","recommendation":"Option A: Exclude docs/archive/** from link checks. Option B: Update archive links to correct relative paths.","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"DOC-008","date":"2026-01-17","category":"documentation"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0046","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0046","category":"performance","severity":"S3","type":"code-smell","file":"next.config.mjs","line":0,"title":"Image optimization disabled (unoptimized: true)","description":"Next.js image optimization is disabled via images: { unoptimized: true }. All images served at full resolution without WebP conversion or responsive sizing. CANON-0047 flagged this as S1.","recommendation":"Enable image optimization or implement static-friendly responsive pipeline. Consider using Cloudinary/Imgix for static export.","effort":"E2","status":"NEW","roadmap_ref":"PERF-004","roadmap_status":"already_tracked","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"single-session","id":"PERF-012","date":"2026-01-17","category":"performance"}],"merged_from":[],"pr_bucket":"performance-optimization","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0170","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0170","category":"documentation","severity":"S3","type":"tech-debt","file":"docs/archive/AI_HANDOFF-2026-01-02.md","line":0,"title":"Archive docs contain significant link rot after archival/moves","description":"Multiple archived documents contain broken links (e.g., linking to ./README.md, ./ROADMAP.md from within docs/archive/).","recommendation":"Option A: Exclude docs/archive/** from link checks; Option B: Update archive links to correct relative paths (../../README.md etc.)","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"canon","id":"CANON-0100","file":"CANON-DOCS.jsonl"}],"merged_from":[],"pr_bucket":"documentation-sync","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0255","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0255","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Fix deprecated APIs + nested ternaries","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0083","source":"backlog"}],"merged_from":[],"pr_bucket":"PR-BATCH-MANUAL","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0269","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0269","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Fix archive link rot","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0100","source":"backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
{"source_id":"review:MASTER-0284","source_file":"docs/aggregation/MASTER_ISSUE_LIST.jsonl","original_id":"MASTER-0284","category":"code-quality","severity":"S3","type":"code-smell","file":"","line":0,"title":"Missing \"Quick Start\" Sections","description":"","recommendation":"","effort":"E2","status":"NEW","roadmap_ref":null,"roadmap_status":"net_new","created":"2026-01-30","verified_by":null,"resolution":null,"evidence":[],"sources":[{"type":"backlog","id":"CANON-0101","source":"audit-backlog"}],"merged_from":[],"pr_bucket":"code-quality","consensus_score":null,"dependencies":[]}
