{"category":"process","title":"CI slow: Build job waits unnecessarily for all lint/test steps","fingerprint":"process::.github/workflows/ci.yml::build-sequential","severity":"S2","effort":"E2","confidence":"HIGH","files":[".github/workflows/ci.yml:136"],"why_it_matters":"Build could start after type checking completes, saving 2-3 minutes per CI run. Lint/test don't need to block build since both are independent verification steps.","suggested_fix":"Split into 3 parallel jobs: (1) lint+format+deps checks, (2) typecheck+test, (3) build. Then add a final 'all-checks' job that depends on all three. This reduces critical path from ~8min to ~5min.","acceptance_tests":["CI completes 30-40% faster","Build starts before all lint steps finish","No test coverage lost","All checks still block merge"],"file":".github/workflows/ci.yml","line":136,"description":"Build could start after type checking completes, saving 2-3 minutes per CI run. Lint/test don't need to block build since both are independent verification steps.","recommendation":"Split into 3 parallel jobs: (1) lint+format+deps checks, (2) typecheck+test, (3) build. Then add a final 'all-checks' job that depends on all three. This reduces critical path from ~8min to ~5min.","id":"process::.github/workflows/ci.yml::build-sequential"}
{"category":"process","title":"CI slow: Redundant npm ci in build job","fingerprint":"process::.github/workflows/ci.yml::duplicate-npm-ci","severity":"S2","effort":"E1","confidence":"HIGH","files":[".github/workflows/ci.yml:149",".github/workflows/ci.yml:25"],"why_it_matters":"npm ci runs twice (once in lint-typecheck-test, once in build), wasting 30-60s per run. node_modules could be cached as artifact and reused.","suggested_fix":"Use actions/cache or actions/upload-artifact to cache node_modules after first npm ci, then restore in build job. Or use a shared 'setup' job that both depend on.","acceptance_tests":["npm ci runs only once per workflow","Build job reuses node_modules from cache/artifact","CI completes 30-60s faster"],"file":".github/workflows/ci.yml","line":149,"description":"npm ci runs twice (once in lint-typecheck-test, once in build), wasting 30-60s per run. node_modules could be cached as artifact and reused.","recommendation":"Use actions/cache or actions/upload-artifact to cache node_modules after first npm ci, then restore in build job. Or use a shared 'setup' job that both depend on.","id":"process::.github/workflows/ci.yml::duplicate-npm-ci"}
{"category":"process","title":"CI slow: No Next.js build cache","fingerprint":"process::.github/workflows/ci.yml::no-nextjs-cache","severity":"S2","effort":"E1","confidence":"HIGH","files":[".github/workflows/ci.yml:152"],"why_it_matters":"Next.js builds take 2-4 minutes but .next directory isn't cached between runs. Incremental builds could reduce this to 30-60s for small changes.","suggested_fix":"Add actions/cache step to cache .next/cache directory using hash of source files as key. Next.js supports incremental builds when cache is present.","acceptance_tests":["Build time reduced 50-75% for incremental changes","Cache hit rate >70% after initial runs","Full builds still work when cache misses"],"file":".github/workflows/ci.yml","line":152,"description":"Next.js builds take 2-4 minutes but .next directory isn't cached between runs. Incremental builds could reduce this to 30-60s for small changes.","recommendation":"Add actions/cache step to cache .next/cache directory using hash of source files as key. Next.js supports incremental builds when cache is present.","id":"process::.github/workflows/ci.yml::no-nextjs-cache"}
{"category":"process","title":"CI slow: No path filters on main CI workflow","fingerprint":"process::.github/workflows/ci.yml::no-path-filters","severity":"S2","effort":"E1","confidence":"HIGH","files":[".github/workflows/ci.yml:3"],"why_it_matters":"CI runs full test suite even for docs-only changes (*.md files). Adds 5-8 minutes of unnecessary CI time for documentation PRs.","suggested_fix":"Add path-ignore filter to skip CI when only docs, markdown, or non-code files change. Keep required checks but mark as skipped for docs PRs.","acceptance_tests":["CI skips for docs-only PRs","CI still runs for any code changes","Required status checks don't block docs PRs"],"file":".github/workflows/ci.yml","line":3,"description":"CI runs full test suite even for docs-only changes (*.md files). Adds 5-8 minutes of unnecessary CI time for documentation PRs.","recommendation":"Add path-ignore filter to skip CI when only docs, markdown, or non-code files change. Keep required checks but mark as skipped for docs PRs.","id":"process::.github/workflows/ci.yml::no-path-filters"}
{"category":"process","title":"CI slow: Firebase deploy builds app twice","fingerprint":"process::.github/workflows/deploy-firebase.yml::duplicate-build","severity":"S2","effort":"E2","confidence":"HIGH","files":[".github/workflows/deploy-firebase.yml:47",".github/workflows/deploy-firebase.yml:100"],"why_it_matters":"Both preview-deploy and deploy jobs run 'npm run build' independently (2-4 min each). If CI workflow also builds, that's 3 separate builds of the same code.","suggested_fix":"Make deploy workflow depend on ci.yml's build job using workflow_run trigger, then download build artifact. Or create a reusable workflow that both can call.","acceptance_tests":["Build runs only once across all workflows","Deploy workflows reuse build artifacts","Total CI+deploy time reduced by 4-8 minutes"],"file":".github/workflows/deploy-firebase.yml","line":47,"description":"Both preview-deploy and deploy jobs run 'npm run build' independently (2-4 min each). If CI workflow also builds, that's 3 separate builds of the same code.","recommendation":"Make deploy workflow depend on ci.yml's build job using workflow_run trigger, then download build artifact. Or create a reusable workflow that both can call.","id":"process::.github/workflows/deploy-firebase.yml::duplicate-build"}
{"category":"process","title":"CI slow: Firebase deploys run sequentially","fingerprint":"process::.github/workflows/deploy-firebase.yml::sequential-deploys","severity":"S3","effort":"E2","confidence":"MEDIUM","files":[".github/workflows/deploy-firebase.yml:141",".github/workflows/deploy-firebase.yml:144",".github/workflows/deploy-firebase.yml:147"],"why_it_matters":"Functions, firestore rules, and hosting deploy sequentially (line 141, 144, 147). Each takes 30-90s. Running in parallel could save 1-2 minutes.","suggested_fix":"Use 3 parallel jobs or firebase deploy with multiple targets in one command (firebase deploy --only functions,firestore:rules,hosting). Verify Firebase CLI supports parallel deploys without conflicts.","acceptance_tests":["Deploy completes 40-60% faster","All three targets deploy successfully","No race conditions or conflicts","Rollback still works if any target fails"],"file":".github/workflows/deploy-firebase.yml","line":141,"description":"Functions, firestore rules, and hosting deploy sequentially (line 141, 144, 147). Each takes 30-90s. Running in parallel could save 1-2 minutes.","recommendation":"Use 3 parallel jobs or firebase deploy with multiple targets in one command (firebase deploy --only functions,firestore:rules,hosting). Verify Firebase CLI supports parallel deploys without conflicts.","id":"process::.github/workflows/deploy-firebase.yml::sequential-deploys"}
{"category":"process","title":"CI slow: SonarCloud runs on all changes including docs","fingerprint":"process::.github/workflows/sonarcloud.yml::no-path-filters","severity":"S3","effort":"E1","confidence":"HIGH","files":[".github/workflows/sonarcloud.yml:7"],"why_it_matters":"SonarCloud analysis runs on every push/PR even for docs-only changes. Takes 1-2 minutes and consumes analysis quota unnecessarily.","suggested_fix":"Add paths filter to only run when code files change (*.ts, *.tsx, *.js, *.jsx). Skip for docs/markdown-only changes.","acceptance_tests":["SonarCloud skips for docs-only PRs","Analysis still runs for any code changes","No impact on code quality metrics"],"file":".github/workflows/sonarcloud.yml","line":7,"description":"SonarCloud analysis runs on every push/PR even for docs-only changes. Takes 1-2 minutes and consumes analysis quota unnecessarily.","recommendation":"Add paths filter to only run when code files change (*.ts, *.tsx, *.js, *.jsx). Skip for docs/markdown-only changes.","id":"process::.github/workflows/sonarcloud.yml::no-path-filters"}
{"category":"process","title":"CI slow: Full git history fetched unnecessarily","fingerprint":"process::.github/workflows/sonarcloud.yml::full-fetch-depth","severity":"S3","effort":"E1","confidence":"MEDIUM","files":[".github/workflows/sonarcloud.yml:31",".github/workflows/review-check.yml:20"],"why_it_matters":"fetch-depth: 0 downloads entire git history (can be 100MB+ and take 30-60s). Most workflows only need recent commits for diffs.","suggested_fix":"Change fetch-depth to a reasonable number (e.g., 50) or remove if not needed. Only use fetch-depth: 0 when truly necessary (e.g., for blame analysis).","acceptance_tests":["Checkout completes 30-60s faster","Workflows still function correctly","Diff operations still work for PR analysis"],"file":".github/workflows/sonarcloud.yml","line":31,"description":"fetch-depth: 0 downloads entire git history (can be 100MB+ and take 30-60s). Most workflows only need recent commits for diffs.","recommendation":"Change fetch-depth to a reasonable number (e.g., 50) or remove if not needed. Only use fetch-depth: 0 when truly necessary (e.g., for blame analysis).","id":"process::.github/workflows/sonarcloud.yml::full-fetch-depth"}
{"category":"process","title":"CI slow: Backlog workflow installs deps twice","fingerprint":"process::.github/workflows/backlog-enforcement.yml::duplicate-npm-ci","severity":"S3","effort":"E1","confidence":"HIGH","files":[".github/workflows/backlog-enforcement.yml:26",".github/workflows/backlog-enforcement.yml:119"],"why_it_matters":"backlog-health and security-patterns jobs both run npm ci independently (30-60s each). They could share a setup job or reuse cache.","suggested_fix":"Create a shared 'setup' job that runs npm ci once and uploads node_modules as artifact. Both jobs depend on setup and download artifact instead of running npm ci.","acceptance_tests":["npm ci runs once instead of twice","Both jobs still function correctly","Workflow completes 30-60s faster"],"file":".github/workflows/backlog-enforcement.yml","line":26,"description":"backlog-health and security-patterns jobs both run npm ci independently (30-60s each). They could share a setup job or reuse cache.","recommendation":"Create a shared 'setup' job that runs npm ci once and uploads node_modules as artifact. Both jobs depend on setup and download artifact instead of running npm ci.","id":"process::.github/workflows/backlog-enforcement.yml::duplicate-npm-ci"}
{"category":"process","title":"CI slow: Review check runs on all PRs without path filters","fingerprint":"process::.github/workflows/review-check.yml::no-path-filters","severity":"S3","effort":"E1","confidence":"HIGH","files":[".github/workflows/review-check.yml:3"],"why_it_matters":"Review trigger check runs on all PRs including docs-only changes. Wastes 30-60s for PRs that don't touch code.","suggested_fix":"Add paths filter to only run when code files change. For docs-only PRs, this check is not relevant.","acceptance_tests":["Review check skips for docs-only PRs","Check still runs for code changes","No false negatives for trigger detection"],"file":".github/workflows/review-check.yml","line":3,"description":"Review trigger check runs on all PRs including docs-only changes. Wastes 30-60s for PRs that don't touch code.","recommendation":"Add paths filter to only run when code files change. For docs-only PRs, this check is not relevant.","id":"process::.github/workflows/review-check.yml::no-path-filters"}
{"category":"process","title":"CI slow: Auto-label workflow has no npm cache","fingerprint":"process::.github/workflows/auto-label-review-tier.yml::no-npm-cache","severity":"S3","effort":"E1","confidence":"MEDIUM","files":[".github/workflows/auto-label-review-tier.yml:22"],"why_it_matters":"setup-node doesn't have cache: 'npm' configured, so npm packages are re-downloaded on every run (adds 10-20s).","suggested_fix":"Add cache: 'npm' to setup-node action to enable npm caching. This is a one-line change.","acceptance_tests":["npm install completes 50-70% faster on cache hit","Workflow still installs dependencies correctly","No stale package issues"],"file":".github/workflows/auto-label-review-tier.yml","line":22,"description":"setup-node doesn't have cache: 'npm' configured, so npm packages are re-downloaded on every run (adds 10-20s).","recommendation":"Add cache: 'npm' to setup-node action to enable npm caching. This is a one-line change.","id":"process::.github/workflows/auto-label-review-tier.yml::no-npm-cache"}
{"category":"process","title":"CI slow: Docs lint processes files sequentially","fingerprint":"process::.github/workflows/docs-lint.yml::sequential-processing","severity":"S3","effort":"E2","confidence":"MEDIUM","files":[".github/workflows/docs-lint.yml:58"],"why_it_matters":"Documentation linter processes files one-by-one in bash loop (line 58-113). For PRs with 10+ markdown files, this can take 2-3 minutes. Parallel processing could reduce to 30-60s.","suggested_fix":"Refactor to run linter in parallel using xargs -P or rewrite the bash logic into a Node.js script that uses Promise.all to check files concurrently.","acceptance_tests":["Docs lint completes 50-70% faster for multi-file PRs","All files still checked correctly","Output remains readable and actionable"],"file":".github/workflows/docs-lint.yml","line":58,"description":"Documentation linter processes files one-by-one in bash loop (line 58-113). For PRs with 10+ markdown files, this can take 2-3 minutes. Parallel processing could reduce to 30-60s.","recommendation":"Refactor to run linter in parallel using xargs -P or rewrite the bash logic into a Node.js script that uses Promise.all to check files concurrently.","id":"process::.github/workflows/docs-lint.yml::sequential-processing"}
