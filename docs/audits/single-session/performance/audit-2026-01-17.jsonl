{"id":"PERF-001","category":"Bundle","severity":"S1","effort":"E2","confidence":"HIGH","verified":"TOOL_VALIDATED","file":"components/notebook/pages/today-page.tsx","line":1,"title":"Large monolithic component (1117 lines) without code splitting","description":"TodayPage is 1117 lines with 15+ state variables, 12 console.log statements, and multiple useEffect hooks. No code splitting or lazy loading despite being heavily interactive.","affected_metric":"bundle","estimated_improvement":"15-20%","recommendation":"Split into smaller sub-components: TodayPageHeader, CleanTimeSection, MoodCheckInSection, HaltCheckSection, WeeklyStatsSection. Use dynamic imports for optional sections.","evidence":["wc -l shows 1117 lines","12 console.log debug statements found","15+ useState calls at component top"],"cross_ref":"build"}
{"id":"PERF-002","category":"Rendering","severity":"S1","effort":"E1","confidence":"HIGH","verified":"DUAL_PASS_CONFIRMED","file":"components/admin/users-tab.tsx","line":84,"title":"No React.memo on frequently re-rendered admin list (924 lines)","description":"UsersTab is 924 lines with complex state (search, pagination, drawer, editing). Child components re-render on any state change. SonarCloud flagged cognitive complexity 27.","affected_metric":"render","estimated_improvement":"20-30%","recommendation":"Extract UserListItem, UserSearchBar, UserDetailDrawer as memoized sub-components. Add React.memo with proper equality checks.","evidence":["wc -l shows 924 lines","0 React.memo usage in codebase","Code audit CODE-005 flagged cognitive complexity 27"],"cross_ref":"MANUAL_ONLY"}
{"id":"PERF-003","category":"Rendering","severity":"S2","effort":"E1","confidence":"HIGH","verified":"TOOL_VALIDATED","file":"components/notebook/pages/today-page.tsx","line":396,"title":"12 debug console.log statements in production code","description":"Today-page.tsx contains 12 console.log/error statements for debugging that execute in production, adding noise and minor performance overhead.","affected_metric":"render","estimated_improvement":"1-2%","recommendation":"Replace with logger utility or remove. Debug statements at lines 396, 422, 511, 524, 529, 532, 545, 562, 584.","evidence":["grep console.log found 12 matches in today-page.tsx","Code audit CODE-002 flagged same issue"],"cross_ref":"eslint"}
{"id":"PERF-004","category":"Rendering","severity":"S2","effort":"E1","confidence":"MEDIUM","verified":"MANUAL_ONLY","file":"components","line":0,"title":"30+ components with inline onClick arrow functions","description":"Found 30+ components passing inline arrow functions to onClick props (onClick={() => ...). These create new function references on each render, potentially causing unnecessary child re-renders.","affected_metric":"render","estimated_improvement":"5-10%","recommendation":"Extract handlers to useCallback where components are memoized or passed to child components.","evidence":["grep onClick={() => found 30+ matches in components/","settings-page.tsx, users-tab.tsx, logs-tab.tsx among top offenders"],"cross_ref":"MANUAL_ONLY"}
{"id":"PERF-005","category":"Rendering","severity":"S2","effort":"E1","confidence":"HIGH","verified":"TOOL_VALIDATED","file":"components","line":0,"title":"28 components with inline style objects","description":"Found 28 components using style={{...}} inline objects which create new object references on each render, potentially causing unnecessary re-renders.","affected_metric":"render","estimated_improvement":"3-5%","recommendation":"Move static styles to className (Tailwind) or extract to const objects outside component. Dynamic styles should use useMemo.","evidence":["grep style={{  found 28 files with 110 total occurrences","Top offenders: NightReviewCard (14), settings-page (5), today-page (6)"],"cross_ref":"MANUAL_ONLY"}
{"id":"PERF-006","category":"Bundle","severity":"S2","effort":"E1","confidence":"HIGH","verified":"TOOL_VALIDATED","file":".next/static/chunks","line":0,"title":"Large chunk file (628KB) indicates code splitting opportunity","description":"Largest chunk is 628KB. Next largest chunks: 356KB, 280KB, 220KB, 188KB. Total static directory: 3.5MB.","affected_metric":"bundle","estimated_improvement":"10-15%","recommendation":"Run bundle analyzer (npm run analyze) to identify which modules are in large chunks. Consider dynamic imports for heavy libraries like framer-motion (37 imports).","evidence":["du -h shows 628KB largest chunk","Total .next/static is 3.5MB","37 framer-motion imports across components"],"cross_ref":"build"}
{"id":"PERF-007","category":"Rendering","severity":"S2","effort":"E0","confidence":"HIGH","verified":"TOOL_VALIDATED","file":"components","line":0,"title":"20+ uses of key={index} in list rendering","description":"Found 20+ instances of key={index} or key={i} in .map() renders. Index keys cause inefficient reconciliation when list items are reordered, added, or removed.","affected_metric":"render","estimated_improvement":"5-10%","recommendation":"Use unique stable IDs for keys (item.id, item.uid). Index keys acceptable only for truly static lists.","evidence":["grep key={i} and key={index} found 20+ matches","onboarding-wizard.tsx, Step1WorksheetCard.tsx, entry-card.tsx among offenders"],"cross_ref":"MANUAL_ONLY"}
{"id":"PERF-008","category":"Memory","severity":"S2","effort":"E1","confidence":"HIGH","verified":"MANUAL_ONLY","file":"components/widgets/meeting-countdown.tsx","line":41,"title":"setInterval without visibility check continues in background","description":"meeting-countdown.tsx and compact-meeting-countdown.tsx run setInterval (60s/30s) even when tab is backgrounded, wasting resources.","affected_metric":"memory","estimated_improvement":"Minor","recommendation":"Use Page Visibility API to pause intervals when document is hidden. Pattern already exists in today-page.tsx:488.","evidence":["setInterval at lines 41 and 236","No visibilitychange listener in countdown components","today-page.tsx already implements visibility pattern"],"cross_ref":"MANUAL_ONLY"}
{"id":"PERF-009","category":"DataFetch","severity":"S2","effort":"E1","confidence":"MEDIUM","verified":"MANUAL_ONLY","file":"lib/db/meetings.ts","line":129,"title":"getAllMeetings() deprecated but still available without limit","description":"MeetingsService.getAllMeetings() fetches entire collection without limit. Marked deprecated but not removed. paginated version exists but may not be used everywhere.","affected_metric":"LCP","estimated_improvement":"Variable","recommendation":"Remove deprecated getAllMeetings or add deprecation warning. Audit call sites to ensure pagination is used.","evidence":["getAllMeetings at line 129 has no limit()","Comment says DEPRECATED, use getAllMeetingsPaginated","CANON-PERF noted similar issues"],"cross_ref":"MANUAL_ONLY"}
{"id":"PERF-010","category":"Bundle","severity":"S3","effort":"E1","confidence":"HIGH","verified":"TOOL_VALIDATED","file":"components","line":0,"title":"Only 6 dynamic imports despite 101 client components","description":"Found only 6 dynamic() imports but 101 'use client' directives. Most components are bundled eagerly even if conditionally rendered.","affected_metric":"bundle","estimated_improvement":"Variable","recommendation":"Add dynamic imports for conditionally-rendered heavy components: modals, drawers, map components, admin panels.","evidence":["grep dynamic( found 6 matches","grep 'use client' found 101 matches","dynamic imports: MeetingMap, SignInModal, OnboardingWizard, AccountLinkModal, SettingsPage"],"cross_ref":"build"}
{"id":"PERF-011","category":"Rendering","severity":"S3","effort":"E1","confidence":"MEDIUM","verified":"MANUAL_ONLY","file":"components","line":0,"title":"useMemo/useCallback usage is inconsistent","description":"Found 11 useMemo and 10 useCallback usages, but 0 React.memo. Without memo on child components, useCallback provides limited benefit.","affected_metric":"render","estimated_improvement":"Variable","recommendation":"Add React.memo to list item components and frequently re-rendered children before useCallback provides full benefit.","evidence":["grep useMemo found 11 files","grep useCallback found 10 files","grep React.memo found 0 files"],"cross_ref":"MANUAL_ONLY"}
{"id":"PERF-012","category":"WebVitals","severity":"S3","effort":"E2","confidence":"MEDIUM","verified":"MANUAL_ONLY","file":"next.config.mjs","line":14,"title":"Image optimization disabled (unoptimized: true)","description":"Next.js image optimization is disabled via images: { unoptimized: true }. All images served at full resolution without WebP conversion or responsive sizing. CANON-0047 flagged this as S1.","affected_metric":"LCP","estimated_improvement":"30-50%","recommendation":"Enable image optimization or implement static-friendly responsive pipeline. Consider using Cloudinary/Imgix for static export.","evidence":["next.config.mjs has unoptimized: true","Only 5 next/image imports found","0 <img> tags (good) but images may be CSS backgrounds"],"cross_ref":"CANON-0047"}
