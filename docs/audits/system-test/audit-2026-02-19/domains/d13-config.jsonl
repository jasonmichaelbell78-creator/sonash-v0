{"id":"SYST-2026-02-19-D13-001","domain":13,"domain_name":"Config File Consistency","check_id":"13.1","severity":"S2","effort":"E0","category":"correctness","title":"Node.js runtime mismatch — firebase.json says nodejs24, functions/package.json says node 20","description":"firebase.json sets functions runtime to nodejs24 but functions/package.json engines.node is set to '20'. This mismatch means Cloud Functions deploy to Node 24 runtime but the package.json claims Node 20 compatibility. Developers running locally with Node 20 may not encounter issues that appear in production on Node 24.","recommendation":"Align both files to the same Node.js version — either update functions/package.json engines to '24' or change firebase.json runtime to 'nodejs20'.","file":"firebase.json","line":68,"evidence":"firebase.json:68 — \"runtime\": \"nodejs24\"\nfunctions/package.json:13-14 — \"engines\": { \"node\": \"20\" }\nLocal Node.js: v22.22.0 (yet another version)","suggested_fix":"Update functions/package.json: \"engines\": { \"node\": \"24\" } to match firebase.json runtime. Or if Node 20 is intentional, change firebase.json to \"runtime\": \"nodejs20\".","status":"accepted","suggestion_text":"Accept at S2. Runtime mismatch can cause subtle bugs — Node 24 may have different behavior than Node 20 for certain APIs.","counter_argument":"Firebase CLI validates compatibility during deploy. If functions deploy successfully, the mismatch is cosmetic. The engines field is advisory, not enforced.","related_findings":[],"detected_at":"2026-02-19T14:45:00Z","reviewed_at":"2026-02-19T14:48:00Z"}
{"id":"SYST-2026-02-19-D13-002","domain":13,"domain_name":"Config File Consistency","check_id":"13.3","severity":"S3","effort":"E0","category":"correctness","title":"Stale functions/tsconfig.dev.json references non-existent .eslintrc.js","description":"functions/tsconfig.dev.json contains { \"include\": [\".eslintrc.js\"] } but .eslintrc.js does not exist — the project migrated to ESLint flat config (eslint.config.mjs). This is a dead config file that serves no purpose.","recommendation":"Delete functions/tsconfig.dev.json — it's a leftover from the ESLint legacy config migration.","file":"functions/tsconfig.dev.json","line":1,"evidence":"functions/tsconfig.dev.json:2 — \"include\": [\".eslintrc.js\"]\nfunctions/.eslintrc.js does not exist (confirmed via ls)\nfunctions/eslint.config.mjs exists (flat config migration completed)","suggested_fix":"Delete functions/tsconfig.dev.json. It's a stale artifact from before the flat config migration.","status":"accepted","suggestion_text":"Accept at S3. Dead config file. No functional impact but adds confusion.","counter_argument":"The file is harmless — TypeScript ignores include patterns for non-existent files. Deleting it is a trivial cleanup.","related_findings":[],"detected_at":"2026-02-19T14:45:00Z","reviewed_at":"2026-02-19T14:48:00Z"}
{"id":"SYST-2026-02-19-D13-003","domain":13,"domain_name":"Config File Consistency","check_id":"13.2","severity":"S3","effort":"E0","category":"correctness","title":"Root package.json has no engines field — no Node.js version constraint","description":"Root package.json does not specify an engines field. Developers can use any Node.js version without warning. functions/package.json specifies engines.node: '20' but the root project has no constraint, creating inconsistency.","recommendation":"Add engines field to root package.json specifying the minimum Node.js version (e.g., '>=20').","file":"package.json","line":1,"evidence":"Root package.json — no 'engines' field found\nfunctions/package.json:13-14 — \"engines\": { \"node\": \"20\" }\nLocal Node.js: v22.22.0 — works fine but no enforcement","suggested_fix":"Add to root package.json: \"engines\": { \"node\": \">=20\" }. This warns developers using older Node.js versions. Consider adding .nvmrc or .node-version for version managers.","status":"accepted","suggestion_text":"Accept at S3. No version constraint means developers could use incompatible Node.js versions without warning.","counter_argument":"The project works on Node 20+ without issues. Adding engines is advisory only and doesn't block usage. Most developers use nvm and would set the right version anyway.","related_findings":["D13-001"],"detected_at":"2026-02-19T14:45:00Z","reviewed_at":"2026-02-19T14:48:00Z"}
