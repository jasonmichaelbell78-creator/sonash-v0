{"category":"Testing","title":"14 logger test failures may mask real regressions","fingerprint":"engineering-productivity::tests/::logger-test-failures","severity":"S2","effort":"E1","confidence":35,"files":["tests/"],"why_it_matters":"14 known test failures in logger tests due to mock issues are accepted as not blocking for CI. If a real regression occurs in logger.ts, it would be hidden by these known failures.","suggested_fix":"Fix mock.calls issues in logger tests or properly skip them with clear documentation. Consider using a proper mocking library.","acceptance_tests":["All logger tests pass or are properly skipped with reason","No test failures accepted as known issues without a tracking issue"],"evidence":["Copilot instructions mention 14 failures in logger tests due to mock issues"],"line":1}
{"category":"CI_CD","title":"Deploy workflow runs on every push to main without gate","fingerprint":"engineering-productivity::.github/workflows/deploy-firebase.yml::no-ci-gate","severity":"S2","effort":"E1","confidence":30,"files":[".github/workflows/deploy-firebase.yml"],"why_it_matters":"deploy-firebase.yml triggers on push to main independently of CI passing. If CI fails but a merge happens, broken code could deploy to production.","suggested_fix":"Add workflow_run trigger to require CI workflow completion, or use environment protection rules.","acceptance_tests":["Deploy only runs after CI passes","Failed CI blocks production deployment"],"evidence":["deploy-firebase.yml:3-6 triggers on push to main","No dependency on CI workflow"],"line":3}
{"category":"Debugging","title":"Production logging may miss warn/info level events","fingerprint":"engineering-productivity::lib/logger.ts::production-log-suppression","severity":"S3","effort":"E1","confidence":30,"files":["lib/logger.ts"],"why_it_matters":"logger.ts only sends errors to Sentry in production. Warnings and info logs are completely suppressed, making it impossible to debug non-error issues without reproducing locally.","suggested_fix":"Consider sending warnings to Sentry with lower sampling rate, or add a production debug mode toggled via feature flag.","acceptance_tests":["Critical warnings captured in production monitoring","Debug mode available without redeployment"],"evidence":["lib/logger.ts:120 â€” if (isProduction && level === 'error')","Info and warn completely suppressed in production"],"line":120}