{"category":"Security","title":"Potential Firestore-rules alignment risk for direct weekly log reads","fingerprint":"Security::components/notebook/pages/today-page.tsx::calculateWeeklyStats::rules_alignment_uncertain","severity":"S2","effort":"E1","confidence":35,"files":["components/notebook/pages/today-page.tsx","storage.rules"],"symbols":["calculateWeeklyStats"],"duplication_cluster":{"is_cluster":false,"cluster_summary":"","instances":[]},"why_it_matters":"If rules evolve, direct query behavior may diverge from service-backed behavior and fail unexpectedly.","suggested_fix":"Consolidate to service layer and add emulator-based rules tests for weekly-read path.","acceptance_tests":["Firestore emulator integration tests for daily_logs weekly query"],"pr_bucket_suggestion":"security-hardening","dependencies":[],"evidence":["Rules-to-query alignment was not fully validated in this pass."]}
