{"category":"process","title":"Install/build can fail due to missing local file dependency (@dataconnect/generated)","fingerprint":"npm-scripts::package.json::missing-local-file-dependency","severity":"S0","effort":"E1","confidence":95,"files":["package.json"],"line":76,"why_it_matters":"package.json declares a local file dependency @dataconnect/generated: file:src/dataconnect-generated, but src/ (and that target directory) does not exist in this repo snapshot. This will break npm ci/npm install in CI and for contributors unless the folder is generated/checked out via another mechanism.","evidence":["package.json:76-78 '@dataconnect/generated': 'file:src/dataconnect-generated'","repo check: test -d src/dataconnect-generated -> MISSING","ls -la src -> (no src dir)"],"suggested_fix":{"steps":["Decide source-of-truth for the generated package: commit it, generate it in a preinstall/prepare step, or remove the dependency if unused.","If generation is intended: add a deterministic script and ensure CI runs it before npm ci.","Document the generation requirement in DEVELOPMENT.md."],"verification":["Run npm ci on a clean checkout.","Run CI workflow to confirm install step succeeds."]},"acceptance_tests":["Verify fix applied correctly"]}
{"category":"process","title":"DEVELOPMENT.md is stale vs actual pre-push gate (docs say it runs tests; hook no longer does)","fingerprint":"husky::DEVELOPMENT.md::pre-push-docs-out-of-sync","severity":"S2","effort":"E0","confidence":92,"files":["DEVELOPMENT.md",".husky/pre-push"],"line":584,"why_it_matters":"Developer documentation claims .husky/pre-push runs npm test, but the actual hook explicitly states tests were removed and does not run them. This creates process confusion and undermines trust in the documented gates.","evidence":["DEVELOPMENT.md:582-588 shows pre-push table with 'Tests | npm test | YES - blocks push'",".husky/pre-push:6-14 shows tests were removed: 'Removed duplicate test run - saves 50-60s per push'"],"suggested_fix":{"steps":["Update DEVELOPMENT.md pre-push table to match current .husky/pre-push steps.","Add a short note explaining where tests run now (pre-commit conditional + CI always)."],"verification":["Confirm DEVELOPMENT.md table matches .husky/pre-push contents."]},"acceptance_tests":["Verify fix applied correctly"]}
{"category":"process","title":"GitHub Actions supply-chain pinning is inconsistent (some workflows pinned to SHAs, others float on tags)","fingerprint":"github-actions::.github/workflows::inconsistent-action-pinning","severity":"S2","effort":"E1","confidence":90,"files":[".github/workflows/backlog-enforcement.yml",".github/workflows/ci.yml"],"line":18,"why_it_matters":"Some workflows pin critical actions to full commit SHAs (good), while others use floating tags (e.g., @v4). This inconsistency makes the security posture uneven and complicates policy enforcement/review.","evidence":["backlog-enforcement.yml:18 uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2","ci.yml:16 uses: actions/checkout@v4"],"suggested_fix":{"steps":["Define a repo policy: pin all third-party actions to SHAs.","Batch-update workflows to pinned SHAs, keeping version comments for readability."],"verification":["Add a workflow/job that reports zero unpinned uses: entries."]},"acceptance_tests":["Verify fix applied correctly"]}
{"category":"process","title":"Dead/orphaned Claude hook script retained after cross-platform migration (analyze-user-request.sh)","fingerprint":"claude-hooks::.claude/hooks/analyze-user-request.sh::orphaned-hook-script","severity":"S3","effort":"E0","confidence":95,"files":[".claude/hooks/analyze-user-request.sh",".claude/hooks/analyze-user-request.js",".claude/settings.json"],"line":1,"why_it_matters":"The repo keeps both the legacy shell hook and the JS replacement, but settings execute the JS version. Retaining the unused shell hook increases maintenance surface and risks future divergence/confusion.","evidence":[".claude/hooks/analyze-user-request.js:5-7 'Cross-platform replacement for analyze-user-request.sh'",".claude/settings.json:240 uses node .claude/hooks/analyze-user-request.js","Both files exist in .claude/hooks/"],"suggested_fix":{"steps":["Remove .claude/hooks/analyze-user-request.sh or move to archive."],"verification":["Search for references to analyze-user-request.sh (should be none)."]},"acceptance_tests":["Verify fix applied correctly"]}
{"category":"process","title":"Multiple TypeScript scripts in scripts/ are not wired to any npm script","fingerprint":"standalone-scripts::scripts/*.ts::unreachable-ts-scripts","severity":"S2","effort":"E1","confidence":88,"files":["package.json","scripts/seed-real-data.ts","scripts/enrich-addresses.ts","scripts/migrate-addresses.ts","scripts/seed-sober-living-data.ts"],"line":1,"why_it_matters":"14 .ts scripts in scripts/ but no npm script invokes them and there is no visible TS execution path (tsx, ts-node, or build step). Dead code risk and ambiguity about supported golden path for data ops/migrations.","evidence":["scripts/ contains TS scripts: seed-real-data.ts, enrich-addresses.ts, migrate-addresses.ts, seed-sober-living-data.ts (14 total)","package.json scripts are all node scripts/*.js, none reference TS files"],"suggested_fix":{"steps":["Decide which TS scripts are needed and archive the rest.","If TS scripts should be supported: add tsx runner and wire npm scripts.","If legacy: convert to .js (ESM) or remove."],"verification":["npm run --list confirms all operational scripts are reachable."]},"acceptance_tests":["Verify fix applied correctly"]}
{"category":"process","title":"MCP server configuration sources are fragmented (.mcp.json vs .claude templates)","fingerprint":"mcp::.mcp.json::.claude-mcp-templates::config-source-ambiguity","severity":"S2","effort":"E1","confidence":85,"files":[".mcp.json",".claude/mcp.global-template.json",".claude/settings.json",".claude/hooks/check-mcp-servers.js"],"line":33,"why_it_matters":"Claude SessionStart checks .mcp.json for MCP server availability, but the repo also contains .claude/mcp.global-template.json and multiple template/global settings files. Without a single canonical config location, teams risk editing the wrong file.","evidence":[".claude/hooks/check-mcp-servers.js:33-36 checks .mcp.json",".claude/settings.json includes MCP toggles","Repo contains .mcp.json, .mcp.json.example, .claude/mcp.global-template.json"],"suggested_fix":{"steps":["Declare one canonical MCP config file (likely .mcp.json) and demote templates.","Document the config lifecycle in docs/guides/mcp.md."],"verification":["Run check-mcp-servers.js and confirm it matches documented config path."]},"acceptance_tests":["Verify fix applied correctly"]}
{"category":"process","title":"Husky pre-commit uses npx --no-install lint-staged, which can skip formatting in fresh environments","fingerprint":"husky::.husky/pre-commit::npx-no-install-friction","severity":"S3","effort":"E0","confidence":80,"files":[".husky/pre-commit"],"line":22,"why_it_matters":"The pre-commit hook uses npx --no-install lint-staged (good for supply-chain safety), but will skip when devDependencies aren't installed. Should be documented as part of golden-path setup.","evidence":[".husky/pre-commit:20-35 shows npx --no-install lint-staged with fallback warning"],"suggested_fix":{"steps":["In DEVELOPMENT.md setup, add note that lint-staged runs only after npm ci.","Optionally add npm run setup bootstrap script."],"verification":["Fresh clone: npm ci then commit confirms lint-staged runs."]},"acceptance_tests":["Verify fix applied correctly"]}
{"category":"process","title":"Potential duplication/overlap across documentation-related workflows and scripts","fingerprint":"ci-cd::docs-automation::potential-redundant-docs-gates","severity":"S3","effort":"E1","confidence":40,"files":[".github/workflows/docs-lint.yml",".github/workflows/ci.yml","package.json"],"line":1,"why_it_matters":"SUSPECTED: Multiple doc gates across CI (docs-lint workflow + CI job's docs:check). Unclear whether layered intentionally or redundant.","evidence":["Multiple doc-related commands: npm run docs:check in ci.yml and dedicated docs-lint.yml workflow"],"suggested_fix":{"steps":["Measure CI durations for docs-only PRs and confirm whether both provide distinct value.","If redundant, consolidate into one workflow."],"verification":["Compare CI runs on docs-only PRs before/after changes."]},"acceptance_tests":["Verify fix applied correctly"]}