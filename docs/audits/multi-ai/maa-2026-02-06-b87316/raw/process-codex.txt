CAPABILITIES: browse_files=yes, run_commands=yes, repo_checkout=yes, limitations="Audit is based on repo contents and local command outputs; no external services were queried."

FINDINGS_JSONL
{"category":"process","title":"Shell hook wrappers appear unused by Claude settings","fingerprint":"hooks::settings.json::unused-shell-wrappers","severity":"S3","effort":"E1","confidence":55,"files":[".claude/settings.json",".claude/hooks/analyze-user-request.sh"],"line":239,"description":"Claude hook configuration invokes JavaScript hooks but shell wrapper variants remain; if the CLI no longer references the .sh wrappers, this is redundant and can drift. Standard reference: .claude/HOOKS.md describes the JS hooks as the primary entry points.","evidence":[""command": "node .claude/hooks/analyze-user-request.js $ARGUMENTS"\n"statusMessage": "Checking PRE-TASK triggers..."",""#!/bin/bash"\n"# analyze-user-request.sh - UserPromptSubmit hook for routing user requests""],"remediation":{"steps":["Confirm whether any environments still call the .sh wrappers.","If unused, remove the .sh wrappers or mark them as deprecated in HOOKS.md."],"verification":["rg -n "\.sh" .claude/settings.json","rg -n "analyze-user-request.sh" .claude/hooks"]}}
{"category":"process","title":"Audit S0/S1 validator missing on Edit/MultiEdit hooks","fingerprint":"hooks::settings.json::audit-validator-missing-on-edit","severity":"S2","effort":"E1","confidence":75,"files":[".claude/settings.json"],"line":35,"description":"The PostToolUse hook config runs audit-s0s1-validator.js only for Write events, so editing audit JSONL files can bypass S0/S1 validation. Standard reference: .claude/HOOKS.md expects hooks to enforce intended checks consistently.","evidence":[""command": "node .claude/hooks/audit-s0s1-validator.js $ARGUMENTS"\n"statusMessage": "Checking audit S0/S1 compliance..."",""command": "node .claude/hooks/check-edit-requirements.js $ARGUMENTS"\n"statusMessage": "Checking agent requirements...""],"remediation":{"steps":["Add audit-s0s1-validator.js to the Edit and MultiEdit PostToolUse hook lists.","Optionally scope it to docs/audits/**/.jsonl to reduce unnecessary runs."],"verification":["Edit an audit JSONL file and confirm the validator runs","Reload Claude Code and verify hooks are active"]}}
{"category":"process","title":"lint-staged only runs Prettier (no ESLint auto-fix)","fingerprint":"lint-staged::package.json::prettier-only","severity":"S3","effort":"E1","confidence":70,"files":["package.json"],"line":72,"description":"lint-staged is configured to run only Prettier, leaving ESLint auto-fixable issues unresolved during pre-commit. Standard reference: DEVELOPMENT.md expects ESLint checks in the workflow.","evidence":[""lint-staged": {\n ".{js,jsx,ts,tsx,json,css,md}": "prettier --write"\n}"],"remediation":{"steps":["Extend lint-staged to run eslint --fix on JS/TS files before Prettier.","Keep Prettier for non-code files (json/css/md) to avoid conflicts."],"verification":["npx --no-install lint-staged --debug","Commit a staged JS file with an auto-fixable ESLint issue and confirm it is fixed"]}}
{"category":"process","title":"Pre-commit skips lint-staged when node_modules missing","fingerprint":"husky::pre-commit::lint-staged-skipped","severity":"S3","effort":"E0","confidence":80,"files":[".husky/pre-commit"],"line":18,"description":"The pre-commit hook skips lint-staged when the devDependency is not installed, so auto-formatting does not run on fresh clones without node_modules. Standard reference: DEVELOPMENT.md onboarding should ensure tooling runs consistently.","evidence":[""if npm list lint-staged --depth=0 > /dev/null 2>&1; then"\n" if ! npx --no-install lint-staged; then"\n" ..."\n"else"\n" echo \" ⚠️ lint-staged not installed - run 'npm ci' to enable auto-formatting\"""],"remediation":{"steps":["Document a one-time bootstrap command (npm ci) in DEVELOPMENT.md/CONTRIBUTING.","Optionally fall back to npm exec lint-staged when node_modules are absent but npm is available."],"verification":["Clone repo without node_modules and run a commit to verify lint-staged behavior","Install deps and verify lint-staged runs consistently"]}}
{"category":"process","title":"MCP servers are defined only in template config","fingerprint":"mcp::config::missing-mcp-json","severity":"S3","effort":"E1","confidence":65,"files":[".claude/hooks/check-mcp-servers.js","mcp.json.example"],"line":33,"description":"The SessionStart MCP availability check requires .mcp.json, but the repo only ships mcp.json.example. Without a real .mcp.json, MCP inventory will report no servers configured. Standard reference: MCP configuration is expected in the configured server list.","evidence":[""const mcpConfigPath = path.join(projectDir, \".mcp.json\");"\n"if (!fs.existsSync(mcpConfigPath)) {"\n" console.log(\"No MCP servers configured\");"",""mcpServers": {\n "ccusage": {\n "command": "bunx"\n }\n}"],"remediation":{"steps":["Document setup steps to copy mcp.json.example to .mcp.json and fill secrets.","Optionally add a non-secret template path in settings or allow using the example in non-secret contexts."],"verification":["Create .mcp.json and confirm SessionStart reports available MCP servers","Run node .claude/hooks/check-mcp-servers.js manually"]}}

SUSPECTED_FINDINGS_JSONL
{"category":"process","title":"No suspected findings","fingerprint":"meta::suspected::none","severity":"S0","effort":"E0","confidence":0,"files":[],"line":0,"description":"No suspected findings identified in this audit.","evidence":[],"remediation":{"steps":[],"verification":[]}}

HUMAN_SUMMARY

Automation health overview
The automation stack is comprehensive across hooks, scripts, CI/CD, and Firebase, with targeted gaps in consistency (audit validator only on Write), tooling coverage (lint-staged limited to Prettier), and MCP configuration (template-only).

Key statistics (16 types assessed)
Hooks: 32 entries plus 2 global hooks; Skills: 55; npm scripts: 65; Workflows: 10; Firebase function files: 8; Scheduled jobs: 7; MCP template servers: 9.

Critical issues requiring immediate attention
None identified; priority starts at P2 for hook consistency improvements.

Top 5 automation improvements
Add audit-s0s1-validator to Edit/MultiEdit hooks.
Expand lint-staged to include eslint --fix for JS/TS.
Document lint-staged bootstrap fallback for fresh clones.
Document MCP setup or allow template usage in non-secret contexts.
Confirm .sh wrapper usage and deprecate if unused.

Coverage gaps to address
Audit validation is only wired for Write hooks, not Edit/MultiEdit.
lint-staged is Prettier-only and can be skipped if dependencies are missing.
MCP configuration is present only as a template, so availability checks report none configured by default.
