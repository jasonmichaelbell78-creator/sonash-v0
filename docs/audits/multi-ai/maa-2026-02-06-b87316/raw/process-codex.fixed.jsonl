{"category":"process","title":"Shell hook wrappers appear unused by Claude settings","fingerprint":"process::hooks::unused-shell-wrappers","severity":"S3","effort":"E1","confidence":55,"files":[".claude/settings.json",".claude/hooks/analyze-user-request.sh"],"line":239,"why_it_matters":"Claude hook configuration invokes JavaScript hooks but shell wrapper variants remain; if the CLI no longer references the .sh wrappers, this is redundant and can drift.","evidence":["settings.json wires analyze-user-request.js, not .sh","analyze-user-request.sh still exists in .claude/hooks/"],"suggested_fix":{"steps":["Confirm whether any environments still call the .sh wrappers.","If unused, remove the .sh wrappers or mark them as deprecated in HOOKS.md."],"verification":["rg -n '.sh' .claude/settings.json"]},"acceptance_tests":["Verify fix applied correctly"]}
{"category":"process","title":"Audit S0/S1 validator missing on Edit/MultiEdit hooks","fingerprint":"process::settings.json::audit-validator-missing-on-edit","severity":"S2","effort":"E1","confidence":75,"files":[".claude/settings.json"],"line":35,"why_it_matters":"The PostToolUse hook config runs audit-s0s1-validator.js only for Write events, so editing audit JSONL files can bypass S0/S1 validation.","evidence":["audit-s0s1-validator.js present in Write hooks","audit-s0s1-validator.js absent from Edit and MultiEdit hooks"],"suggested_fix":{"steps":["Add audit-s0s1-validator.js to the Edit and MultiEdit PostToolUse hook lists.","Optionally scope it to docs/audits/**/.jsonl to reduce unnecessary runs."],"verification":["Edit an audit JSONL file and confirm the validator runs"]},"acceptance_tests":["Verify fix applied correctly"]}
{"category":"process","title":"lint-staged only runs Prettier (no ESLint auto-fix)","fingerprint":"process::package.json::lint-staged-prettier-only","severity":"S3","effort":"E1","confidence":70,"files":["package.json"],"line":72,"why_it_matters":"lint-staged is configured to run only Prettier, leaving ESLint auto-fixable issues unresolved during pre-commit.","evidence":["lint-staged config: '.{js,jsx,ts,tsx,json,css,md}': 'prettier --write'"],"suggested_fix":{"steps":["Extend lint-staged to run eslint --fix on JS/TS files before Prettier.","Keep Prettier for non-code files (json/css/md) to avoid conflicts."],"verification":["npx --no-install lint-staged --debug"]},"acceptance_tests":["Verify fix applied correctly"]}
{"category":"process","title":"Pre-commit skips lint-staged when node_modules missing","fingerprint":"process::pre-commit::lint-staged-skipped","severity":"S3","effort":"E0","confidence":80,"files":[".husky/pre-commit"],"line":18,"why_it_matters":"The pre-commit hook skips lint-staged when the devDependency is not installed, so auto-formatting does not run on fresh clones without node_modules.","evidence":["pre-commit checks npm list lint-staged and skips if not found","Prints warning but does not block commit"],"suggested_fix":{"steps":["Document a one-time bootstrap command (npm ci) in DEVELOPMENT.md/CONTRIBUTING.","Optionally fall back to npm exec lint-staged when node_modules are absent."],"verification":["Clone repo without node_modules and run a commit to verify"]},"acceptance_tests":["Verify fix applied correctly"]}
{"category":"process","title":"MCP servers are defined only in template config","fingerprint":"process::mcp::missing-mcp-json","severity":"S3","effort":"E1","confidence":65,"files":[".claude/hooks/check-mcp-servers.js","mcp.json.example"],"line":33,"why_it_matters":"The SessionStart MCP availability check requires .mcp.json, but the repo only ships mcp.json.example. Without a real .mcp.json, MCP inventory will report no servers configured.","evidence":["check-mcp-servers.js looks for .mcp.json","Only mcp.json.example exists in repo"],"suggested_fix":{"steps":["Document setup steps to copy mcp.json.example to .mcp.json and fill secrets."],"verification":["Create .mcp.json and confirm SessionStart reports available MCP servers"]},"acceptance_tests":["Verify fix applied correctly"]}