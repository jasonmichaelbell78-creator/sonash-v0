{"category":"GoldenPath","title":".env.example missing for onboarding","fingerprint":"engineering-productivity::.env.example::missing-env-template","severity":"S2","effort":"E1","confidence":85,"files":[".env.example","DEVELOPMENT.md"],"why_it_matters":"New contributors must manually copy env vars from docs into .env.local, which is error-prone and slows onboarding.","suggested_fix":"Add a root .env.example that mirrors the required variables in DEVELOPMENT.md (with safe placeholder values).","acceptance_tests":["Verify .env.example exists in repo root","Compare .env.example keys to DEVELOPMENT.md env list"],"evidence":["No .env.example"],"line":1}
{"category":"Debugging","title":"Debug console.log statements left in Today page","fingerprint":"engineering-productivity::components/notebook/pages/today-page.tsx::debug-console-log","severity":"S2","effort":"E1","confidence":90,"files":["components/notebook/pages/today-page.tsx"],"why_it_matters":"Ad-hoc console logging makes debugging noisy and inconsistent with structured logging, slowing down troubleshooting and signal-to-noise.","suggested_fix":"Replace console.log/console.error blocks with logger.* calls (or remove debug-only logs) and keep a consistent structured payload.","acceptance_tests":["rg -n 'console.log' components/notebook/pages/today-page.tsx returns 0","Logger emits expected context fields for save/debug paths"],"evidence":["if (process.env.NODE_ENV === 'development') { console.log('Attempting to save:', saveData); }"],"line":612}
{"category":"Debugging","title":"Logger payload lacks correlation/request IDs","fingerprint":"engineering-productivity::lib/logger.ts::missing-correlation-id","severity":"S2","effort":"E2","confidence":70,"files":["lib/logger.ts"],"why_it_matters":"Without correlation IDs, it is harder to trace requests across client/server and link logs to specific user actions.","suggested_fix":"Add a correlationId field to the logger payload, generate per request/session, and propagate via context helpers.","acceptance_tests":["Logger payload includes correlationId when provided in context","Spot-check log entries for correlationId presence"],"evidence":["const payload: Record<string, unknown> = { level, message, timestamp, environment, ...(context ? { context: sanitizeContext(context) } : {}) };"],"line":99}
{"category":"Offline","title":"Firestore IndexedDB persistence not enabled","fingerprint":"engineering-productivity::lib/firebase.ts::missing-indexeddb-persistence","severity":"S2","effort":"E1","confidence":75,"files":["lib/firebase.ts"],"why_it_matters":"Without IndexedDB persistence, users lose offline reads/writes and devs cannot easily test offline scenarios.","suggested_fix":"Enable enableIndexedDbPersistence (or enableMultiTabIndexedDbPersistence) during client-side Firebase initialization with proper error handling.","acceptance_tests":["enableIndexedDbPersistence is called during client init","Offline reads/writes are retained across reloads in dev"],"evidence":["_db = getFirestore(_app);"],"line":54}
{"category":"Offline","title":"No service worker for offline shell","fingerprint":"engineering-productivity::public/sw.js::missing-service-worker","severity":"S2","effort":"E2","confidence":80,"files":["public/sw.js","public/manifest.json"],"why_it_matters":"PWA install UX exists, but without a service worker the app shell and assets cannot be cached for true offline behavior.","suggested_fix":"Add a service worker (e.g., via next-pwa or custom sw.js) and register it from the client.","acceptance_tests":["public/sw.js exists and is registered in the client","Offline reload loads cached shell/assets"],"evidence":["No service worker"],"line":1}
{"category":"Testing","title":"Playwright dependency present but no e2e script","fingerprint":"engineering-productivity::package.json::missing-e2e-script","severity":"S3","effort":"E1","confidence":65,"files":["package.json"],"why_it_matters":"Having @playwright/test installed without a runnable script leads to confusion and inconsistent e2e execution.","suggested_fix":"Add an npm script (e.g., 'test:e2e': 'playwright test') and document where e2e tests live.","acceptance_tests":["npm run test:e2e executes Playwright successfully"],"evidence":["@playwright/test: ^1.58.1 is present in devDependencies, but no e2e script exists in scripts"],"line":5}