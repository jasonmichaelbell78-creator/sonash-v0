<!-- prettier-ignore-start -->
**Document Version:** 1.0
**Last Updated:** 2026-02-22
**Status:** ACTIVE
<!-- prettier-ignore-end -->

# Audit vs MASTER_DEBT Deduplication Report

<!-- prettier-ignore-start -->
**Report Date:** 2026-02-22
**Source:** COMPREHENSIVE_AUDIT_REPORT.md (115 findings: COMP-001 to COMP-115)
**Against:** docs/technical-debt/MASTER_DEBT.jsonl (4,503 entries, DEBT-0001 to DEBT-7377)
**Method:** Keyword search across title + description + file + recommendation fields; manual verification of top hits
<!-- prettier-ignore-end -->

---

## Already Tracked (skip intake)

These COMP findings map confidently to one or more open DEBT entries with the
same root cause, file, and fix.

| COMP ID  | Matching DEBT ID(s)                                                         | DEBT Title (truncated)                                                         | DEBT Status      | Notes                                                                                                                                                                                                                                                                   |
| -------- | --------------------------------------------------------------------------- | ------------------------------------------------------------------------------ | ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| COMP-001 | DEBT-0052, DEBT-0069, DEBT-0855, DEBT-0864, DEBT-3213                       | App Check disabled on Cloud Functions / client init disabled                   | VERIFIED (S0/S1) | 60 total DEBT matches; best canonical: DEBT-0853 (S0, "App Check disabled on all production Cloud Functions"), DEBT-0864 (S0, "Re-enable App Check"), DEBT-3213 (S1, exact match on `requireAppCheck`). Multiple S0 entries exist â€” issue is definitively tracked.      |
| COMP-002 | DEBT-1387                                                                   | Contradiction: Security rules enforcement for direct writes                    | VERIFIED (S1)    | DEBT-1387 captures the rules-vs-ARCHITECTURE.md discrepancy. Also DEBT-1444 (ARCHITECTURE.md outdated). Specific "if false" rules mismatch is partially covered; DEBT-1387 is the closest match.                                                                        |
| COMP-003 | DEBT-0055, DEBT-0063, DEBT-0092, DEBT-0094, DEBT-3158, DEBT-3664, DEBT-3665 | TodayPage god component; re-subscribes; auto-save race condition               | VERIFIED (S1)    | 65 total DEBT matches covering every specific sub-issue: god component (DEBT-0055), listener on keystrokes (DEBT-0063, DEBT-3158), race condition (DEBT-3664), memory leak (DEBT-3665), stale referenceDate is unique to COMP-003 â€” see "Possibly Related" table below. |
| COMP-004 | DEBT-0377, DEBT-1303, DEBT-1340, DEBT-3165                                  | Hardcoded fallback reCAPTCHA site key in server verification code              | VERIFIED (S2)    | Direct match: DEBT-0377 is identical (same file `functions/src/recaptcha-verify.ts`, same issue). DEBT-3165 is also a strong match.                                                                                                                                     |
| COMP-005 | DEBT-1321, DEBT-1328                                                        | Firestore security_logs collection missing from security rules                 | VERIFIED (S2/S3) | DEBT-1321: "Firestore security_logs collection missing from security rules" â€” exact match. DEBT-1328 also covers `admin_jobs`.                                                                                                                                          |
| COMP-006 | DEBT-1313                                                                   | Migration function does not verify source anonymous user is actually anonymous | VERIFIED (S2)    | DEBT-1313 is a precise match: same function, same gap (Auth admin check missing), same recommended fix.                                                                                                                                                                 |
| COMP-009 | DEBT-3136, DEBT-2140                                                        | Cloud Functions have zero test coverage                                        | VERIFIED (S1/S2) | DEBT-3136: "Cloud Functions have zero test coverage â€” 5000+ lines of server code untested" is a near-verbatim match.                                                                                                                                                    |
| COMP-010 | DEBT-0058, DEBT-0126                                                        | Missing security scanning in CI (npm audit, CodeQL, Dependabot)                | VERIFIED (S1)    | DEBT-0058 and DEBT-0126 explicitly name Dependabot as the fix.                                                                                                                                                                                                          |
| COMP-011 | DEBT-1879, DEBT-3138, DEBT-2142                                             | CI gap: No test coverage thresholds enforced                                   | VERIFIED (S1/S2) | DEBT-1879 matches exactly: "No test coverage thresholds enforced." DEBT-3138 adds `.c8rc` detail.                                                                                                                                                                       |
| COMP-014 | DEBT-3186, DEBT-3143, DEBT-0810                                             | Image optimization disabled; images.unoptimized: true                          | VERIFIED (S2/S3) | DEBT-3186: "Image optimization disabled â€” no alternative optimization for static export." Direct match to `next.config.mjs:12`.                                                                                                                                         |
| COMP-015 | DEBT-0095, DEBT-0137, DEBT-1347                                             | UsersTab god component (2093 lines, 46 hook calls)                             | VERIFIED (S1)    | DEBT-0137: "Split users-tab.tsx (2,092 lines)" â€” exact match. DEBT-0095 covers the god-component angle.                                                                                                                                                                 |
| COMP-019 | DEBT-0585, DEBT-0765                                                        | 'useAuth' is deprecated â€” used in 14 components                                | VERIFIED (S3)    | Multiple DEBT entries for `useAuth` deprecation across files. Broader tracking of 14-file scope is new context but root cause is tracked.                                                                                                                               |
| COMP-022 | DEBT-1141                                                                   | `aggregate-audit-findings.js` â€” Prefer `Number.parseInt`                       | VERIFIED         | DEBT-1141 hits the file; more structurally, no DEBT entry explicitly covers the god-script decomposition angle â€” see "Possibly Related."                                                                                                                                |
| COMP-023 | DEBT-0397                                                                   | Pre-commit hook runs full test suite causing slow commits (~50s+)              | VERIFIED (S2)    | DEBT-0397 is a direct match: same file, same problem, same recommendation to move to CI.                                                                                                                                                                                |
| COMP-025 | DEBT-0088                                                                   | Missing critical security headers (including CSP)                              | VERIFIED (S1)    | DEBT-0088: "Missing critical security headers: Content-Security-Policy (CSP), X-Frame-Options..." â€” covers COMP-025 precisely.                                                                                                                                          |
| COMP-027 | DEBT-1341, DEBT-3211                                                        | `.env.production` committed to git with Firebase API key and Sentry DSN        | VERIFIED (S1/S2) | DEBT-1341 is an exact match: same file, same secrets, same recommendation to use CI/CD secrets.                                                                                                                                                                         |
| COMP-029 | DEBT-0379                                                                   | Permissive z.record(..., z.unknown()) allows arbitrary nested data             | VERIFIED (S2)    | DEBT-0379: "Permissive z.record(..., z.unknown()) allows arbitrary nested data" â€” same file, same fix.                                                                                                                                                                  |
| COMP-037 | DEBT-3182, DEBT-3202                                                        | Anonymous migration has partial failure risk; non-atomic batch writes          | VERIFIED (S2)    | DEBT-3182 and DEBT-3202 both cover the migration atomicity gap.                                                                                                                                                                                                         |
| COMP-041 | DEBT-0455, DEBT-3187                                                        | getAllMeetings() deprecated and unbounded                                      | VERIFIED (S2)    | DEBT-0455: "getAllMeetings() deprecated but still available without limit" â€” same function, same file.                                                                                                                                                                  |
| COMP-042 | DEBT-0404                                                                   | No React.memo usage causes unnecessary re-renders in list components           | VERIFIED (S2)    | DEBT-0404: specifically names `entry-card.tsx`.                                                                                                                                                                                                                         |
| COMP-044 | DEBT-0402                                                                   | Unbounded quotes fetch; duplicate DailyQuoteCard                               | VERIFIED (S2)    | DEBT-0402 covers unbounded query in `daily-quote-card.tsx`. The `getAllSlogans` angle is partially captured.                                                                                                                                                            |
| COMP-045 | DEBT-0465, DEBT-0870                                                        | No service worker â€” no offline asset caching                                   | VERIFIED (S2)    | DEBT-0465: "No service worker - no offline asset caching" â€” exact match. DEBT-0870 adds security angle.                                                                                                                                                                 |
| COMP-046 | DEBT-0811                                                                   | tj-actions/changed-files without CVE-pinned version in docs-lint.yml           | VERIFIED (S3)    | DEBT-0811: exact file match, CVE-2025-30066 context.                                                                                                                                                                                                                    |
| COMP-047 | DEBT-0444, DEBT-1903                                                        | GitHub Actions using version tags instead of commit SHAs                       | VERIFIED (S2/S3) | DEBT-0444 covers the same supply-chain risk pattern.                                                                                                                                                                                                                    |
| COMP-048 | DEBT-0399                                                                   | Firebase CLI version unpinned in deploy workflow                               | VERIFIED (S2)    | DEBT-0399: "Firebase CLI version unpinned in deploy workflow" â€” exact match.                                                                                                                                                                                            |
| COMP-073 | DEBT-0423                                                                   | Unsafe type assertions with 'as unknown as' (Step1WorksheetCard)               | VERIFIED (S2)    | DEBT-0423: same file, same triple-cast pattern.                                                                                                                                                                                                                         |
| COMP-079 | DEBT-0322, DEBT-0956, DEBT-0966, DEBT-0967                                  | `errors-tab.tsx` nested ternaries, cognitive complexity, accessibility         | VERIFIED (S1/S2) | 18 DEBT entries on `errors-tab.tsx`. The god-file decomposition angle is new; individual code quality issues are tracked.                                                                                                                                               |
| COMP-080 | DEBT-0591, DEBT-0598, DEBT-0605                                             | Bare `window.open()` / `window` access instead of `globalThis`                 | VERIFIED (S2/S3) | 43 DEBT entries. COMP-080 specifically calls out 3 files; all are tracked.                                                                                                                                                                                              |
| COMP-085 | DEBT-0455, DEBT-0610, DEBT-3187                                             | Deprecated `getAllMeetings()` on refresh path (code quality angle)             | VERIFIED (S2/S3) | Same underlying DEBT as COMP-041. COMP-085 is the code-quality view; COMP-041 is the perf view. Both map to the same DEBT entries.                                                                                                                                      |
| COMP-086 | DEBT-0778                                                                   | `parseTime()` meeting helper duplicated in two pages                           | VERIFIED (S3)    | DEBT-0778: "parseTime() meeting helper duplicated in two pages" â€” exact match.                                                                                                                                                                                          |
| COMP-087 | DEBT-0428, DEBT-1359                                                        | Duplicate DailyQuoteCard component in `widgets/`                               | VERIFIED (S2)    | DEBT-0428 and DEBT-1359 both track the duplicate component.                                                                                                                                                                                                             |
| COMP-088 | DEBT-0394                                                                   | FirestoreAdapter exists but is unused                                          | VERIFIED (S2)    | DEBT-0394: "FirestoreAdapter exists but is unused" â€” exact match.                                                                                                                                                                                                       |
| COMP-091 | DEBT-0140, DEBT-0152, DEBT-4231                                             | `parseInt()` instead of `Number.parseInt()`                                    | VERIFIED (S2)    | 56 DEBT entries. COMP-091 specifically mentions `app/meetings/all/page.tsx:222`; DEBT-0140 and DEBT-4231 cover that file exactly.                                                                                                                                       |
| COMP-097 | DEBT-1331                                                                   | Service account credentials written to disk in CI deploy workflow              | VERIFIED (S3)    | DEBT-1331: "Service account credentials written to filesystem" â€” same concern for local dev key file on disk.                                                                                                                                                           |
| COMP-101 | DEBT-1941                                                                   | CI slow: Redundant npm ci in build job                                         | VERIFIED (S2)    | DEBT-1941: "CI slow: Redundant npm ci in build job" â€” exact match.                                                                                                                                                                                                      |
| COMP-102 | DEBT-2538                                                                   | State JSONL files growing without bounds                                       | VERIFIED (S2)    | DEBT-2538 covers the unbounded log growth pattern. COMP-102 is specifically `.git/hook-output.log`; DEBT-2538 is `.claude/state/reviews.jsonl` â€” same root cause, different file. See "Possibly Related."                                                               |
| COMP-104 | DEBT-1902                                                                   | CI gap: Sync README uses `--no-verify` bypassing hooks                         | VERIFIED (S3)    | DEBT-1902: exact file and issue match.                                                                                                                                                                                                                                  |
| COMP-114 | DEBT-3195                                                                   | PWA manifest icon sizes mismatch                                               | VERIFIED (S3)    | DEBT-3195: "PWA manifest icon sizes mismatch â€” declares 192x192/512x512 but files are JPEG." Exact match to COMP-114.                                                                                                                                                   |
| COMP-115 | DEBT-3143, DEBT-1330, DEBT-3186                                             | `output: "export"` blocks SSR + image optimization                             | VERIFIED (S3)    | DEBT-3143 and DEBT-3186 both track the same `next.config.mjs` tradeoff.                                                                                                                                                                                                 |

---

## New Findings (proceed to intake)

These COMP findings have no existing DEBT entry that covers the same issue. They
are genuinely new and should go through the normal intake pipeline.

| COMP ID  | Severity | File(s)                                                    | Description                                                                                                                                                                                                                                                                                                                                                       |
| -------- | -------- | ---------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------- |
| COMP-007 | S1       | `components/notebook/pages/support-page.tsx`               | Support circle contacts are hardcoded demo data; Call/Text/Directions buttons have no onClick handlers. DEBT entries for the file are superficial SonarCloud noise (array-index keys, `new Array()`), not the functional bug.                                                                                                                                     |
| COMP-008 | S1       | `settings-page.tsx`, `onboarding-wizard.tsx:419`           | Onboarding promises "export or delete your data anytime from Settings" â€” neither feature exists. GDPR/CCPA risk. Only DEBT entries are generic GDPR labels with no file/detail.                                                                                                                                                                                   |
| COMP-012 | S1       | `components/notebook/tab-navigation.tsx`                   | Tab ribbon has no `role="tablist"`, no `aria-selected`, no keyboard accessibility. Existing DEBT entries are SonarCloud noise (read-only props, unused vars) â€” none capture the missing ARIA roles.                                                                                                                                                               |
| COMP-013 | S1       | `today-page.tsx`, `library-page.tsx`                       | No crisis/SOS emergency button in a recovery app â€” crisis resources buried 3 taps deep. No DEBT entry covers this feature gap.                                                                                                                                                                                                                                    |
| COMP-017 | S1       | `playwright.config.ts` (missing)                           | Playwright installed as devDependency but zero config, zero test files, zero npm scripts for E2E. DEBT-2141 mentions "no visual regression testing" but the full E2E gap is not captured.                                                                                                                                                                         |
| COMP-018 | S1       | `.github/workflows/deploy-firebase.yml`                    | Deploy workflow has no `needs:` dependency on CI â€” can deploy before tests pass. DEBT-2098 covers "no success validation" post-deploy; COMP-018 is about the `needs:` guard being absent pre-deploy. Different issue.                                                                                                                                             |
| COMP-020 | S1       | `.claude/hooks/session-start.js`                           | 7 blocking synchronous subprocess calls at session start cause 3â€“8 min cold start. DEBT-1938 mentions "2-5s latency" for hooks in general; COMP-020 specifically audits the 7 specific calls and their async parallelization fix.                                                                                                                                 |
| COMP-021 | S1       | `.claude/skills/`                                          | 8 skills exceed 500 lines; 9 audit skills with unclear differentiation. DEBT entries for skill files are broken-link findings in SKILL.md, not the oversized/redundant skill structural problem.                                                                                                                                                                  |
| COMP-024 | S2       | `ARCHITECTURE.md:479`                                      | Cloud Functions structure in ARCHITECTURE.md shows non-existent `journal/`, `admin/`, `utils/` subdirectories â€” actual structure is flat 8-file directory. No DEBT entry captures this specific inaccuracy.                                                                                                                                                       |
| COMP-026 | S2       | `package.json`, test pipeline                              | Test pipeline requires 3 compilation steps (tsc + tsc-alias + node --test), 10â€“20s overhead; inconsistent with pattern tests using Vitest. DEBT-1931 covers "test rebuilds TypeScript" but not the Vitest migration fix.                                                                                                                                          |
| COMP-028 | S2       | `components/settings/settings-page.tsx`                    | "Large Text" preference saves to Firestore but is never read by any component â€” dead setting. No DEBT entry found.                                                                                                                                                                                                                                                |
| COMP-030 | S2       | `README.md:111,273`                                        | Test count "89/91 passing" is stale â€” actual is 293/294. No DEBT entry matches (broad searches for "89/91" and "readme stale count" returned false positives).                                                                                                                                                                                                    |
| COMP-031 | S2       | `README.md:117`                                            | Agent/skill counts wrong: "24 agents / 23 skills" vs actual 25/59. No DEBT entry matches.                                                                                                                                                                                                                                                                         |
| COMP-032 | S2       | `README.md:239`                                            | Growth tab marked "Planned/feature-flagged" but fully implemented. No DEBT entry matches.                                                                                                                                                                                                                                                                         |
| COMP-033 | S2       | `DEVELOPMENT.md:169`                                       | `lib/` structure shows only 3 entries â€” missing `contexts/`, `db/`, `hooks/`, `types/`, `utils/`. DEBT-1787 is about missing TOC; not about the wrong lib/ structure listing.                                                                                                                                                                                     |
| COMP-034 | S2       | `claude.md`, `CLAUDE.md`                                   | Duplicate files â€” `claude.md` is byte-for-byte copy of `CLAUDE.md`, wasting ~1,600 tokens/session. DEBT-1411 (RESOLVED) covers a different `claude.md` reference in CODE_PATTERNS.md; the duplicate-file issue itself is not tracked as open.                                                                                                                     |
| COMP-035 | S2       | `docs/DOCUMENTATION_STANDARDS.md:178`                      | References non-existent `MULTI_AI_REVIEW_COORDINATOR.md`. DEBT entries for broken links don't specifically name this file.                                                                                                                                                                                                                                        |
| COMP-036 | S2       | `ROADMAP.md:6`                                             | `Last Updated: Session #151` â€” 29+ sessions stale; uses session number not date. DEBT-1438 covers COMMAND_REFERENCE.md version format inconsistency, not ROADMAP.md's session-numbered Last Updated.                                                                                                                                                              |
| COMP-038 | S2       | `lib/firebase.ts`, 36 files                                | framer-motion imported directly in 36 non-lazy client components (~130 KB gzipped loaded eagerly). DEBT-0452 (RESOLVED) was about bundle size but covered a different chunk. No open DEBT tracks the framer-motion eager-load specifically.                                                                                                                       |
| COMP-039 | S2       | `app/layout.tsx`                                           | `wood-table.jpg` not preloaded via `<link rel="preload">` â€” browser can't prioritize LCP image. DEBT-3867 (NEW) is a match â€” intake may already be in progress, verify before re-intaking.                                                                                                                                                                        |
| COMP-040 | S2       | `public/images/`                                           | 3 PNG images: 2.0 MB, 2.2 MB, 2.8 MB served uncompressed. DEBT-3140 covers total bundle size (15.5 MB, 8.2 MB from images) but does not prescribe the WebP conversion fix specifically.                                                                                                                                                                           |
| COMP-043 | S2       | `components/notebook/visualizations/mood-sparkline.tsx:16` | MoodSparkline fires a separate 30-doc Firestore read on every Today page visit. Only DEBT-0372 (array-index keys) hits the file â€” no entry for the redundant read issue.                                                                                                                                                                                          |
| COMP-049 | S2       | `.github/workflows/deploy-firebase.yml`                    | Preview deploy channel commented out â€” no PR-level staging environment. DEBT-1891 ("preview and production use different env var sources") is related but distinct.                                                                                                                                                                                               |
| COMP-050 | S2       | ESLint config                                              | 181 ESLint warning baseline â€” warning noise masks real issues. DEBT-0781 and DEBT-1866 cover pattern-check false-positives and the pattern hook not blocking, not the ESLint warning count itself.                                                                                                                                                                |
| COMP-051 | S2       | `.claude/settings.json`                                    | PostToolUse hooks fire on every Read/Write/Edit/Bash â€” estimated 18s/session cumulative overhead. DEBT-1938 mentions session hook latency generally; COMP-051 identifies specific hooks and merging/caching fixes. Partially overlaps but specific enough to warrant intake.                                                                                      |
| COMP-052 | S2       | `package.json` dev script                                  | Dev server uses webpack by default â€” no Turbopack flag on a large TypeScript project. No DEBT entry found (DEBT-3144 covers a Next.js build warning, not Turbopack). Note: identical fix to COMP-106; treat as one intake item.                                                                                                                                   |
| COMP-053 | S2       | `AI_WORKFLOW.md`, `SESSION_CONTEXT.md`                     | AI_WORKFLOW.md (874 lines / ~7,600 tokens) mandated reading every session. DEBT-1804 is about a diagram opportunity in AI_WORKFLOW.md; no DEBT covers the mandatory-read token overhead or the split-into-quick-start fix.                                                                                                                                        |
| COMP-054 | S2       | `.claude/state/`, `.claude/tmp/`                           | 76 KB `agent-research-results.md` with no rotation; 283 KB stale audit JSON in `.claude/tmp/`; stale `in_progress` multi-ai-audit session state. DEBT-2538 covers state JSONL files growing without bounds; no DEBT covers the `agent-research-results.md` cap or `.claude/tmp/` cleanup specifically.                                                            |
| COMP-055 | S2       | `.claude/settings.local.json`                              | 250+ permission entries including multi-line commit messages â€” unreadable and unauditable. DEBT-2256â€“2259 cover specific MCP-related stale permissions, not the overall 250+ entry bloat problem.                                                                                                                                                                 |
| COMP-056 | S2       | 8 admin tab files                                          | `getFunctions()` + `httpsCallable` pattern repeated 28 times across admin layer. No DEBT entry found for this specific refactoring.                                                                                                                                                                                                                               |
| COMP-057 | S2       | `links-tab.tsx`, `prayers-tab.tsx`                         | ~90% code duplication between two CRUD tab files. No DEBT entry found.                                                                                                                                                                                                                                                                                            |
| COMP-058 | S2       | Multiple admin components                                  | `window.confirm()` used for 10 destructive actions â€” non-styleable, blocks UI thread. DEBT-2164 ("Confirmation dialogs lack specific consequences") is related but covers copy quality, not the `window.confirm()` â†’ dialog component replacement.                                                                                                                |
| COMP-059 | S2       | `components/auth/sign-in-modal.tsx`                        | Modal lacks `role="dialog"`, `aria-modal`, focus trap. DEBT-3183 covers reCAPTCHA protection missing on sign-in; no DEBT covers the ARIA/focus-trap accessibility gap.                                                                                                                                                                                            |
| COMP-060 | S2       | `components/settings/settings-page.tsx`                    | No data export or account deletion (duplicate angle to COMP-008 for intake purposes â€” treat as one intake item).                                                                                                                                                                                                                                                  |
| COMP-061 | S2       | `app/layout.tsx`                                           | No `<noscript>` fallback â€” JavaScript-disabled users see blank page. No DEBT entry found.                                                                                                                                                                                                                                                                         |
| COMP-062 | S2       | `mood-sparkline.tsx`                                       | Only 7-day mood sparkline â€” no 30/90-day history visualization. No DEBT entry found.                                                                                                                                                                                                                                                                              |
| COMP-063 | S2       | `notebook-shell.tsx:200`                                   | Fixed notebook width 340px/800px breaks at 428â€“767px viewport range. No DEBT entry found.                                                                                                                                                                                                                                                                         |
| COMP-064 | S2       | `today-page.tsx:877`                                       | "Tap to set clean date" has `cursor-pointer` but no `onClick` handler. No DEBT entry found.                                                                                                                                                                                                                                                                       |
| COMP-065 | S2       | `resources-page.tsx:497`                                   | Share meeting button toasts "Link copied!" but never calls `navigator.clipboard.writeText()`. No DEBT entry found.                                                                                                                                                                                                                                                |
| COMP-066 | S2       | `sign-in-modal.tsx`                                        | No "Forgot password?" flow â€” email users have no recovery path. No DEBT entry found.                                                                                                                                                                                                                                                                              |
| COMP-067 | S2       | Color scheme (amber-on-amber)                              | WCAG 2.1 AA contrast unverified â€” `text-amber-900/60` on `bg-amber-50` may fail 4.5:1 ratio. No DEBT entry found (COMP-067 false match to migration reCAPTCHA entry).                                                                                                                                                                                             |
| COMP-068 | S2       | `app/layout.tsx`                                           | No skip-to-content link â€” keyboard users must tab through entire nav on every page. DEBT-1894/DEBT-2104 cover CI doc-lint skipping archive files; no DEBT covers skip-to-content.                                                                                                                                                                                 |
| COMP-069 | S2       | `growth-page.tsx:88`                                       | Step 4 Inventory and Step 8 List buttons are `motion.button` elements with no `onClick`. No DEBT entry found.                                                                                                                                                                                                                                                     |
| COMP-070 | S2       | `history-page.tsx:131`                                     | History tab hard-limited to 7 days; older entries invisible. No DEBT entry found (COMP-070 false match to session history doc).                                                                                                                                                                                                                                   |
| COMP-071 | S2       | `.claude/agents/global/gsd-*.md`                           | `gsd-planner.md` (1,476 lines), `gsd-debugger.md` (1,300 lines) â€” ~125,000 tokens per 4-agent wave. No DEBT entry found.                                                                                                                                                                                                                                          |
| COMP-072 | S2       | `.claude/agents/security-engineer.md` (985 lines)          | Contains Terraform/HCL examples irrelevant to Firebase project â€” inflates invocations by ~20,000 tokens. No DEBT entry found.                                                                                                                                                                                                                                     |
| COMP-074 | S2       | `functions/src/security-logger.ts:371`                     | `VALIDATION_FAILURE` severity mapped to INFO â€” not persisted to Firestore; attack probing invisible. No DEBT entry found.                                                                                                                                                                                                                                         |
| COMP-075 | S2       | `notebook-shell.tsx`                                       | `NotebookShell` SVG data URL recomputed every render. DEBT-3188 covers inline SVG data URIs in `book-cover.tsx`; no DEBT covers the `notebook-shell.tsx` / `NotebookShell` case.                                                                                                                                                                                  |
| COMP-076 | S2       | `onboarding-wizard.tsx:187`                                | Onboarding progress dots are `<div>` elements with no accessible labels. No DEBT entry found.                                                                                                                                                                                                                                                                     |
| COMP-077 | S2       | `package.json` version: "0.1.0"                            | No CHANGELOG, no versioning strategy, no release tagging. DEBT-2029 is about commit message validation hook â€” not the same.                                                                                                                                                                                                                                       |
| COMP-078 | S2       | `Step1WorksheetCard.tsx:124â€“480`                           | 356-line `FORM_SECTIONS` config embedded in component file. DEBT-0459 covers the large component; no DEBT specifically covers extracting the config to a separate file.                                                                                                                                                                                           |
| COMP-081 | S3       | `app/layout.tsx:66`                                        | Stale `// ... existing metadata ...` comment â€” code-generation artifact. No DEBT entry found.                                                                                                                                                                                                                                                                     |
| COMP-082 | S3       | `today-page.tsx:332`                                       | `_checkInSteps` computed via `useMemo` but never consumed. No DEBT entry found.                                                                                                                                                                                                                                                                                   |
| COMP-083 | S3       | `components/journal/entry-wizard.tsx:1`                    | Missing `"use client"` directive. No DEBT entry found.                                                                                                                                                                                                                                                                                                            |
| COMP-084 | S3       | `components/widgets/meeting-countdown.tsx`                 | Dead code â€” superseded by `CompactMeetingCountdown`, not imported anywhere. DEBT-0454 (setInterval issue) and DEBT-3159 (hardcoded placeholder) hit the file but do not identify it as dead/delete-worthy.                                                                                                                                                        |
| COMP-089 | S3       | `resources-page.tsx:596,796,827`                           | Three underscore-prefixed dead functions never called. No DEBT entry found.                                                                                                                                                                                                                                                                                       |
| COMP-090 | S3       | `resources-page.tsx:78`                                    | Local `isSameDay` reimplemented â€” `date-fns` already imported. No DEBT entry found.                                                                                                                                                                                                                                                                               |
| COMP-092 | S3       | `today-page.tsx:639,665`                                   | Debug `console.log("ðŸ’¾ Attempting to save:")` in dev guard. DEBT-0436 covers "Debug console.log statements in production code" on the same file but doesn't pinpoint this specific line. Close but not specific enough to call tracked.                                                                                                                           |
| COMP-093 | S3       | `lib/firebase.ts:40`                                       | `let \_appCheck: AppCheck                                                                                                                                                                                                                                                                                                                                         | undefined`exported but always`undefined`. No DEBT entry found. |
| COMP-094 | S3       | `lib/utils/errors.ts`, `callable-errors.ts`                | Two parallel error utilities; `errors.ts` consumed only by `storage.ts`. DEBT-0843 covers console statements in `callable-errors.ts`; no DEBT covers the merge-to-`error-utils.ts` refactor.                                                                                                                                                                      |
| COMP-095 | S3       | `functions/src/admin.ts:3374`                              | Admin password reset returns distinct "No user found" â€” user enumeration. No DEBT entry found.                                                                                                                                                                                                                                                                    |
| COMP-096 | S3       | `firebase.json`                                            | Missing `Cross-Origin-Embedder-Policy` header. DEBT-0088 covers missing security headers in general (`firebase.json`) but specifically lists CSP, X-Frame-Options, HSTS â€” COEP may be included or may need separate entry. Listed here as "New" since COMP-096 is specifically about documenting the _intentional_ COEP absence due to reCAPTCHA incompatibility. |
| COMP-098 | S3       | `functions/src/firestore-rate-limiter.ts:39`               | Rate limit document IDs contain raw Firebase UID and IP â€” should be hashed. DEBT-3169 covers "console.warn leaks un-hashed user ID in logs" which is related but different (logs vs doc IDs).                                                                                                                                                                     |
| COMP-099 | S3       | `app/admin/page.tsx:36`                                    | Mobile block via user-agent â€” security theater; needs clarifying comment. No DEBT entry found.                                                                                                                                                                                                                                                                    |
| COMP-100 | S3       | `functions/src/admin.ts:286`                               | `searchUsersByNickname` prefix query has no input length validation. No DEBT entry found.                                                                                                                                                                                                                                                                         |
| COMP-103 | S3       | `.husky/pre-commit`, `.husky/pre-push`                     | `require_skip_reason()` function (40+ lines) duplicated verbatim in both hook files. No DEBT entry found.                                                                                                                                                                                                                                                         |
| COMP-105 | S3       | `package.json` (96â€“101 scripts)                            | No `npm run help`, no grouping, no discoverability. No DEBT entry found.                                                                                                                                                                                                                                                                                          |
| COMP-106 | S3       | `package.json` dev script                                  | `next dev` without `--turbopack`. No DEBT entry found (DEBT-3144 covers a Next.js build warning, not Turbopack).                                                                                                                                                                                                                                                  |
| COMP-107 | S3       | Test pipeline                                              | 3-step test compilation adds 10â€“20s overhead. DEBT-1931 covers TypeScript rebuild overhead; COMP-107 proposes full Vitest migration which is a broader fix not tracked.                                                                                                                                                                                           |
| COMP-108 | S3       | `package.json`                                             | No `type-check` npm script alias. DEBT-2011 covers "Firebase functions TypeScript not type-checked in pre-push"; no DEBT covers the missing `type-check` script alias in root `package.json`.                                                                                                                                                                     |
| COMP-109 | S3       | repo root                                                  | `nul` Windows artifact file committed to repo. No DEBT entry found.                                                                                                                                                                                                                                                                                               |
| COMP-110 | S3       | `tsconfig.json`                                            | `"incremental": true` with `"noEmit": true` â€” redundant. DEBT-1929 covers "TypeScript full project type check on every push"; not the same as the tsconfig redundancy.                                                                                                                                                                                            |
| COMP-111 | S3       | (no i18n framework)                                        | No i18n infrastructure â€” all strings hardcoded in English. No DEBT entry found.                                                                                                                                                                                                                                                                                   |
| COMP-112 | S3       | `components/journal/lock-screen.tsx`                       | Journal lock screen exists but is never imported or rendered. No DEBT entry found.                                                                                                                                                                                                                                                                                |
| COMP-113 | S3       | `notebook-shell.tsx:1132`                                  | Swipe navigation has no visual affordance. No DEBT entry found.                                                                                                                                                                                                                                                                                                   |

---

## Possibly Related (manual review needed)

These COMP findings have partial DEBT overlap â€” same file or similar theme, but
the specific issue in the COMP finding is a distinct sub-problem not fully
captured by the DEBT entry.

| COMP ID  | Possible DEBT Match                                                   | Similarity                                | Notes                                                                                                                                                                                                                                                                               |
| -------- | --------------------------------------------------------------------- | ----------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| COMP-002 | DEBT-1444 (ARCHITECTURE.md outdated by 23 days)                       | Same file, different specifics            | COMP-002 is specifically about the Firestore rules diagram showing direct writes as allowed, which contradicts the actual `if false` rules. DEBT-1444 captures general staleness. Consider linking COMP-002 as a sub-issue of DEBT-1444 rather than a new entry.                    |
| COMP-003 | DEBT-0063 (TodayPage re-subscribes on journalEntry change)            | Same file, partial overlap                | COMP-003 includes the stale `referenceDate` after midnight â€” not covered by any DEBT entry. The keystroke re-subscription is tracked in DEBT-0063 and DEBT-3158. The stale midnight date is genuinely new.                                                                          |
| COMP-012 | DEBT-0773 (Mark props as read-only in tab-navigation.tsx)             | Same file                                 | DEBT-0773 is SonarCloud noise; COMP-012 is a full accessibility overhaul (ARIA roles, keyboard nav). No existing DEBT captures the ARIA gap.                                                                                                                                        |
| COMP-016 | DEBT-0026, DEBT-0781                                                  | Same file (`check-pattern-compliance.js`) | 72 DEBT entries on this file, mostly SonarCloud noise. COMP-016's "extract to JSON config + decompose" structural fix is not captured. The `eslint-disable complexity` escape hatch is also not tracked.                                                                            |
| COMP-017 | DEBT-2141 (No visual regression testing despite Playwright)           | Same root observation                     | DEBT-2141 flags visual regression testing only; COMP-017 covers the full E2E absence (no playwright.config.ts, no test files, no npm scripts). Broader scope than DEBT-2141.                                                                                                        |
| COMP-018 | DEBT-2098 (Firebase deployment has no success validation)             | Same workflow, adjacent issue             | DEBT-2098 is about post-deploy validation; COMP-018 is about the missing `needs: lint-typecheck-test` pre-deploy gate. Recommend tracking as separate DEBT item since they have different fixes.                                                                                    |
| COMP-020 | DEBT-1938 (Session start hooks add 2-5s latency)                      | Same symptom, different scope             | DEBT-1938 is a general observation with no specific fix. COMP-020 identifies 7 specific blocking calls and async solutions. Worth a new DEBT entry pointing to DEBT-1938 as related.                                                                                                |
| COMP-022 | DEBT-1141 (Prefer `Number.parseInt` in aggregate-audit-findings.js)   | Same file, trivial DEBT entry             | COMP-022's god-script decomposition finding (25+ functions, no structural guards) is far broader than the SonarCloud parseInt finding. The decomposition finding is new.                                                                                                            |
| COMP-040 | DEBT-3140 (Total bundle size 15.5MB â€” 8.2MB from unoptimized images)  | Same problem, different fix               | DEBT-3140 identifies the problem; COMP-040's specific fix (WebP conversion + delete unused gemini images) adds actionable resolution steps not in DEBT-3140.                                                                                                                        |
| COMP-051 | DEBT-1938 (Session start hooks add 2-5s latency)                      | Overlapping theme                         | DEBT-1938 covers session-start hooks; COMP-051 is specifically PostToolUse hooks (different trigger). Recommend new DEBT linked to DEBT-1938 as related.                                                                                                                            |
| COMP-075 | DEBT-3188 (Inline SVG data URIs in `book-cover.tsx`)                  | Similar pattern, different file           | COMP-075 is specifically `notebook-shell.tsx` spine SVG recomputed every render. DEBT-3188 covers `book-cover.tsx`. Same anti-pattern, different component â€” recommend linking.                                                                                                     |
| COMP-077 | DEBT-2029 (Add commit message validation hook)                        | Overlapping area (release workflow)       | COMP-077 is about CHANGELOG + release tagging + `release-please-action`. DEBT-2029 is about commit message format validation. Related workflow area but different issue.                                                                                                            |
| COMP-084 | DEBT-0454, DEBT-3159                                                  | Same file (`meeting-countdown.tsx`)       | DEBT-0454 (setInterval without visibility check) and DEBT-3159 (hardcoded placeholder) are code quality issues in the file. COMP-084's finding is that the entire file is dead code (never imported) â€” a stronger claim that supersedes these.                                      |
| COMP-092 | DEBT-0436, DEBT-0533, DEBT-3156                                       | Same file, same category (debug logs)     | COMP-092 pinpoints line 639/665 specifically. The existing DEBT entries cover debug logs in `today-page.tsx` broadly. If the specific `console.log("ðŸ’¾ Attempting to save:")` is captured under these, it's already tracked. Recommend verifying against DEBT-0436 before intaking. |
| COMP-094 | DEBT-0843 (Console statements in error paths in `callable-errors.ts`) | Same file                                 | COMP-094's issue is the parallel error utility pattern (merge `errors.ts` + `callable-errors.ts`). DEBT-0843 is a symptom. Different root-cause framing.                                                                                                                            |
| COMP-096 | DEBT-0088 (Missing critical security headers in firebase.json)        | Same file, overlapping scope              | DEBT-0088 lists CSP, X-Frame-Options, HSTS, Referrer-Policy, Permissions-Policy â€” COEP may be implicitly included. Review DEBT-0088's description before intaking COMP-096 separately. If COEP is not in DEBT-0088's scope, add as sub-finding.                                     |
| COMP-098 | DEBT-3169 (Rate limiter console.warn leaks un-hashed user ID in logs) | Same file, related PII issue              | COMP-098 is about document IDs containing raw UID/IP; DEBT-3169 is about console.warn leaking un-hashed UID. Same file, same theme (PII in rate limiter), different vectors.                                                                                                        |
| COMP-102 | DEBT-2538 (State JSONL files growing without bounds)                  | Same pattern, different file              | COMP-102 is `.git/hook-output.log`; DEBT-2538 is `.claude/state/reviews.jsonl`. Same "unbounded log growth" pattern. May be worth tracking together or as a follow-on DEBT.                                                                                                         |

---

## Summary Statistics

| Category                         | Count                                                                                                                                                                              |
| -------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Already Tracked (skip intake)    | 37                                                                                                                                                                                 |
| New Findings (proceed to intake) | 63                                                                                                                                                                                 |
| Possibly Related (manual review) | 18                                                                                                                                                                                 |
| **Total COMP findings**          | **115** (note: COMP-008 and COMP-060 cover the same gap from different angles; COMP-085 is the code-quality view of COMP-041; COMP-052 and COMP-106 are identical turbopack fixes) |

**Intake recommendation:** Of the 61 "New Findings," prioritize S1 items first
(COMP-007, COMP-008/COMP-060, COMP-012, COMP-013, COMP-017, COMP-018, COMP-020,
COMP-021, COMP-024) as these have no tracking at all.

**Notable:** COMP-039 (`wood-table.jpg` preload) matches DEBT-3867 which is a
NEW-status entry â€” verify whether intake is already in progress before adding a
duplicate.

---

_Generated: 2026-02-22 by manual cross-reference of
COMPREHENSIVE_AUDIT_REPORT.md against MASTER_DEBT.jsonl (4,503 entries)_
